!function(){function m(a,b){a.prototype=function(b){function a(){}return a.prototype=b,new a}(b.prototype),a.prototype.constructor=a,a.base=b.prototype}function H(a,b){var c=!1;for(0>a&&(c=!0,a*=-1),a=""+a,b=b||1;a.length<b;)a="0"+a;return c?"-"+a:a}function I(a){if(!a)return a;for(var c=/\s/,b=(a=a.replace(/^\s\s*/,"")).length;c.test(a.charAt(--b)););return a.slice(0,b+1)}function J(a){a.roundRect=function(a,b,d,e,c,h,f,g){f&&(this.fillStyle=f),g&&(this.strokeStyle=g),void 0===c&&(c=5),this.lineWidth=h,this.beginPath(),this.moveTo(a+c,b),this.lineTo(a+d-c,b),this.quadraticCurveTo(a+d,b,a+d,b+c),this.lineTo(a+d,b+e-c),this.quadraticCurveTo(a+d,b+e,a+d-c,b+e),this.lineTo(a+c,b+e),this.quadraticCurveTo(a,b+e,a,b+e-c),this.lineTo(a,b+c),this.quadraticCurveTo(a,b,a+c,b),this.closePath(),f&&this.fill(),g&&0<h&&this.stroke()}}function K(a,b){return a-b}function L(a){var b=((16711680&a)>>16).toString(16),c=((65280&a)>>8).toString(16);return a=((255&a)>>0).toString(16),"#"+(b=2>b.length?"0"+b:b)+(c=2>c.length?"0"+c:c)+(a=2>a.length?"0"+a:a)}function M(c,d){var a,b=this.length>>>0;for(0>(a=0>(a=Number(d)||0)?Math.ceil(a):Math.floor(a))&&(a+=b);a<b;a++)if(a in this&&this[a]===c)return a;return -1}function N(a){return a.indexOf||(a.indexOf=M),a}function O(d,b,c){var e=d+"_"+b+"_"+(c=c||"normal"),a=ai[e];if(isNaN(a)){try{if(!$){var f=document.body;($=document.createElement("span")).innerHTML="";var g=document.createTextNode("Mpgyi");$.appendChild(g),f.appendChild($)}$.style.display="",V($,{position:"absolute",left:"0px",top:"-20000px",padding:"0px",margin:"0px",border:"none",whiteSpace:"pre",lineHeight:"normal",fontFamily:d,fontSize:b+"px",fontWeight:c}),a=Math.round($.offsetHeight),$.style.display="none"}catch(h){a=Math.ceil(1.1*b)}a=Math.max(a,b),ai[e]=a}return a}function P(c,d){var a=[];if(a=({solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]})[c||"solid"])for(var b=0;b<a.length;b++)a[b]*=d;else a=[];return a}function Q(b,d,e,a,c){var f;return a=a||[],c=null==c?!!ah&&{passive:!1,capture:!1}:c,a.push([b,d,e,c]),b.addEventListener?(b.addEventListener(d,e,c),e):!!b.attachEvent&&(a=function(a){(a=a||window.event).preventDefault=a.preventDefault||function(){a.returnValue=!1},a.stopPropagation=a.stopPropagation||function(){a.cancelBubble=!0},e.call(b,a)},b.attachEvent("on"+d,a),a)}function R(a,c,b){for(a*=ap,c*=ap,a=b.getImageData(a,c,2,2).data,c=!0,b=0;4>b;b++)if(a[b]!==a[b+4]|a[b]!==a[b+8]|a[b]!==a[b+12]){c=!1;break}return c?a[0]<<16|a[1]<<8|a[2]:0}function S(a,b,c){return a in b?b[a]:c[a]}function T(a,c,d){if(f&&D){var b=a.getContext("2d");ap=E/(F=b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1),a.width=c*ap,a.height=d*ap,E!==F&&(a.style.width=c+"px",a.style.height=d+"px",b.scale(ap,ap))}else a.width=c,a.height=d}function U(b,c){aa&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var a=document.createElement("canvas");return a.setAttribute("class","canvasjs-chart-canvas"),T(a,b,c),f||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(a),a}function V(c,a){for(var b in a)c.style[b]=a[b]}function W(c,a,b){a.getAttribute("state")||(a.style.backgroundColor=c.toolbar.itemBackgroundColor,a.style.color=c.toolbar.fontColor,a.style.border="none",V(a,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),a.getAttribute("state")!==b&&(a.setAttribute("state",b),a.setAttribute("type","button"),V(a,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),a.setAttribute("title",c._cultureInfo[b+"Text"]),a.innerHTML="<img src='"+as[b].image+"' alt='"+c._cultureInfo[b+"Text"]+"' />",V(a.childNodes[0],{height:"95%",pointerEvents:"none"}))}function X(){for(var b=null,a=0;a<arguments.length;a++)(b=arguments[a]).style&&(b.style.display="inline")}function Y(){for(var a=null,b=0;b<arguments.length;b++)(a=arguments[b])&&a.style&&(a.style.display="none")}function Z(a,b,c,d,e){return null==a?void 0===c?b:c:(a=parseFloat(a.toString())*(0<=a.toString().indexOf("%")?b/100:1),void 0!==d&&(a=Math.min(d,a),void 0!==e&&(a=Math.max(e,a))),!isNaN(a)&&a<=b&&0<=a?a:void 0===c?b:c)}function d(a,b,d,c,e){var f,g,h,i;this._defaultsKey=a,this._themeOptionsKey=b,this._index=c,this.parent=e,this._eventListeners=[],a={},this.theme&&null==this.parent&&null==b&&null==c?a=null==this.predefinedThemes[this.theme]?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[b]&&(null===c?a=this.parent.themeOptions[b]:0<this.parent.themeOptions[b].length&&(c=Math.min(this.parent.themeOptions[b].length-1,c),a=this.parent.themeOptions[b][c])),this.themeOptions=a,this.options=d||{_isPlaceholder:!0},this.setOptions(this.options,a)}function n(b,c,d,e,a){void 0===a&&(a=0),this._padding=a,this._x1=b,this._y1=c,this._x2=d,this._y2=e,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function k(a,b){k.base.constructor.call(this,"TextBlock",null,b,null,null),this.ctx=a,this._isDirty=!0,this._wrappedText=null,this._initialize()}function u(a,b){u.base.constructor.call(this,"Toolbar","toolbar",b,null,a),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function _(c,d){if(_.base.constructor.call(this,"Title","title",d,null,c),this.chart=c,this.canvas=c.canvas,this.ctx=this.chart.ctx,this.optionsName="title",null==this.options.margin&&c.options.subtitles){for(var e,f,g,b=c.options.subtitles,a=0;a<b.length;a++)if((null==b[a].horizontalAlign&&"center"===this.horizontalAlign||b[a].horizontalAlign===this.horizontalAlign)&&(null==b[a].verticalAlign&&"top"===this.verticalAlign||b[a].verticalAlign===this.verticalAlign)&& !b[a].dockInsidePlotArea== !this.dockInsidePlotArea){this.margin=0;break}}void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function p(a,b,c){p.base.constructor.call(this,"Subtitle","subtitles",b,c,a),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function s(){this.pool=[]}function v(a){var b;a&&ad[a]&&(b=ad[a]),v.base.constructor.call(this,"CultureInfo",null,b,null,null)}var b,e,c,g,i,aa=!1,ab={},f=!!document.createElement("canvas").getContext,ac={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditHref:"",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly",selectedColorSet:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:f?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:f?"transparent":null,borderColor:f?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:f?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",updated:null,hidden:null,publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:f?"transparent":null,titleBorderColor:f?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:f?"transparent":null,labelBorderColor:f?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",labelTextAlign:"left",prefix:"",suffix:"",includeZero:!1,tickLength:5,tickColor:"black",tickThickness:1,tickPlacement:"outside",lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"#A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:f?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:f?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:f?"grey":null,labelBorderColor:f?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:f?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,updated:null,hidden:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelTextAlign:"left",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:f?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:f?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",textAlign:"left",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},ad={en:{}},a=f?"Trebuchet MS, Helvetica, sans-serif":"Arial",l=f?"Impact, Charcoal, sans-serif":"Arial",ae={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},q={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:l,fontSize:32,fontColor:e="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:l,fontSize:h=14,fontColor:e,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:a,indexLabelFontSize:h,indexLabelFontColor:e,indexLabelFontWeight:"normal",indexLabelLineThickness:1},],axisX:[{titleFontFamily:a,titleFontSize:o=20,titleFontColor:e,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:h,labelFontColor:c="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:b="#666666",tickThickness:1,tickColor:b,gridThickness:0,gridColor:b,stripLines:[{labelFontFamily:a,labelFontSize:h,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1},],crosshair:{labelFontFamily:a,labelFontSize:h,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:i=g="#000000",color:g,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}},],axisX2:[{titleFontFamily:a,titleFontSize:o,titleFontColor:e,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:h,labelFontColor:c,labelFontWeight:"normal",lineThickness:1,lineColor:b,tickThickness:1,tickColor:b,gridThickness:0,gridColor:b,stripLines:[{labelFontFamily:a,labelFontSize:h,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1},],crosshair:{labelFontFamily:a,labelFontSize:h,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:i,color:g,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}},],axisY:[{titleFontFamily:a,titleFontSize:o,titleFontColor:e,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:h,labelFontColor:c,labelFontWeight:"normal",lineThickness:1,lineColor:b,tickThickness:1,tickColor:b,gridThickness:1,gridColor:b,stripLines:[{labelFontFamily:a,labelFontSize:h,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1},],crosshair:{labelFontFamily:a,labelFontSize:h,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:i,color:g,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}},],axisY2:[{titleFontFamily:a,titleFontSize:o,titleFontColor:e,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:h,labelFontColor:c,labelFontWeight:"normal",lineThickness:1,lineColor:b,tickThickness:1,tickColor:b,gridThickness:1,gridColor:b,stripLines:[{labelFontFamily:a,labelFontSize:h,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1},],crosshair:{labelFontFamily:a,labelFontSize:h,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:i,color:g,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}},],legend:{fontFamily:a,fontSize:14,fontColor:e,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:a,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};c=e="#F5F5F5",b="#FFFFFF",g="#40BAF1",i="#F5F5F5";var w,x,y,z,A,B,C,t={colorSet:"colorSet2",title:{fontFamily:a,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:a,fontSize:h=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:a,indexLabelFontSize:h,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1},],axisX:[{titleFontFamily:a,titleFontSize:o=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:a,labelFontSize:h,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:a,labelFontSize:h,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1},],crosshair:{labelFontFamily:a,labelFontSize:h,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}},],axisX2:[{titleFontFamily:a,titleFontSize:o,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:a,labelFontSize:h,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:a,labelFontSize:h,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1},],crosshair:{labelFontFamily:a,labelFontSize:h,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}},],axisY:[{titleFontFamily:a,titleFontSize:o,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:a,labelFontSize:h,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:a,labelFontSize:h,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1},],crosshair:{labelFontFamily:a,labelFontSize:h,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}},],axisY2:[{titleFontFamily:a,titleFontSize:o,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:a,labelFontSize:h,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:a,labelFontSize:h,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1},],crosshair:{labelFontFamily:a,labelFontSize:h,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}},],legend:{fontFamily:a,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:a,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};c=e="#F5F5F5",l={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:l,fontSize:32,fontColor:e,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:l,fontSize:h=14,fontColor:e,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:a,indexLabelFontSize:h,indexLabelFontColor:c,indexLabelFontWeight:"normal",indexLabelLineThickness:1},],axisX:[{titleFontFamily:a,titleFontSize:o=20,titleFontColor:c,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:h,labelFontColor:c,labelFontWeight:"normal",lineThickness:1,lineColor:b="#FFFFFF",tickThickness:1,tickColor:b,gridThickness:0,gridColor:b,stripLines:[{labelFontFamily:a,labelFontSize:h,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1},],crosshair:{labelFontFamily:a,labelFontSize:h,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:i="#F5F5F5",color:g="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}},],axisX2:[{titleFontFamily:a,titleFontSize:o,titleFontColor:c,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:h,labelFontColor:c,labelFontWeight:"normal",lineThickness:1,lineColor:b,tickThickness:1,tickColor:b,gridThickness:0,gridColor:b,stripLines:[{labelFontFamily:a,labelFontSize:h,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1},],crosshair:{labelFontFamily:a,labelFontSize:h,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:i,color:g,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}},],axisY:[{titleFontFamily:a,titleFontSize:o,titleFontColor:c,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:h,labelFontColor:c,labelFontWeight:"normal",lineThickness:1,lineColor:b,tickThickness:1,tickColor:b,gridThickness:1,gridColor:b,stripLines:[{labelFontFamily:a,labelFontSize:h,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1},],crosshair:{labelFontFamily:a,labelFontSize:h,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:i,color:g,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}},],axisY2:[{titleFontFamily:a,titleFontSize:o,titleFontColor:c,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:h,labelFontColor:c,labelFontWeight:"normal",lineThickness:1,lineColor:b,tickThickness:1,tickColor:b,gridThickness:1,gridColor:b,stripLines:[{labelFontFamily:a,labelFontSize:h,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1},],crosshair:{labelFontFamily:a,labelFontSize:h,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:i,color:g,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}},],legend:{fontFamily:a,fontSize:14,fontColor:e,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:a,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:c,backgroundColor:"rgba(0, 0, 0, .7)"}},c=e="#FAFAFA";var o,h,af={light1:q,light2:t,dark1:l,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:a,fontSize:32,fontColor:e,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:a,fontSize:h=14,fontColor:e,fontWeight:"normal",verticalAlign:"top",margin:5},],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:a,indexLabelFontSize:h,indexLabelFontColor:c,indexLabelFontWeight:"normal",indexLabelLineThickness:1},],axisX:[{titleFontFamily:a,titleFontSize:o=20,titleFontColor:c,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:h,labelFontColor:c,labelFontWeight:"normal",lineThickness:1,lineColor:b="#FFFFFF",tickThickness:1,tickColor:b,gridThickness:0,gridColor:b,stripLines:[{labelFontFamily:a,labelFontSize:h,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1},],crosshair:{labelFontFamily:a,labelFontSize:h,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:i="#F5F5F5",color:g="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}},],axisX2:[{titleFontFamily:a,titleFontSize:o,titleFontColor:c,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:h,labelFontColor:c,labelFontWeight:"normal",lineThickness:1,lineColor:b,tickThickness:1,tickColor:b,gridThickness:0,gridColor:b,stripLines:[{labelFontFamily:a,labelFontSize:h,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1},],crosshair:{labelFontFamily:a,labelFontSize:h,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:i,color:g,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}},],axisY:[{titleFontFamily:a,titleFontSize:o,titleFontColor:c,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:h,labelFontColor:c,labelFontWeight:"normal",lineThickness:0,lineColor:b,tickThickness:1,tickColor:b,gridThickness:1,gridColor:b,stripLines:[{labelFontFamily:a,labelFontSize:h,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1},],crosshair:{labelFontFamily:a,labelFontSize:h,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:i,color:g,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}},],axisY2:[{titleFontFamily:a,titleFontSize:o,titleFontColor:c,titleFontWeight:"normal",labelFontFamily:a,labelFontSize:h,labelFontColor:c,labelFontWeight:"normal",lineThickness:0,lineColor:b,tickThickness:1,tickColor:b,gridThickness:1,gridColor:b,stripLines:[{labelFontFamily:a,labelFontSize:h,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1},],crosshair:{labelFontFamily:a,labelFontSize:h,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:i,color:g,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}},],legend:{fontFamily:a,fontSize:14,fontColor:e,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:a,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:c,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:q,theme2:t,theme3:q},ag={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},ah=function(){var a=!1;try{var b=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){return a=!0,!1}});window.addEventListener&&(window.addEventListener("test",null,b),window.removeEventListener("test",null,b))}catch(c){a=!1}return a}(),ai={},$=null,aj=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},ak=function(a){a.width=1,a.height=1,a.getContext("2d")&&a.getContext("2d").clearRect(0,0,1,1)},al=function(b,a,c){return a=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=a?12:11,Math.round(a*(b/400)))},am=(w=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,x="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),y="Sun Mon Tue Wed Thu Fri Sat".split(" "),z="January February March April May June July August September October November December".split(" "),A="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),B=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,C=/[^-+\dA-Z]/g,function(b,c,a){var e=a?a.days:x,f=a?a.months:z,g=a?a.shortDays:y,h=a?a.shortMonths:A;a="";var d=!1;if(b=b&&b.getTime?b:b?new Date(b):new Date,isNaN(b))throw SyntaxError("invalid date");"UTC:"===c.slice(0,4)&&(c=c.slice(4),d=!0);var i=b[(a=d?"getUTC":"get")+"Date"](),j=b[a+"Day"](),k=b[a+"Month"](),l=b[a+"FullYear"](),m=b[a+"Hours"](),n=b[a+"Minutes"](),o=b[a+"Seconds"](),p=b[a+"Milliseconds"](),q=d?0:b.getTimezoneOffset();return c.replace(w,function(a){switch(a){case"D":return i;case"DD":return H(i,2);case"DDD":return g[j];case"DDDD":return e[j];case"M":return k+1;case"MM":return H(k+1,2);case"MMM":return h[k];case"MMMM":return f[k];case"Y":return parseInt(String(l).slice(-2));case"YY":return H(String(l).slice(-2),2);case"YYY":return H(String(l).slice(-3),3);case"YYYY":return H(l,4);case"h":return m%12||12;case"hh":return H(m%12||12,2);case"H":return m;case"HH":return H(m,2);case"m":return n;case"mm":return H(n,2);case"s":return o;case"ss":return H(o,2);case"f":return H(String(p),3).slice(0,1);case"ff":return H(String(p),3).slice(0,2);case"fff":return H(String(p),3).slice(0,3);case"t":return 12>m?"a":"p";case"tt":return 12>m?"am":"pm";case"T":return 12>m?"A":"P";case"TT":return 12>m?"AM":"PM";case"K":return d?"UTC":(String(b).match(B)||[""]).pop().replace(C,"");case"z":return(0<q?"-":"+")+Math.floor(Math.abs(q)/60);case"zz":return(0<q?"-":"+")+H(Math.floor(Math.abs(q)/60),2);case"zzz":return(0<q?"-":"+")+H(Math.floor(Math.abs(q)/60),2)+H(Math.abs(q)%60,2);default:return a.slice(1,a.length-1)}})}),an=function(d,a,b){if(null===d)return"";if(!isFinite(d))return d;var q=0>(d=Number(d));q&&(d*=-1);var r=b?b.decimalSeparator:".",e=b?b.digitGroupSeparator:",",c="";a=String(a),c=1;var f=b="",i=-1,j=[],o=[],m=0,k=0,p=0,h=!1,n=0;f=a.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g),a=null;for(var g=0;f&&g<f.length;g++)if("."===(a=f[g])&&0>i)i=g;else{if("%"===a)c*=100;else{if("\u2030"===a){c*=1e3;continue}if(","===a[0]&&"."===a[a.length-1]){c/=Math.pow(1e3,a.length-1),i=g+a.length-1;continue}"E"!==a[0]&&"e"!==a[0]||"0"!==a[a.length-1]||(h=!0)}0>i?(j.push(a),"#"===a||"0"===a?m++:","===a&&p++):(o.push(a),"#"!==a&&"0"!==a||k++)}for(h&&(a=Math.floor(d),f=-Math.floor(Math.log(d)/Math.LN10+1),n=0===d?0:0===a?-(m+f):String(a).length-m,c/=Math.pow(10,n)),0>i&&(i=g),c=((a=(c=(d*c).toFixed(k)).split("."))[0]+"").split(""),d=(a[1]+"").split(""),c&&"0"===c[0]&&c.shift(),h=f=g=k=i=0;0<j.length;)if("#"===(a=j.pop())||"0"===a){if(++i===m){var l=c;if(c=[],"0"===a)for(a=m-k-(l?l.length:0);0<a;)l.unshift("0"),a--;for(;0<l.length;)b=l.pop()+b,0== ++h%f&&g===p&&0<l.length&&(b=e+b)}else 0<c.length?(b=c.pop()+b,k++,h++):"0"===a&&(b="0"+b,k++,h++),0==h%f&&g===p&&0<c.length&&(b=e+b)}else("E"===a[0]||"e"===a[0])&&"0"===a[a.length-1]&&/[eE][+-]*[0]+/.test(a)?b+=(a=0>n?a.replace("+","").replace("-",""):a.replace("-","")).replace(/[0]+/,function(a){return H(n,a.length)}):","===a?(g++,f=h,h=0,0<c.length&&(b=e+b)):b=1<a.length&&('"'===a[0]&&'"'===a[a.length-1]||"'"===a[0]&&"'"===a[a.length-1])?a.slice(1,a.length-1)+b:a+b;for(e="",j=!1;0<o.length;)"#"===(a=o.shift())||"0"===a?0<d.length&&0!==Number(d.join(""))?(e+=d.shift(),j=!0):"0"===a&&(e+="0",j=!0):1<a.length&&('"'===a[0]&&'"'===a[a.length-1]||"'"===a[0]&&"'"===a[a.length-1])?e+=a.slice(1,a.length-1):("E"===a[0]||"e"===a[0])&&"0"===a[a.length-1]&&/[eE][+-]*[0]+/.test(a)?e+=(a=0>n?a.replace("+","").replace("-",""):a.replace("-","")).replace(/[0]+/,function(a){return H(n,a.length)}):e+=a;return b+=(j?r:"")+e,q?"-"+b:b},ao=function(a){var b=0,c=0;return(a=a||window.event).offsetX||0===a.offsetX?(b=a.offsetX,c=a.offsetY):a.layerX||0==a.layerX?(b=a.layerX,c=a.layerY):(b=a.pageX-a.target.offsetLeft,c=a.pageY-a.target.offsetTop),{x:b,y:c}},D=!0,E=window.devicePixelRatio||1,F=1,ap=D?E/F:1,aq=function(a,b,c,f,g,i,d,j,k,l,m,n,h){void 0===h&&(h=1),d=d||0,j=j||"black";var e=15<f-b&&15<g-c?8:.35*Math.min(f-b,g-c);a.beginPath(),a.moveTo(b,c),a.save(),a.fillStyle=i,a.globalAlpha=h,a.fillRect(b,c,f-b,g-c),a.globalAlpha=1,0<d&&(h=0==d%2?0:.5,a.beginPath(),a.lineWidth=d,a.strokeStyle=j,a.moveTo(b,c),a.rect(b-h,c-h,f-b+2*h,g-c+2*h),a.stroke()),a.restore(),!0===k&&(a.save(),a.beginPath(),a.moveTo(b,c),a.lineTo(b+e,c+e),a.lineTo(f-e,c+e),a.lineTo(f,c),a.closePath(),(d=a.createLinearGradient((f+b)/2,c+e,(f+b)/2,c)).addColorStop(0,i),d.addColorStop(1,"rgba(255, 255, 255, .4)"),a.fillStyle=d,a.fill(),a.restore()),!0===l&&(a.save(),a.beginPath(),a.moveTo(b,g),a.lineTo(b+e,g-e),a.lineTo(f-e,g-e),a.lineTo(f,g),a.closePath(),(d=a.createLinearGradient((f+b)/2,g-e,(f+b)/2,g)).addColorStop(0,i),d.addColorStop(1,"rgba(255, 255, 255, .4)"),a.fillStyle=d,a.fill(),a.restore()),!0===m&&(a.save(),a.beginPath(),a.moveTo(b,c),a.lineTo(b+e,c+e),a.lineTo(b+e,g-e),a.lineTo(b,g),a.closePath(),(d=a.createLinearGradient(b+e,(g+c)/2,b,(g+c)/2)).addColorStop(0,i),d.addColorStop(1,"rgba(255, 255, 255, 0.1)"),a.fillStyle=d,a.fill(),a.restore()),!0===n&&(a.save(),a.beginPath(),a.moveTo(f,c),a.lineTo(f-e,c+e),a.lineTo(f-e,g-e),a.lineTo(f,g),(d=a.createLinearGradient(f-e,(g+c)/2,f,(g+c)/2)).addColorStop(0,i),d.addColorStop(1,"rgba(255, 255, 255, 0.1)"),a.fillStyle=d,d.addColorStop(0,i),d.addColorStop(1,"rgba(255, 255, 255, 0.1)"),a.fillStyle=d,a.fill(),a.closePath(),a.restore())},j=function(a){for(var c="",b=0;b<a.length;b++)c+=String.fromCharCode(Math.ceil(a.length/57/5)^a.charCodeAt(b));return c},G=window&&window[j("mnb`uhno")]&&window[j("mnb`uhno")].href&&window[j("mnb`uhno")].href.indexOf&&(-1!==window[j("mnb`uhno")].href.indexOf(j("b`ow`rkr/bnl"))|| -1!==window[j("mnb`uhno")].href.indexOf(j("gdonqhy/bnl"))|| -1!==window[j("mnb`uhno")].href.indexOf(j("gheemd"))),ar=G&& -1===window[j("mnb`uhno")].href.indexOf(j("gheemd")),as={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};d.prototype.setOptions=function(b,c){if(ac[this._defaultsKey]){var a,d=ac[this._defaultsKey];for(a in d)"publicProperties"!==a&&d.hasOwnProperty(a)&&(this[a]=b&&a in b?b[a]:c&&a in c?c[a]:d[a])}else aa&&window.console&&console.log("defaults not set")},d.prototype.get=function(a){var b=ac[this._defaultsKey];return"options"===a?this.options&&this.options._isPlaceholder?null:this.options:b.hasOwnProperty(a)||b.publicProperties&&b.publicProperties.hasOwnProperty(a)?this[a]:void(window.console&&window.console.log('Property "'+a+"\" doesn't exist. Please check for typo."))},d.prototype.set=function(a,d,c){c=void 0===c||c;var b=ac[this._defaultsKey];if("options"===a)this.createUserOptions(d);else{if(!(b.hasOwnProperty(a)||b.publicProperties&&b.publicProperties.hasOwnProperty(a)&&"readWrite"===b.publicProperties[a]))return void(window.console&&(b.publicProperties&&b.publicProperties.hasOwnProperty(a)&&"readOnly"===b.publicProperties[a]?window.console.log('Property "'+a+'" is read-only.'):window.console.log('Property "'+a+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[a]=d}c&&(this.stockChart||this.chart||this).render()},d.prototype.addTo=function(a,e,c,d){d=void 0===d||d;var b=ac[this._defaultsKey];b.hasOwnProperty(a)||b.publicProperties&&b.publicProperties.hasOwnProperty(a)&&"readWrite"===b.publicProperties[a]?(this.options._isPlaceholder&&this.createUserOptions(),void 0===this.options[a]&&(this.options[a]=[]),a=this.options[a],c=null==c?a.length:c,a.splice(c,0,e),d&&(this.stockChart||this.chart||this).render()):window.console&&(b.publicProperties&&b.publicProperties.hasOwnProperty(a)&&"readOnly"===b.publicProperties[a]?window.console.log('Property "'+a+'" is read-only.'):window.console.log('Property "'+a+"\" doesn't exist. Please check for typo."))},d.prototype.createUserOptions=function(b){if(void 0!==b||this.options._isPlaceholder){if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var a=this.parent.options[this.optionsName],c=a.length;this.options._isPlaceholder||(N(a),c=a.indexOf(this.options)),this.options=void 0===b?{}:b,a[c]=this.options}else this.options=void 0===b?{}:b,b=this.parent.options,this.optionsName?a=this.optionsName:(a=this._defaultsKey)&&0!==a.length?(c=a.charAt(0).toLowerCase(),1<a.length&&(c=c.concat(a.slice(1))),a=c):a=void 0,b[a]=this.options}},d.prototype.remove=function(a){if(a=void 0===a||a,this.isOptionsInArray){var b=this.parent.options[this.optionsName];N(b);var c=b.indexOf(this.options);0<=c&&b.splice(c,1)}else delete this.parent.options[this.optionsName];a&&(this.stockChart||this.chart||this).render()},d.prototype.updateOption=function(a){!ac[this._defaultsKey]&&aa&&window.console&&console.log("defaults not set");var g,h,i,j,f=ac[this._defaultsKey],b={},d=this[a],c=this._themeOptionsKey,e=this._index;return this.theme&&null==this.parent&&null==c&&null==e?b=null==this.predefinedThemes[this.theme]?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[c]&&(null===e?b=this.parent.themeOptions[c]:0<this.parent.themeOptions[c].length&&(b=Math.min(this.parent.themeOptions[c].length-1,e),b=this.parent.themeOptions[c][b])),this.themeOptions=b,a in f&&(d=a in this.options?this.options[a]:b&&a in b?b[a]:f[a]),d!==this[a]&&(this[a]=d,!0)},d.prototype.trackChanges=function(a){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[a]=this.options[a]},d.prototype.isBeingTracked=function(a){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[a]},d.prototype.hasOptionChanged=function(a){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[a]!==this.options[a]},d.prototype.addEventListener=function(a,b,c){a&&b&&(this._eventListeners[a]=this._eventListeners[a]||[],this._eventListeners[a].push({context:c||this,eventHandler:b}))},d.prototype.removeEventListener=function(b,d){if(b&&d&&this._eventListeners[b]){for(var c=this._eventListeners[b],a=0;a<c.length;a++)if(c[a].eventHandler===d){c[a].splice(a,1);break}}},d.prototype.removeAllEventListeners=function(){this._eventListeners=[]},d.prototype.dispatchEvent=function(a,b,e){if(a&&this._eventListeners[a]){b=b||{};for(var d=this._eventListeners[a],c=0;c<d.length;c++)d[c].eventHandler.call(d[c].context,b)}"function"==typeof this[a]&&this[a].call(e||this.chart,b)},n.prototype.registerSpace=function(a,b){"top"===a?this._topOccupied+=b.height:"bottom"===a?this._bottomOccupied+=b.height:"left"===a?this._leftOccupied+=b.width:"right"===a&&(this._rightOccupied+=b.width)},n.prototype.unRegisterSpace=function(a,b){"top"===a?this._topOccupied-=b.height:"bottom"===a?this._bottomOccupied-=b.height:"left"===a?this._leftOccupied-=b.width:"right"===a&&(this._rightOccupied-=b.width)},n.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},n.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},m(k,d),k.prototype._initialize=function(){var e,a,b,c,d;null==this.padding||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(a=this.padding.top,this.topPadding=null==a?0:0|Number(this.padding.top),b=this.padding.right,this.rightPadding=null==b?0:0|Number(this.padding.right),c=this.padding.bottom,this.bottomPadding=null==c?0:0|Number(this.padding.bottom),d=this.padding.left,this.leftPadding=null==d?0:0|Number(this.padding.left))},k.prototype.render=function(d){if(0!==this.fontSize){d&&this.ctx.save();var f=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var a=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+a),"middle"===this.textBaseline&&(a=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var c=0,e=this.topPadding,b=null;for(this.ctx.roundRect||J(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,a,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,a=0;a<this._wrappedText.lines.length;a++)b=this._wrappedText.lines[a],"right"===this.horizontalAlign||"right"===this.textAlign?c=this.width-b.width-this.rightPadding:"left"===this.horizontalAlign||"left"===this.textAlign?c=this.leftPadding:"center"!==this.horizontalAlign&&"center"!==this.textAlign||(c=(this.width-(this.leftPadding+this.rightPadding))/2-b.width/2+this.leftPadding),this.ctx.fillText(b.text,c,e),e+=b.height;this.ctx.font=f,d&&this.ctx.restore()}},k.prototype.setText=function(a){this.text=a,this._isDirty=!0,this._wrappedText=null},k.prototype.measureText=function(){if(this._lineHeight=O(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},k.prototype._getLineWithWidth=function(b,d,c){if(!(b=String(b)))return{text:"",width:0};var f=c=0,g=b.length-1,e=1/0;for(this.ctx.font=this._getFontString();f<=g;){e=Math.floor((f+g)/2);var a=b.substr(0,e+1);if((c=this.ctx.measureText(a).width)<d)f=e+1;else{if(!(c>d))break;g=e-1}}return c>d&&1<a.length&&(a=a.substr(0,a.length-1),c=this.ctx.measureText(a).width),d=!0,a.length!==b.length&&" "!==b[a.length]||(d=!1),d&&(1<(b=a.split(" ")).length&&b.pop(),a=b.join(" "),c=this.ctx.measureText(a).width),{text:a,width:c}},k.prototype._wrapText=function(){var d=new String(I(String(this.text))),e=[],g=this.ctx.font,b=0,a=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)a=b=0;else for(;0<d.length;){var f=this.maxHeight-(this.topPadding+this.bottomPadding),c=this._getLineWithWidth(d,this.maxWidth-(this.leftPadding+this.rightPadding),!1);c.height=this._lineHeight,e.push(c);var h=a;a=Math.max(a,c.width),b+=c.height,d=I(d.slice(c.text.length,d.length)),f&&b>f&&(b-=(c=e.pop()).height,a=h)}this._wrappedText={lines:e,width:a,height:b},this.width=a+(this.leftPadding+this.rightPadding),this.height=b+(this.topPadding+this.bottomPadding),this.ctx.font=g},k.prototype._getFontString=function(){b=this.fontStyle?this.fontStyle+" ":"",b+=this.fontWeight?this.fontWeight+" ":"",b+=this.fontSize?this.fontSize+"px ":"";var b,a=this.fontFamily?this.fontFamily+"":"";return!f&&a&&"'"!==(a=a.split(",")[0])[0]&&'"'!==a[0]&&(a="'"+a+"'"),b+a},m(u,d),m(_,d),_.prototype.setLayout=function(){if(this.text){var i,d,a,l,m,g=this.dockInsidePlotArea?this.chart.plotArea:this.chart,b=g.layoutManager.getFreeSpace(),e=b.x1,f=b.y1,h=0,c=0,j=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=b.width-4-j*("center"===this.horizontalAlign?2:1)),c=.5*b.height-this.margin-2,h=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=b.height-4),c=.5*b.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=b.width-4),c=.5*b.height-4)),null==this.padding||"number"!=typeof this.padding?null==this.padding||"object"!=typeof this.padding||(a=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,a+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0):a=2*this.padding,this.wrap||(c=Math.min(c,1.5*this.fontSize+a)),a=(c=new k(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:c,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(f=b.y1+2,d="top"):"bottom"===this.verticalAlign&&(f=b.y2-2-a.height,d="bottom"),"left"===this.horizontalAlign?e=b.x1+2:"center"===this.horizontalAlign?e=b.x1+b.width/2-a.width/2:"right"===this.horizontalAlign&&(e=b.x2-2-a.width-j),i=this.horizontalAlign,this.width=a.width,this.height=a.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(e=b.x1+2,f=b.y2-2-(this.maxWidth/2-a.width/2),h=-90,d="left",this.width=a.height,this.height=a.width):"right"===this.horizontalAlign?(e=b.x2-2,f=b.y1+2+(this.maxWidth/2-a.width/2),h=90,d="right",this.width=a.height,this.height=a.width):"center"===this.horizontalAlign&&(f=g.y1+(g.height/2-a.height/2),e=g.x1+(g.width/2-a.width/2),d="center",this.width=a.width,this.height=a.height),i="center"),c.x=e,c.y=f,c.angle=h,c.horizontalAlign=i,this._textBlock=c,g.layoutManager.registerSpace(d,{width:this.width+("left"===d||"right"===d?this.margin+2:0),height:this.height+("top"===d||"bottom"===d?this.margin+2:0)}),this.bounds={x1:e,y1:f,x2:e+this.width,y2:f+this.height},this.ctx.textBaseline="top"}},_.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},m(p,d),p.prototype.setLayout=_.prototype.setLayout,p.prototype.render=_.prototype.render,s.prototype.get=function(b,c){var a=null;return 0<this.pool.length?T(a=this.pool.pop(),b,c):a=U(b,c),a},s.prototype.release=function(a){this.pool.push(a)},m(v,d);var r={addTheme:function(a,b){af[a]=b},addColorSet:function(a,b){ae[a]=b},addCultureInfo:function(a,b){ad[a]=b},formatNumber:function(b,c,a){if(ad[a=a||"en"])return an(b,c||"#,##0.##",new v(a));throw"Unknown Culture Name"},formatDate:function(b,c,a){if(ad[a=a||"en"])return am(b,c||"DD MMM YYYY",new v(a));throw"Unknown Culture Name"}};"undefined"!=typeof module&& void 0!==module.exports?module.exports=r:"function"==typeof define&&define.amd?define([],function(){return r}):(window.CanvasJS&&window.console&&window.console.log("CanvasJS namespace already exists. If you are loading both chart and stockchart scripts, just load stockchart alone as it includes all chart features."),window.CanvasJS=window.CanvasJS?window.CanvasJS:r),(a=r.Chart=function(){function t(a,b){return a.x-b.x}function a(d,b,e){b=b||{},null==e?(this.predefinedThemes=af,this.optionsName=this.parent=this.index=null):(this.parent=e.parent,this.index=e.index,this.predefinedThemes=e.predefinedThemes,this.optionsName=e.optionsName,this.stockChart=e.stockChart,this.panel=d,this.isOptionsInArray=e.isOptionsInArray),i=b.theme,this.theme=null==i||null==this.predefinedThemes[b.theme]?"light1":b.theme,a.base.constructor.call(this,"Chart",this.optionsName,b,this.index,this.parent);var g,i,j,k=this;this._containerId=d,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new s,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId)?(this.container.innerHTML="",b=d=0,d=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,b=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=d,this.height=b,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this.selectedColorSet=void 0!==ae[this.colorSet]?ae[this.colorSet]:ae.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",this._canvasJSContainer.style.direction="ltr",f||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=U(d,b),this._preRenderCanvas=U(d,b),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",J(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",J(this._preRenderCtx),f?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=U(d,b),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=U(d,b),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",J(this.overlaidCanvasCtx)),this._eventManager=new h(this),this.windowResizeHandler=Q(window,"resize",function(){k._updateSize()&&k.render()},this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),V(this._toolBar,{position:"absolute",right:"1px",top:"1px"}),this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},Q(this.overlaidCanvas,"click",function(a){k._mouseEventHandler(a)},this.allDOMEventHandlers),Q(this.overlaidCanvas,"mousemove",function(a){k._mouseEventHandler(a)},this.allDOMEventHandlers),Q(this.overlaidCanvas,"mouseup",function(a){k._mouseEventHandler(a)},this.allDOMEventHandlers),Q(this.overlaidCanvas,"mousedown",function(a){k._mouseEventHandler(a),Y(k._dropdownMenu)},this.allDOMEventHandlers),Q(this.overlaidCanvas,"mouseout",function(a){k._mouseEventHandler(a)},this.allDOMEventHandlers),Q(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(a){k._touchEventHandler(a)},this.allDOMEventHandlers),Q(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(a){k._touchEventHandler(a)},this.allDOMEventHandlers),Q(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(a){k._touchEventHandler(a)},this.allDOMEventHandlers),Q(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(a){k._touchEventHandler(a)},this.allDOMEventHandlers),this.toolTip=new c(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function w(a,i){for(var c,e=[],g=0;g<a.length;g++)if(0==g)e.push(a[0]);else{d=0==(b=g-1)?0:b-1,h=b===a.length-1?b:b+1,c=Math.abs((a[h].x-a[d].x)/(0==a[h].x-a[b].x?.01:a[h].x-a[b].x))*(i-1)/2+1;var d,h,b,f=(a[h].x-a[d].x)/c;c=(a[h].y-a[d].y)/c,e[e.length]=a[b].x>a[d].x&&0<f||a[b].x<a[d].x&&0>f?{x:a[b].x+f/3,y:a[b].y+c/3}:{x:a[b].x,y:a[b].y+c/9},d=0===(b=g)?0:b-1,h=b===a.length-1?b:b+1,c=Math.abs((a[h].x-a[d].x)/(0==a[b].x-a[d].x?.01:a[b].x-a[d].x))*(i-1)/2+1,f=(a[h].x-a[d].x)/c,c=(a[h].y-a[d].y)/c,e[e.length]=a[b].x>a[d].x&&0<f||a[b].x<a[d].x&&0>f?{x:a[b].x-f/3,y:a[b].y-c/3}:{x:a[b].x,y:a[b].y-c/9},e[e.length]=a[g]}return e}function x(a,d,e,f,g,i,c,h,j,l){var b=0;l?(c.color=i,h.color=i):l=1,b=j?Math.abs(g-e):Math.abs(f-d),b=0<c.trimLength?Math.abs(b*c.trimLength/100):Math.abs(b-c.length),j?(e+=b/2,g-=b/2):(d+=b/2,f-=b/2),b=1==Math.round(c.thickness)%2?.5:0;var k=1==Math.round(h.thickness)%2?.5:0;a.save(),a.globalAlpha=l,a.strokeStyle=h.color||i,a.lineWidth=h.thickness||2,a.setLineDash&&a.setLineDash(P(h.dashType,h.thickness)),a.beginPath(),j&&0<h.thickness?(a.moveTo(f-c.thickness/2,Math.round((e+g)/2)-k),a.lineTo(d+c.thickness/2,Math.round((e+g)/2)-k)):0<h.thickness&&(a.moveTo(Math.round((d+f)/2)-k,e+c.thickness/2),a.lineTo(Math.round((d+f)/2)-k,g-c.thickness/2)),a.stroke(),a.strokeStyle=c.color||i,a.lineWidth=c.thickness||2,a.setLineDash&&a.setLineDash(P(c.dashType,c.thickness)),a.beginPath(),j&&0<c.thickness?(a.moveTo(f-b,e),a.lineTo(f-b,g),a.moveTo(d+b,e),a.lineTo(d+b,g)):0<c.thickness&&(a.moveTo(d,e+b),a.lineTo(f,e+b),a.moveTo(d,g-b),a.lineTo(f,g-b)),a.stroke(),a.restore()}function i(a,b){i.base.constructor.call(this,"Legend","legend",b,null,a),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=O(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function e(b,a,c,d){for(e.base.constructor.call(this,"DataSeries","data",a,c,b),this.chart=b,this.canvas=b.canvas,this._ctx=b.canvas.ctx,this.index=c,this.noDataPointsInPlotArea=0,this.id=d,this.chart._eventManager.objectMap[d]={id:d,objectType:"dataSeries",dataSeriesIndex:c},b=a.dataPoints?a.dataPoints.length:0,this.dataPointEOs=[],a=0;a<b;a++)this.dataPointEOs[a]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),void 0===this.options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function b(c,h,e,a,f,d){var i,j,k,l;if(b.base.constructor.call(this,"Axis",h,e,a,c),this.chart=c,this.canvas=c.canvas,this.ctx=c.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===f?("left"===d||"bottom"===d?(this.optionsName="axisX",null==this.chart.sessionVariables.axisX[a]&&(this.chart.sessionVariables.axisX[a]={}),this.sessionVariables=this.chart.sessionVariables.axisX[a]):(this.optionsName="axisX2",null==this.chart.sessionVariables.axisX2[a]&&(this.chart.sessionVariables.axisX2[a]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[a]),this.options.interval||(this.intervalType=null)):"left"===d||"bottom"===d?(this.optionsName="axisY",null==this.chart.sessionVariables.axisY[a]&&(this.chart.sessionVariables.axisY[a]={}),this.sessionVariables=this.chart.sessionVariables.axisY[a]):(this.optionsName="axisY2",null==this.chart.sessionVariables.axisY2[a]&&(this.chart.sessionVariables.axisY2[a]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[a]),void 0===this.options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),void 0===this.options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=f,"axisX"!==f||e&& void 0!==e.gridThickness||(this.gridThickness=0),this._position=d,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new r(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(c=0;c<this.options.stripLines.length;c++)this.stripLines.push(new o(this.chart,this.options.stripLines[c],c,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new g(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function r(a,c,d,b){if(r.base.constructor.call(this,"ScaleBreaks","scaleBreaks",c,null,b),this.id=d,this.chart=a,this.ctx=this.chart.ctx,this.axis=b,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(a=0;a<this.options.customBreaks.length;a++)this.customBreaks.push(new l(this.chart,"customBreaks",this.options.customBreaks[a],a,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[a].startValue&&"number"==typeof this.customBreaks[a].endValue&&this.customBreaks[a].endValue!==this.customBreaks[a].startValue&&this._appliedBreaks.push(this.customBreaks[a]);for(this._appliedBreaks.sort(function(a,b){return a.startValue-b.startValue}),a=0;a<this._appliedBreaks.length-1;a++)this._appliedBreaks[a].endValue>=this._appliedBreaks[a+1].startValue&&(this._appliedBreaks[a].endValue=Math.max(this._appliedBreaks[a].endValue,this._appliedBreaks[a+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+a+" and "+(a+1)+" are overlapping."),this._appliedBreaks.splice(a,2),a--)}}function l(c,d,b,g,h,a){var e,f,i,j;l.base.constructor.call(this,"Break",d,b,g,a),this.id=h,this.chart=c,this.ctx=this.chart.ctx,this.scaleBreaks=a,this.optionsName=d,this.isOptionsInArray=!0,this.type=b.type?this.type:a.type,e=b.fillOpacity,this.fillOpacity=null==e?a.fillOpacity:this.fillOpacity,f=b.lineThickness,this.lineThickness=null==f?a.lineThickness:this.lineThickness,this.color=b.color?this.color:a.color,this.lineColor=b.lineColor?this.lineColor:a.lineColor,this.lineDashType=b.lineDashType?this.lineDashType:a.lineDashType,null!=this.startValue&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),null!=this.endValue&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(c=this.startValue,this.startValue=this.endValue,this.endValue=c),this.spacing=void 0===b.spacing?a.spacing:b.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=a.spacing),this.size=a.parent.logarithmic?1:0}function o(b,c,d,e,a){o.base.constructor.call(this,"StripLine","stripLines",c,d,a),this.id=e,this.chart=b,this.ctx=this.chart.ctx,this.label=this.label,this.axis=a,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=a.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function g(b,c,a){g.base.constructor.call(this,"Crosshair","crosshair",c,null,a),this.chart=b,this.ctx=this.chart.ctx,this.axis=a,this.optionsName="crosshair",this._thicknessType="pixel"}function c(a,b){c.base.constructor.call(this,"ToolTip","toolTip",b,null,a),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function h(a){this.chart=a,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=U(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function q(a){this.chart=a,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}m(a,d),a.prototype.destroy=function(){var b=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var a=0;a<b.length;a++){var c=b[a][0],d=b[a][1],e=b[a][2],f=(f=b[a][3])||!1;c.removeEventListener?c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent("on"+d,e)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.container=this._canvasJSContainer=null,this.toolTip.container=null,this.canvas&&ak(this.canvas),this.overlaidCanvas&&ak(this.overlaidCanvas),this._preRenderCanvas&&ak(this._preRenderCanvas),this._breaksCanvas&&ak(this._breaksCanvas),this._eventManager&&this._eventManager.ghostCanvas&&ak(this._eventManager.ghostCanvas),this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=null},a.prototype._updateOptions=function(){var a=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this.selectedColorSet=void 0!==ae[this.colorSet]?ae[this.colorSet]:ae.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new v(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&f,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.toolbar=new u(this,this.options.toolbar),this.options.zoomEnabled||this.panEnabled){if(this._zoomButton)V(this._zoomButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor}),this._zoomButton.title=this._cultureInfo.zoomText;else{var c=!1;Y(this._zoomButton=document.createElement("button")),W(this,this._zoomButton,"pan"),this._zoomButton.title=this._cultureInfo.panText,this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,Q(this._zoomButton,"touchstart",function(a){c=!0},this.allDOMEventHandlers),Q(this._zoomButton,"click",function(){a.zoomEnabled?(a.zoomEnabled=!1,a.panEnabled=!0,W(a,a._zoomButton,"zoom")):(a.zoomEnabled=!0,a.panEnabled=!1,W(a,a._zoomButton,"pan")),a.render()},this.allDOMEventHandlers),Q(this._zoomButton,"mousemove",function(){c?c=!1:(V(a._zoomButton,{backgroundColor:a.toolbar.itemBackgroundColorOnHover,color:a.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&V(a._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),Q(this._zoomButton,"mouseout",function(){c||(V(a._zoomButton,{backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&V(a._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers)}this._resetButton?(V(this._resetButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor}),this._resetButton.title=this._cultureInfo.resetText):(c=!1,Y(this._resetButton=document.createElement("button")),W(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor,this._toolBar.appendChild(this._resetButton),Q(this._resetButton,"touchstart",function(a){c=!0},this.allDOMEventHandlers),Q(this._resetButton,"click",function(){if(a.toolTip.hide(),a.toolTip&&a.toolTip.enabled&&a.toolTip.dispatchEvent("hidden",{chart:a,toolTip:a.toolTip},a.toolTip),a.zoomEnabled||a.panEnabled?(a.zoomEnabled=!0,a.panEnabled=!1,W(a,a._zoomButton,"pan"),a._defaultCursor="default",a.overlaidCanvas.style.cursor=a._defaultCursor):(a.zoomEnabled=!1,a.panEnabled=!1),a.sessionVariables.axisX)for(var b=0;b<a.sessionVariables.axisX.length;b++)a.sessionVariables.axisX[b].newViewportMinimum=null,a.sessionVariables.axisX[b].newViewportMaximum=null;if(a.sessionVariables.axisX2)for(b=0;b<a.sessionVariables.axisX2.length;b++)a.sessionVariables.axisX2[b].newViewportMinimum=null,a.sessionVariables.axisX2[b].newViewportMaximum=null;if(a.sessionVariables.axisY)for(b=0;b<a.sessionVariables.axisY.length;b++)a.sessionVariables.axisY[b].newViewportMinimum=null,a.sessionVariables.axisY[b].newViewportMaximum=null;if(a.sessionVariables.axisY2)for(b=0;b<a.sessionVariables.axisY2.length;b++)a.sessionVariables.axisY2[b].newViewportMinimum=null,a.sessionVariables.axisY2[b].newViewportMaximum=null;a.resetOverlayedCanvas(),0>=navigator.userAgent.search("MSIE")&&V(a._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),Y(a._zoomButton,a._resetButton),a.stockChart&&(a.stockChart._rangeEventParameter={stockChart:a.stockChart,source:"chart",index:a.stockChart.charts.indexOf(a),minimum:null,maximum:null}),a._dispatchRangeEvent("rangeChanging","reset"),a.stockChart&&(a.stockChart._rangeEventParameter.type="rangeChanging",a.stockChart.dispatchEvent("rangeChanging",a.stockChart._rangeEventParameter,a.stockChart)),a.render(),a.syncCharts&&a.syncCharts(null,null),a._dispatchRangeEvent("rangeChanged","reset"),a.stockChart&&(a.stockChart._rangeEventParameter.type="rangeChanged",a.stockChart.dispatchEvent("rangeChanged",a.stockChart._rangeEventParameter,a.stockChart))},this.allDOMEventHandlers),Q(this._resetButton,"mousemove",function(){c||(V(a._resetButton,{backgroundColor:a.toolbar.itemBackgroundColorOnHover,color:a.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&V(a._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),Q(this._resetButton,"mouseout",function(){c||(V(a._resetButton,{backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&V(a._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=a._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(a._zoomButton.getAttribute("state")===a._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),X(a._zoomButton,a._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;for(var b in function(a){if(a._menuButton)a.exportEnabled?(V(a._menuButton,{backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor}),X(a._menuButton),a._menuButton.title=a._cultureInfo.menuText):Y(a._menuButton);else if(a.exportEnabled&&f){var d=!1;a._menuButton=document.createElement("button"),W(a,a._menuButton,"menu"),a._toolBar.appendChild(a._menuButton),Q(a._menuButton,"touchstart",function(a){d=!0},a.allDOMEventHandlers),Q(a._menuButton,"click",function(){"none"!==a._dropdownMenu.style.display||a._dropDownCloseTime&&500>=new Date().getTime()-a._dropDownCloseTime.getTime()||(a._dropdownMenu.style.display="block",a._menuButton.blur(),a._dropdownMenu.focus())},a.allDOMEventHandlers,!0),Q(a._menuButton,"mousemove",function(){d||(V(a._menuButton,{backgroundColor:a.toolbar.itemBackgroundColorOnHover,color:a.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&V(a._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},a.allDOMEventHandlers,!0),Q(a._menuButton,"mouseout",function(){d||(V(a._menuButton,{backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&V(a._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},a.allDOMEventHandlers,!0)}if(a.exportEnabled&&a._dropdownMenu){V(a._dropdownMenu,{backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor});for(var b=a._dropdownMenu.childNodes,e=[a._cultureInfo.printText,a._cultureInfo.saveJPGText,a._cultureInfo.savePNGText,],c=0;c<b.length;c++)V(b[c],{backgroundColor:a.toolbar.itemBackgroundColor,color:a.toolbar.fontColor}),b[c].innerHTML=e[c]}else!a._dropdownMenu&&a.exportEnabled&&f&&(d=!1,a._dropdownMenu=document.createElement("div"),a._dropdownMenu.setAttribute("tabindex",-1),b=-1!==a.theme.indexOf("dark")?"black":"#888888",V(a._dropdownMenu,{position:"absolute",zIndex:1,userSelect:"none",MozUserSeelct:"none",WebkitUserSelect:"none",msUserSelect:"none",cursor:"pointer",right:"0px",top:"25px",minWidth:"120px",outline:0,fontSize:"14px",fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 0px 5px 0px",textAlign:"left",lineHeight:"10px",backgroundColor:a.toolbar.itemBackgroundColor,boxShadow:"2px 2px 10px"+b}),a._dropdownMenu.style.display="none",a._toolBar.appendChild(a._dropdownMenu),Q(a._dropdownMenu,"blur",function(){Y(a._dropdownMenu),a._dropDownCloseTime=new Date},a.allDOMEventHandlers,!0),V(b=document.createElement("div"),{padding:"12px 8px 12px 8px"}),b.innerHTML=a._cultureInfo.printText,b.style.backgroundColor=a.toolbar.itemBackgroundColor,b.style.color=a.toolbar.fontColor,a._dropdownMenu.appendChild(b),Q(b,"touchstart",function(a){d=!0},a.allDOMEventHandlers),Q(b,"mousemove",function(){d||(this.style.backgroundColor=a.toolbar.itemBackgroundColorOnHover,this.style.color=a.toolbar.fontColorOnHover)},a.allDOMEventHandlers,!0),Q(b,"mouseout",function(){d||(this.style.backgroundColor=a.toolbar.itemBackgroundColor,this.style.color=a.toolbar.fontColor)},a.allDOMEventHandlers,!0),Q(b,"click",function(){Y(a._dropdownMenu)},a.allDOMEventHandlers,!0),V(b=document.createElement("div"),{padding:"12px 8px 12px 8px"}),b.innerHTML=a._cultureInfo.saveJPGText,b.style.backgroundColor=a.toolbar.itemBackgroundColor,b.style.color=a.toolbar.fontColor,a._dropdownMenu.appendChild(b),Q(b,"touchstart",function(a){d=!0},a.allDOMEventHandlers),Q(b,"mousemove",function(){d||(this.style.backgroundColor=a.toolbar.itemBackgroundColorOnHover,this.style.color=a.toolbar.fontColorOnHover)},a.allDOMEventHandlers,!0),Q(b,"mouseout",function(){d||(this.style.backgroundColor=a.toolbar.itemBackgroundColor,this.style.color=a.toolbar.fontColor)},a.allDOMEventHandlers,!0),Q(b,"click",function(){a.exportChart({format:"jpeg",fileName:a.exportFileName}),Y(a._dropdownMenu)},a.allDOMEventHandlers,!0),V(b=document.createElement("div"),{padding:"12px 8px 12px 8px"}),b.innerHTML=a._cultureInfo.savePNGText,b.style.backgroundColor=a.toolbar.itemBackgroundColor,b.style.color=a.toolbar.fontColor,a._dropdownMenu.appendChild(b),Q(b,"touchstart",function(a){d=!0},a.allDOMEventHandlers),Q(b,"mousemove",function(){d||(this.style.backgroundColor=a.toolbar.itemBackgroundColorOnHover,this.style.color=a.toolbar.fontColorOnHover)},a.allDOMEventHandlers,!0),Q(b,"mouseout",function(){d||(this.style.backgroundColor=a.toolbar.itemBackgroundColor,this.style.color=a.toolbar.fontColor)},a.allDOMEventHandlers,!0),Q(b,"click",function(){a.exportChart({format:"png",fileName:a.exportFileName}),Y(a._dropdownMenu)},a.allDOMEventHandlers,!0))}(this),"none"!==this._toolBar.style.display&&this._zoomButton&&(this.panEnabled?W(a,a._zoomButton,"zoom"):W(a,a._zoomButton,"pan"),a._resetButton.getAttribute("state")!==a._cultureInfo.resetText&&W(a,a._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(b)&&this.toolTip.updateOption(b)},a.prototype._updateSize=function(){a=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var a,b=0,c=0;if(this.options.width?b=this.width:this.width=b=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?c=this.height:this.height=c=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==b*ap||this.canvas.height!==c*ap){for(var d=0;d<a.length;d++)T(a[d],b,c);this.bounds={x1:0,y1:0,x2:this.width,y2:this.height,width:this.width,height:this.height},a=!0}else a=!1;return a},a.prototype._initialize=function(){this.isNavigator=null!=this.parent&&null!=this.parent._defaultsKey&&"Navigator"===this.parent._defaultsKey,this._animator?this._animator.cancelAllAnimations():this._animator=new q(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=f&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new n(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[],this.title=null,this.subtitles=[];var i=0,h=null;if(this.options.data){for(var c=0;c<this.options.data.length;c++)if(i++,!this.options.data[c].type||0<=a._supportedChartTypes.indexOf(this.options.data[c].type)){var k,l,j,b=new e(this,this.options.data[c],i-1,++this._eventManager.lastObjectId);"error"===b.type&&(j=this.options.data[c].linkedDataSeriesIndex,b.linkedDataSeriesIndex=null==j?c-1:this.options.data[c].linkedDataSeriesIndex,0>b.linkedDataSeriesIndex||b.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof b.linkedDataSeriesIndex||"error"===this.options.data[b.linkedDataSeriesIndex].type)&&(b.linkedDataSeriesIndex=null),null===b.name&&(b.name="DataSeries "+i),null===b.color?1<this.options.data.length?(b._colorSet=[this.selectedColorSet[b.index%this.selectedColorSet.length],],b.color=this.selectedColorSet[b.index%this.selectedColorSet.length]):b._colorSet="line"===b.type||"stepLine"===b.type||"spline"===b.type||"area"===b.type||"stepArea"===b.type||"splineArea"===b.type||"stackedArea"===b.type||"stackedArea100"===b.type||"rangeArea"===b.type||"rangeSplineArea"===b.type||"candlestick"===b.type||"ohlc"===b.type||"waterfall"===b.type||"boxAndWhisker"===b.type?[this.selectedColorSet[0]]:this.selectedColorSet:b._colorSet=[b.color],null===b.markerSize&&(("line"===b.type||"stepLine"===b.type||"spline"===b.type||0<=b.type.toLowerCase().indexOf("area"))&&b.dataPoints&&b.dataPoints.length<this.width/16||"scatter"===b.type)&&(b.markerSize=8),"bubble"!==b.type&&"scatter"!==b.type||!b.dataPoints||(b.dataPoints.some?b.dataPoints.some(function(a){return a.x})&&b.dataPoints.sort(t):b.dataPoints.sort(t)),this.data.push(b);var d,g=b.axisPlacement;if(h=h||g,"normal"===g?"xySwapped"===this.plotInfo.axisPlacement?d='You cannot combine "'+b.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?d='You cannot combine "'+b.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===g?"normal"===this.plotInfo.axisPlacement?d='You cannot combine "'+b.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?d='You cannot combine "'+b.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===g?"normal"===this.plotInfo.axisPlacement?d='You cannot combine "'+b.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?d='You cannot combine "'+b.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===g&&"none"===this.plotInfo.axisPlacement&&(d='You cannot combine "'+b.type+'" with pie chart'),d&&window.console)return void window.console.log(d)}for(c=0;c<this.data.length;c++){if("none"==h&&"error"===this.data[c].type&&window.console)return void window.console.log('You cannot combine "'+b.type+'" with error chart');"error"===this.data[c].type&&(this.data[c].axisPlacement=this.plotInfo.axisPlacement=h||"normal",this.data[c]._linkedSeries=null===this.data[c].linkedDataSeriesIndex?null:this.data[this.data[c].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},a._supportedChartTypes=N("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),a.prototype.setLayout=function(){for(var g,h,e,d=this._plotAreaElements,c=0;c<this.data.length;c++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[c].axisYType||"primary"===this.data[c].axisYType){if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var a=0;a<this.options.axisY.length;a++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[a]=new b(this,"axisY",this.options.axisY[a],a,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[a]=new b(this,"axisY",this.options.axisY[a],a,"axisY","bottom"));this.data[c].axisY=this.axisY[0<=this.data[c].axisYIndex&&this.data[c].axisYIndex<this.axisY.length?this.data[c].axisYIndex:0],this.axisY[0<=this.data[c].axisYIndex&&this.data[c].axisYIndex<this.axisY.length?this.data[c].axisYIndex:0].dataSeries.push(this.data[c])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new b(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new b(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[c].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[c])}if("secondary"===this.data[c].axisYType){if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(a=0;a<this.options.axisY2.length;a++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[a]=new b(this,"axisY2",this.options.axisY2[a],a,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[a]=new b(this,"axisY2",this.options.axisY2[a],a,"axisY","top"));this.data[c].axisY=this.axisY2[0<=this.data[c].axisYIndex&&this.data[c].axisYIndex<this.axisY2.length?this.data[c].axisYIndex:0],this.axisY2[0<=this.data[c].axisYIndex&&this.data[c].axisYIndex<this.axisY2.length?this.data[c].axisYIndex:0].dataSeries.push(this.data[c])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new b(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new b(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[c].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[c])}if(!this.data[c].axisXType||"primary"===this.data[c].axisXType){if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(a=0;a<this.options.axisX.length;a++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[a]=new b(this,"axisX",this.options.axisX[a],a,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[a]=new b(this,"axisX",this.options.axisX[a],a,"axisX","left"));this.data[c].axisX=this.axisX[0<=this.data[c].axisXIndex&&this.data[c].axisXIndex<this.axisX.length?this.data[c].axisXIndex:0],this.axisX[0<=this.data[c].axisXIndex&&this.data[c].axisXIndex<this.axisX.length?this.data[c].axisXIndex:0].dataSeries.push(this.data[c])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new b(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new b(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[c].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[c])}if("secondary"===this.data[c].axisXType){if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(a=0;a<this.options.axisX2.length;a++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[a]=new b(this,"axisX2",this.options.axisX2[a],a,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[a]=new b(this,"axisX2",this.options.axisX2[a],a,"axisX","right"));this.data[c].axisX=this.axisX2[0<=this.data[c].axisXIndex&&this.data[c].axisXIndex<this.axisX2.length?this.data[c].axisXIndex:0],this.axisX2[0<=this.data[c].axisXIndex&&this.data[c].axisXIndex<this.axisX2.length?this.data[c].axisXIndex:0].dataSeries.push(this.data[c])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new b(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new b(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[c].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[c])}}if(this.axisY){for(a=1;a<this.axisY.length;a++)void 0===this.axisY[a].options.gridThickness&&(this.axisY[a].gridThickness=0);for(a=0;a<this.axisY.length-1;a++)void 0===this.axisY[a].options.margin&&(this.axisY[a].margin=10)}if(this.axisY2){for(a=1;a<this.axisY2.length;a++)void 0===this.axisY2[a].options.gridThickness&&(this.axisY2[a].gridThickness=0);for(a=0;a<this.axisY2.length-1;a++)void 0===this.axisY2[a].options.margin&&(this.axisY2[a].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&& void 0===this.axisY2[0].options.gridThickness?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&& void 0===this.axisY[0].options.gridThickness&&(this.axisY[0].gridThickness=0)),this.axisX)for(a=0;a<this.axisX.length;a++)void 0===this.axisX[a].options.gridThickness&&(this.axisX[a].gridThickness=0);if(this.axisX2)for(a=0;a<this.axisX2.length;a++)void 0===this.axisX2[a].options.gridThickness&&(this.axisX2[a].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&& void 0===this.axisX2[0].options.gridThickness?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&& void 0===this.axisX[0].options.gridThickness&&(this.axisX[0].gridThickness=0)),a=!1,0<this._axes.length&&this.options.zoomEnabled&&(this.zoomEnabled||this.panEnabled)){for(c=0;c<this._axes.length;c++)if(null!=this._axes[c].viewportMinimum||null!=this._axes[c].viewportMaximum){a=!0;break}}if(a?(X(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor):(Y(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),e=this,ab.fSDec||e[j("`eeDwdouMhrudods")](j("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){ab._fTWm&&ab._fTWm(e)}),this._processData(),this.options.title&&(this.title=new _(this,this.options.title),this.title.dockInsidePlotArea?d.push(this.title):this.title.setLayout()),this.options.subtitles)for(c=0;c<this.options.subtitles.length;c++)a=new p(this,this.options.subtitles[c],c),this.subtitles.push(a),a.dockInsidePlotArea?d.push(a):a.setLayout();for(this.legend=new i(this,this.options.legend),c=0;c<this.data.length;c++)(this.data[c].showInLegend||"pie"===this.data[c].type||"doughnut"===this.data[c].type||"funnel"===this.data[c].type||"pyramid"===this.data[c].type)&&this.legend.dataSeries.push(this.data[c]);for(this.legend.dockInsidePlotArea?d.push(this.legend):this.legend.setLayout(),c=0;c<this._axes.length;c++)if(this._axes[c].scaleBreaks&&this._axes[c].scaleBreaks._appliedBreaks.length){f?(this._breaksCanvas=U(this.width,this.height),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=U(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||b.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},a.prototype.renderElements=function(){var i,h=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var e=0;e<this.subtitles.length;e++)this.subtitles[e].dockInsidePlotArea||this.subtitles[e].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)b.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(e=0;e<h.length;e++)h[e].setLayout(),h[e].render();var k=[];if(this.animatedRender){var n=U(this.width,this.height);n.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(function(a){if(ar){var b=1,c=1;void 0===ac.Chart.creditHref?(a.creditHref=j("iuuqr;..b`ow`rkr/bnl."),a.creditText=j("B`ow`rKR/bnl")):(b=a.updateOption("creditText"),c=a.updateOption("creditHref")),a.creditHref&&a.creditText&&(a._creditLink||(a._creditLink=document.createElement("a"),a._creditLink.setAttribute("class","canvasjs-chart-credit"),a._creditLink.setAttribute("title","JavaScript Charts"),V(a._creditLink,{outline:"none",margin:"0px",position:"absolute",right:"2px",top:a.height-14+"px",color:"dimgrey",textDecoration:"none",fontSize:"11px",fontFamily:"Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"}),a._creditLink.setAttribute("tabIndex",-1),a._creditLink.setAttribute("target","_blank")),(0===a.renderCount||b||c)&&(a._creditLink.setAttribute("href",a.creditHref),a._creditLink.innerHTML=a.creditText),a._creditLink&&a.creditHref&&a.creditText?(a._creditLink.parentElement||a._canvasJSContainer.appendChild(a._creditLink),a._creditLink.style.top=a.height-14+"px"):a._creditLink.parentElement&&a._canvasJSContainer.removeChild(a._creditLink))}}(this),h=this.ctx.miterLimit,this.ctx.miterLimit=3,f&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),e=0;e<this.plotInfo.plotTypes.length;e++)for(var m=this.plotInfo.plotTypes[e],l=0;l<m.plotUnits.length;l++){var a=m.plotUnits[l],c=null;a.targetCanvas&&ak(a.targetCanvas),a.targetCanvas=null,this.animatedRender&&(a.targetCanvas=U(this.width,this.height),a.targetCanvasCtx=a.targetCanvas.getContext("2d"),i=a.targetCanvasCtx.miterLimit,a.targetCanvasCtx.miterLimit=3),"line"===a.type?c=this.renderLine(a):"stepLine"===a.type?c=this.renderStepLine(a):"spline"===a.type?c=this.renderSpline(a):"column"===a.type?c=this.renderColumn(a):"bar"===a.type?c=this.renderBar(a):"area"===a.type?c=this.renderArea(a):"stepArea"===a.type?c=this.renderStepArea(a):"splineArea"===a.type?c=this.renderSplineArea(a):"stackedColumn"===a.type?c=this.renderStackedColumn(a):"stackedColumn100"===a.type?c=this.renderStackedColumn100(a):"stackedBar"===a.type?c=this.renderStackedBar(a):"stackedBar100"===a.type?c=this.renderStackedBar100(a):"stackedArea"===a.type?c=this.renderStackedArea(a):"stackedArea100"===a.type?c=this.renderStackedArea100(a):"bubble"===a.type?c=c=this.renderBubble(a):"scatter"===a.type?c=this.renderScatter(a):"pie"===a.type?this.renderPie(a):"doughnut"===a.type?this.renderPie(a):"funnel"===a.type?c=this.renderFunnel(a):"pyramid"===a.type?c=this.renderFunnel(a):"candlestick"===a.type?c=this.renderCandlestick(a):"ohlc"===a.type?c=this.renderCandlestick(a):"rangeColumn"===a.type?c=this.renderRangeColumn(a):"error"===a.type?c=this.renderError(a):"rangeBar"===a.type?c=this.renderRangeBar(a):"rangeArea"===a.type?c=this.renderRangeArea(a):"rangeSplineArea"===a.type?c=this.renderRangeSplineArea(a):"waterfall"===a.type?c=this.renderWaterfall(a):"boxAndWhisker"===a.type&&(c=this.renderBoxAndWhisker(a));for(var g=0;g<a.dataSeriesIndexes.length;g++)this._dataInRenderedOrder.push(this.data[a.dataSeriesIndexes[g]]);this.animatedRender&&(a.targetCanvasCtx.miterLimit=i,c&&k.push(c))}this.ctx.miterLimit=h,this.animatedRender&&this._breaksCanvasCtx&&k.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:A.fadeInAnimation,easingFunction:A.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(i=U(this.width,this.height).getContext("2d"),k.push(this.renderIndexLabels(i)));var d=this;if(0<k.length)d.disableToolTip=!0,d._animator.animate(200,d.animationDuration,function(a){d.ctx.clearRect(0,0,d.width,d.height),d.ctx.drawImage(n,0,0,Math.floor(d.width*ap),Math.floor(d.height*ap),0,0,d.width,d.height);for(var b=0;b<k.length;b++)c=k[b],1>a&& void 0!==c.startTimePercent?a>=c.startTimePercent&&c.animationCallback(c.easingFunction(a-c.startTimePercent,0,1,1-c.startTimePercent),c):c.animationCallback(c.easingFunction(a,0,1,1),c);d.dispatchEvent("dataAnimationIterationEnd",{chart:d})},function(){k=[];for(var a=0;a<d.plotInfo.plotTypes.length;a++)for(var e=d.plotInfo.plotTypes[a],b=0;b<e.plotUnits.length;b++){var c=e.plotUnits[b];c.targetCanvas&&ak(c.targetCanvas),c.targetCanvas=null}n=null,d.disableToolTip=!1,d.dispatchEvent("dataAnimationEnd",{chart:d})});else{if(d._breaksCanvas){if(f)d.plotArea.ctx.drawImage(d._breaksCanvas,0,0,this.width,this.height);else for(g=0;g<d._axes.length;g++)d._axes[g].createMask()}0<d._indexLabels.length&&d.renderIndexLabels(),d.dispatchEvent("dataAnimationIterationEnd",{chart:d}),d.dispatchEvent("dataAnimationEnd",{chart:d})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||Y(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,aa&&(d=this,setTimeout(function(){var a=document.getElementById("ghostCanvasCopy");a&&(T(a,d.width,d.height),a.getContext("2d").drawImage(d._eventManager.ghostCanvas,0,0))},2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),g=0;g<this._axes.length;g++)this._axes[g].maskCanvas&&(delete this._axes[g].maskCanvas,delete this._axes[g].maskCtx)},a.prototype.render=function(a){a&&(this.options=a),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas&&ak(this._preRenderCanvas)},a.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},a.prototype.categoriseDataSeries=function(){for(var b="",e=0;e<this.data.length;e++)if((b=this.data[e]).dataPoints&&0!==b.dataPoints.length&&b.visible&&0<=a._supportedChartTypes.indexOf(b.type)){for(var c=null,g=!1,f=null,h=!1,d=0;d<this.plotInfo.plotTypes.length;d++)if(this.plotInfo.plotTypes[d].type===b.type){g=!0,c=this.plotInfo.plotTypes[d];break}for(g||(c={type:b.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(c)),d=0;d<c.plotUnits.length;d++)if(c.plotUnits[d].axisYType===b.axisYType&&c.plotUnits[d].axisXType===b.axisXType&&c.plotUnits[d].axisYIndex===b.axisYIndex&&c.plotUnits[d].axisXIndex===b.axisXIndex){h=!0,f=c.plotUnits[d];break}h||(f={type:b.type,previousDataSeriesCount:0,index:c.plotUnits.length,plotType:c,axisXType:b.axisXType,axisYType:b.axisYType,axisYIndex:b.axisYIndex,axisXIndex:b.axisXIndex,axisY:"primary"===b.axisYType?this.axisY[0<=b.axisYIndex&&b.axisYIndex<this.axisY.length?b.axisYIndex:0]:this.axisY2[0<=b.axisYIndex&&b.axisYIndex<this.axisY2.length?b.axisYIndex:0],axisX:"primary"===b.axisXType?this.axisX[0<=b.axisXIndex&&b.axisXIndex<this.axisX.length?b.axisXIndex:0]:this.axisX2[0<=b.axisXIndex&&b.axisXIndex<this.axisX2.length?b.axisXIndex:0],dataSeriesIndexes:[],yTotals:[],yAbsTotals:[]},c.plotUnits.push(f)),c.totalDataSeries++,f.dataSeriesIndexes.push(e),b.plotUnit=f}for(e=0;e<this.plotInfo.plotTypes.length;e++)for(c=this.plotInfo.plotTypes[e],d=b=0;d<c.plotUnits.length;d++)c.plotUnits[d].previousDataSeriesCount=b,b+=c.plotUnits[d].dataSeriesIndexes.length},a.prototype.assignIdToDataPoints=function(){for(var a=0;a<this.data.length;a++){var b=this.data[a];if(b.dataPoints)for(var d=b.dataPoints.length,c=0;c<d;c++)b.dataPointIds[c]=++this._eventManager.lastObjectId}},a.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var b=0;b<this.plotInfo.plotTypes.length;b++)for(var d=this.plotInfo.plotTypes[b],c=0;c<d.plotUnits.length;c++){var a=d.plotUnits[c];"line"===a.type||"stepLine"===a.type||"spline"===a.type||"column"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"bar"===a.type||"bubble"===a.type||"scatter"===a.type?this._processMultiseriesPlotUnit(a):"stackedColumn"===a.type||"stackedBar"===a.type||"stackedArea"===a.type?this._processStackedPlotUnit(a):"stackedColumn100"===a.type||"stackedBar100"===a.type||"stackedArea100"===a.type?this._processStacked100PlotUnit(a):"candlestick"===a.type||"ohlc"===a.type||"rangeColumn"===a.type||"rangeBar"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type||"error"===a.type||"boxAndWhisker"===a.type?this._processMultiYPlotUnit(a):"waterfall"===a.type&&this._processSpecificPlotUnit(a)}this.calculateAutoBreaks()},a.prototype._processMultiseriesPlotUnit=function(f){if(f.dataSeriesIndexes&&!(1>f.dataSeriesIndexes.length))for(var d,e,h=f.axisY.dataInfo,g=f.axisX.dataInfo,i=!1,j=0;j<f.dataSeriesIndexes.length;j++){var k,c=this.data[f.dataSeriesIndexes[j]],a=0,l=!1,m=!1;if("normal"===c.axisPlacement||"xySwapped"===c.axisPlacement)var o=f.axisX.sessionVariables.newViewportMinimum?f.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:f.axisX.logarithmic?0:-1/0,n=f.axisX.sessionVariables.newViewportMaximum?f.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((c.dataPoints[a].x&&c.dataPoints[a].x.getTime||"dateTime"===c.xValueType)&&(i=!0),a=0;a<c.dataPoints.length;a++){if(void 0===c.dataPoints[a].x&&(c.dataPoints[a].x=a+(f.axisX.logarithmic?1:0)),c.dataPoints[a].x.getTime?(i=!0,d=c.dataPoints[a].x.getTime()):d=c.dataPoints[a].x,e=c.dataPoints[a].y,d<g.min&&(g.min=d),d>g.max&&(g.max=d),e<h.min&&"number"==typeof e&&(h.min=e),e>h.max&&"number"==typeof e&&(h.max=e),0<a){if(f.axisX.logarithmic){var b=d/c.dataPoints[a-1].x;1>b&&(b=1/b),g.minDiff>b&&1!==b&&(g.minDiff=b)}else 0>(b=d-c.dataPoints[a-1].x)&&(b*=-1),g.minDiff>b&&0!==b&&(g.minDiff=b);null!==e&&null!==c.dataPoints[a-1].y&&(f.axisY.logarithmic?(1>(b=e/c.dataPoints[a-1].y)&&(b=1/b),h.minDiff>b&&1!==b&&(h.minDiff=b)):(0>(b=e-c.dataPoints[a-1].y)&&(b*=-1),h.minDiff>b&&0!==b&&(h.minDiff=b)))}if(d<o&&!l)null!==e&&(k=d);else{if(!l&&(l=!0,0<a)){a-=2;continue}if(d>n&&!m)m=!0;else if(d>n&&m)continue;c.dataPoints[a].label&&(f.axisX.labels[d]=c.dataPoints[a].label),d<g.viewPortMin&&(g.viewPortMin=d),d>g.viewPortMax&&(g.viewPortMax=d),null===e?g.viewPortMin===d&&k<d&&(g.viewPortMin=k):(e<h.viewPortMin&&"number"==typeof e&&(h.viewPortMin=e),e>h.viewPortMax&&"number"==typeof e&&(h.viewPortMax=e))}}c.axisX.valueType=c.xValueType=i?"dateTime":"number"}},a.prototype._processStackedPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){for(var c,h,d=a.axisY.dataInfo,g=a.axisX.dataInfo,m=!1,i=[],j=[],k=1/0,l=-1/0,n=0;n<a.dataSeriesIndexes.length;n++){var t,o,e=this.data[a.dataSeriesIndexes[n]],b=0,p=!1,q=!1;if("normal"===e.axisPlacement||"xySwapped"===e.axisPlacement)var s=a.axisX.sessionVariables.newViewportMinimum?a.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,r=a.axisX.sessionVariables.newViewportMaximum?a.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((e.dataPoints[b].x&&e.dataPoints[b].x.getTime||"dateTime"===e.xValueType)&&(m=!0),b=0;b<e.dataPoints.length;b++){if(void 0===e.dataPoints[b].x&&(e.dataPoints[b].x=b+(a.axisX.logarithmic?1:0)),e.dataPoints[b].x.getTime?(m=!0,c=e.dataPoints[b].x.getTime()):c=e.dataPoints[b].x,h=null==e.dataPoints[b].y?0:e.dataPoints[b].y,c<g.min&&(g.min=c),c>g.max&&(g.max=c),0<b){if(a.axisX.logarithmic){var f=c/e.dataPoints[b-1].x;1>f&&(f=1/f),g.minDiff>f&&1!==f&&(g.minDiff=f)}else 0>(f=c-e.dataPoints[b-1].x)&&(f*=-1),g.minDiff>f&&0!==f&&(g.minDiff=f);null!==h&&null!==e.dataPoints[b-1].y&&(a.axisY.logarithmic?0<h&&(1>(f=h/e.dataPoints[b-1].y)&&(f=1/f),d.minDiff>f&&1!==f&&(d.minDiff=f)):(0>(f=h-e.dataPoints[b-1].y)&&(f*=-1),d.minDiff>f&&0!==f&&(d.minDiff=f)))}if(c<s&&!p)null!==e.dataPoints[b].y&&(o=c);else{if(!p&&(p=!0,0<b)){b-=2;continue}if(c>r&&!q)q=!0;else if(c>r&&q)continue;e.dataPoints[b].label&&(a.axisX.labels[c]=e.dataPoints[b].label),c<g.viewPortMin&&(g.viewPortMin=c),c>g.viewPortMax&&(g.viewPortMax=c),null===e.dataPoints[b].y?g.viewPortMin===c&&o<c&&(g.viewPortMin=o):(a.yTotals[c]=(a.yTotals[c]?a.yTotals[c]:0)+h,a.yAbsTotals[c]=(a.yAbsTotals[c]?a.yAbsTotals[c]:0)+Math.abs(h),0<=h?i[c]?i[c]+=h:(i[c]=h,k=Math.min(h,k)):j[c]?j[c]+=h:(j[c]=h,l=Math.max(h,l)))}}a.axisY.scaleBreaks&&a.axisY.scaleBreaks.autoCalculate&&1<=a.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(d.dataPointYPositiveSums?(d.dataPointYPositiveSums.push.apply(d.dataPointYPositiveSums,i),d.dataPointYNegativeSums.push.apply(d.dataPointYPositiveSums,j)):(d.dataPointYPositiveSums=i,d.dataPointYNegativeSums=j)),e.axisX.valueType=e.xValueType=m?"dateTime":"number"}for(b in i)i.hasOwnProperty(b)&&!isNaN(b)&&((a=i[b])<d.min&&(d.min=Math.min(a,k)),a>d.max&&(d.max=a),b<g.viewPortMin||b>g.viewPortMax||(a<d.viewPortMin&&(d.viewPortMin=Math.min(a,k)),a>d.viewPortMax&&(d.viewPortMax=a)));for(b in j)j.hasOwnProperty(b)&&!isNaN(b)&&((a=j[b])<d.min&&(d.min=a),a>d.max&&(d.max=Math.max(a,l)),b<g.viewPortMin||b>g.viewPortMax||(a<d.viewPortMin&&(d.viewPortMin=a),a>d.viewPortMax&&(d.viewPortMax=Math.max(a,l))))}},a.prototype._processStacked100PlotUnit=function(c){if(c.dataSeriesIndexes&&!(1>c.dataSeriesIndexes.length)){for(var q,r,s,t,u,v,w,x,b,h,a=c.axisY.dataInfo,g=c.axisX.dataInfo,l=!1,i=!1,j=!1,k=[],m=0;m<c.dataSeriesIndexes.length;m++){var n,e=this.data[c.dataSeriesIndexes[m]],d=0,o=!1,p=!1;if("normal"===e.axisPlacement||"xySwapped"===e.axisPlacement)var z=c.axisX.sessionVariables.newViewportMinimum?c.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,y=c.axisX.sessionVariables.newViewportMaximum?c.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((e.dataPoints[d].x&&e.dataPoints[d].x.getTime||"dateTime"===e.xValueType)&&(l=!0),d=0;d<e.dataPoints.length;d++){if(void 0===e.dataPoints[d].x&&(e.dataPoints[d].x=d+(c.axisX.logarithmic?1:0)),e.dataPoints[d].x.getTime?(l=!0,b=e.dataPoints[d].x.getTime()):b=e.dataPoints[d].x,h=null==e.dataPoints[d].y?null:e.dataPoints[d].y,b<g.min&&(g.min=b),b>g.max&&(g.max=b),0<d){if(c.axisX.logarithmic){var A,B,f=b/e.dataPoints[d-1].x;1>f&&(f=1/f),g.minDiff>f&&1!==f&&(g.minDiff=f)}else 0>(f=b-e.dataPoints[d-1].x)&&(f*=-1),g.minDiff>f&&0!==f&&(g.minDiff=f);null==h||null===e.dataPoints[d-1].y||(c.axisY.logarithmic?0<h&&(1>(f=h/e.dataPoints[d-1].y)&&(f=1/f),a.minDiff>f&&1!==f&&(a.minDiff=f)):(0>(f=h-e.dataPoints[d-1].y)&&(f*=-1),a.minDiff>f&&0!==f&&(a.minDiff=f)))}if(b<z&&!o)null!==h&&(n=b);else{if(!o&&(o=!0,0<d)){d-=2;continue}if(b>y&&!p)p=!0;else if(b>y&&p)continue;e.dataPoints[d].label&&(c.axisX.labels[b]=e.dataPoints[d].label),b<g.viewPortMin&&(g.viewPortMin=b),b>g.viewPortMax&&(g.viewPortMax=b),null===h?g.viewPortMin===b&&n<b&&(g.viewPortMin=n):(c.yTotals[b]=(c.yTotals[b]?c.yTotals[b]:0)+h,c.yAbsTotals[b]=(c.yAbsTotals[b]?c.yAbsTotals[b]:0)+Math.abs(h),0<=h?i=!0:0>h&&(j=!0),k[b]=k[b]?k[b]+Math.abs(h):Math.abs(h))}}e.axisX.valueType=e.xValueType=l?"dateTime":"number"}c.axisY.logarithmic?(q=a.viewPortMax,a.max=null==q?99*Math.pow(c.axisY.logarithmBase,-0.05):Math.max(a.viewPortMax,99*Math.pow(c.axisY.logarithmBase,-0.05)),r=a.viewPortMin,a.min=null==r?1:Math.min(a.viewPortMin,1)):i&&!j?(s=a.viewPortMax,a.max=null==s?99:Math.max(a.viewPortMax,99),t=a.viewPortMin,a.min=null==t?1:Math.min(a.viewPortMin,1)):i&&j?(u=a.viewPortMax,a.max=null==u?99:Math.max(a.viewPortMax,99),v=a.viewPortMin,a.min=null==v?-99:Math.min(a.viewPortMin,-99)):!i&&j&&(w=a.viewPortMax,a.max=null==w?-1:Math.max(a.viewPortMax,-1),x=a.viewPortMin,a.min=null==x?-99:Math.min(a.viewPortMin,-99)),a.viewPortMin=a.min,a.viewPortMax=a.max,c.dataPointYSums=k}},a.prototype._processMultiYPlotUnit=function(f){if(f.dataSeriesIndexes&&!(1>f.dataSeriesIndexes.length))for(var d,g,k,l,h=f.axisY.dataInfo,e=f.axisX.dataInfo,n=!1,o=0;o<f.dataSeriesIndexes.length;o++){var i,a,q,c=this.data[f.dataSeriesIndexes[o]],b=0,m=!1,p=!1;if("normal"===c.axisPlacement||"xySwapped"===c.axisPlacement)var s=f.axisX.sessionVariables.newViewportMinimum?f.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:f.axisX.logarithmic?0:-1/0,r=f.axisX.sessionVariables.newViewportMaximum?f.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((c.dataPoints[b].x&&c.dataPoints[b].x.getTime||"dateTime"===c.xValueType)&&(n=!0),b=0;b<c.dataPoints.length;b++){if(void 0===c.dataPoints[b].x&&(c.dataPoints[b].x=b+(f.axisX.logarithmic?1:0)),c.dataPoints[b].x.getTime?(n=!0,d=c.dataPoints[b].x.getTime()):d=c.dataPoints[b].x,(g=c.dataPoints[b].y)&&g.length){k=Math.min.apply(null,g),l=Math.max.apply(null,g),a=!0;for(var j=0;j<g.length;j++)null===g.k&&(a=!1);a&&(m||(q=i),i=d)}if(d<e.min&&(e.min=d),d>e.max&&(e.max=d),k<h.min&&(h.min=k),l>h.max&&(h.max=l),0<b&&(f.axisX.logarithmic?(1>(a=d/c.dataPoints[b-1].x)&&(a=1/a),e.minDiff>a&&1!==a&&(e.minDiff=a)):(0>(a=d-c.dataPoints[b-1].x)&&(a*=-1),e.minDiff>a&&0!==a&&(e.minDiff=a)),g&&null!==g[0]&&c.dataPoints[b-1].y&&null!==c.dataPoints[b-1].y[0]&&(f.axisY.logarithmic?(1>(a=g[0]/c.dataPoints[b-1].y[0])&&(a=1/a),h.minDiff>a&&1!==a&&(h.minDiff=a)):(0>(a=g[0]-c.dataPoints[b-1].y[0])&&(a*=-1),h.minDiff>a&&0!==a&&(h.minDiff=a)))),!(d<s)||m){if(!m&&(m=!0,0<b)){b-=2,i=q;continue}if(d>r&&!p)p=!0;else if(d>r&&p)continue;if(c.dataPoints[b].label&&(f.axisX.labels[d]=c.dataPoints[b].label),d<e.viewPortMin&&(e.viewPortMin=d),d>e.viewPortMax&&(e.viewPortMax=d),e.viewPortMin===d&&g){for(j=0;j<g.length;j++)if(null===g[j]&&i<d){e.viewPortMin=i;break}}null===g?e.viewPortMin===d&&i<d&&(e.viewPortMin=i):(k<h.viewPortMin&&(h.viewPortMin=k),l>h.viewPortMax&&(h.viewPortMax=l))}}c.axisX.valueType=c.xValueType=n?"dateTime":"number"}},a.prototype._processSpecificPlotUnit=function(e){if("waterfall"===e.type&&e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length))for(var c,d,f=e.axisY.dataInfo,h=e.axisX.dataInfo,i=!1,j=0;j<e.dataSeriesIndexes.length;j++){var b=this.data[e.dataSeriesIndexes[j]],a=0,k=!1,l=!1,g=c=0;if("normal"===b.axisPlacement||"xySwapped"===b.axisPlacement)var n=e.axisX.sessionVariables.newViewportMinimum?e.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:e.axisX.logarithmic?0:-1/0,m=e.axisX.sessionVariables.newViewportMaximum?e.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((b.dataPoints[a].x&&b.dataPoints[a].x.getTime||"dateTime"===b.xValueType)&&(i=!0),a=0;a<b.dataPoints.length;a++)void 0!==b.dataPoints[a].isCumulativeSum&& !0===b.dataPoints[a].isCumulativeSum?(b.dataPointEOs[a].cumulativeSumYStartValue=0,b.dataPointEOs[a].cumulativeSum=0===a?0:b.dataPointEOs[a-1].cumulativeSum,b.dataPoints[a].y=0===a?0:b.dataPointEOs[a-1].cumulativeSum):void 0!==b.dataPoints[a].isIntermediateSum&& !0===b.dataPoints[a].isIntermediateSum?(b.dataPointEOs[a].cumulativeSumYStartValue=g,b.dataPointEOs[a].cumulativeSum=0===a?0:b.dataPointEOs[a-1].cumulativeSum,b.dataPoints[a].y=0===a?0:c,g=0===a?0:b.dataPointEOs[a-1].cumulativeSum,c=0):(d="number"!=typeof b.dataPoints[a].y?0:b.dataPoints[a].y,b.dataPointEOs[a].cumulativeSumYStartValue=0===a?0:b.dataPointEOs[a-1].cumulativeSum,b.dataPointEOs[a].cumulativeSum=0===a?d:b.dataPointEOs[a-1].cumulativeSum+d,c+=d);for(a=0;a<b.dataPoints.length;a++)if(void 0===b.dataPoints[a].x&&(b.dataPoints[a].x=a+(e.axisX.logarithmic?1:0)),b.dataPoints[a].x.getTime?(i=!0,c=b.dataPoints[a].x.getTime()):c=b.dataPoints[a].x,d=b.dataPoints[a].y,c<h.min&&(h.min=c),c>h.max&&(h.max=c),b.dataPointEOs[a].cumulativeSum<f.min&&(f.min=b.dataPointEOs[a].cumulativeSum),b.dataPointEOs[a].cumulativeSum>f.max&&(f.max=b.dataPointEOs[a].cumulativeSum),0<a&&(e.axisX.logarithmic?(1>(g=c/b.dataPoints[a-1].x)&&(g=1/g),h.minDiff>g&&1!==g&&(h.minDiff=g)):(0>(g=c-b.dataPoints[a-1].x)&&(g*=-1),h.minDiff>g&&0!==g&&(h.minDiff=g)),null!==d&&null!==b.dataPoints[a-1].y&&(e.axisY.logarithmic?(1>(d=b.dataPointEOs[a].cumulativeSum/b.dataPointEOs[a-1].cumulativeSum)&&(d=1/d),f.minDiff>d&&1!==d&&(f.minDiff=d)):(0>(d=b.dataPointEOs[a].cumulativeSum-b.dataPointEOs[a-1].cumulativeSum)&&(d*=-1),f.minDiff>d&&0!==d&&(f.minDiff=d)))),!(c<n)||k){if(!k&&(k=!0,0<a)){a-=2;continue}if(c>m&&!l)l=!0;else if(c>m&&l)continue;b.dataPoints[a].label&&(e.axisX.labels[c]=b.dataPoints[a].label),c<h.viewPortMin&&(h.viewPortMin=c),c>h.viewPortMax&&(h.viewPortMax=c),0<a&&(b.dataPointEOs[a-1].cumulativeSum<f.viewPortMin&&(f.viewPortMin=b.dataPointEOs[a-1].cumulativeSum),b.dataPointEOs[a-1].cumulativeSum>f.viewPortMax&&(f.viewPortMax=b.dataPointEOs[a-1].cumulativeSum)),b.dataPointEOs[a].cumulativeSum<f.viewPortMin&&(f.viewPortMin=b.dataPointEOs[a].cumulativeSum),b.dataPointEOs[a].cumulativeSum>f.viewPortMax&&(f.viewPortMax=b.dataPointEOs[a].cumulativeSum)}b.axisX.valueType=b.xValueType=i?"dateTime":"number"}},a.prototype.calculateAutoBreaks=function(){function k(a,c,b,d){return d?(1>=(b=Math.pow(Math.min(b*a/c,c/a),.2))&&(b=Math.pow(1>a?1/a:Math.min(c/a,a),.25)),{startValue:a*b,endValue:c/b}):(0>=(b=.2*Math.min(b-c+a,c-a))&&(b=.25*Math.min(c-a,Math.abs(a))),{startValue:a+b,endValue:c-b})}function m(b){if(b.dataSeriesIndexes&&!(1>b.dataSeriesIndexes.length)){var k=b.axisX.scaleBreaks&&b.axisX.scaleBreaks.autoCalculate&&1<=b.axisX.scaleBreaks.maxNumberOfAutoBreaks,l=b.axisY.scaleBreaks&&b.axisY.scaleBreaks.autoCalculate&&1<=b.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(k||l)for(var a,c,d=b.axisY.dataInfo,m=(h=b.axisX.dataInfo).min,p=h.max,i=d.min,q=d.max,h=h._dataRanges,e=(d=d._dataRanges,0),j=0;j<b.dataSeriesIndexes.length;j++){var f=o.data[b.dataSeriesIndexes[j]];if(!(4>f.dataPoints.length)){for(e=0;e<f.dataPoints.length;e++)if(k&&(c=(p+1-m)*Math.max(parseFloat(b.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(a=f.dataPoints[e].x.getTime?f.dataPoints[e].x.getTime():f.dataPoints[e].x)<h[c=Math.floor((a-m)/c)].min&&(h[c].min=a),a>h[c].max&&(h[c].max=a)),l){var r,n=(q+1-i)*Math.max(parseFloat(b.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((a="waterfall"===b.type?f.dataPointEOs[e].cumulativeSum:f.dataPoints[e].y)&&a.length)for(var g=0;g<a.length;g++)c=Math.floor((a[g]-i)/n),a[g]<d[c].min&&(d[c].min=a[g]),a[g]>d[c].max&&(d[c].max=a[g]);else null==a||(a<d[c=Math.floor((a-i)/n)].min&&(d[c].min=a),a>d[c].max&&(d[c].max=a))}}}}}function n(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)&&a.axisX.scaleBreaks&&a.axisX.scaleBreaks.autoCalculate&&1<=a.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var c,b=a.axisX.dataInfo,h=b.min,i=b.max,f=b._dataRanges,d=0,g=0;g<a.dataSeriesIndexes.length;g++){var e=o.data[a.dataSeriesIndexes[g]];if(!(4>e.dataPoints.length))for(d=0;d<e.dataPoints.length;d++)c=(i+1-h)*Math.max(parseFloat(a.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(b=e.dataPoints[d].x.getTime?e.dataPoints[d].x.getTime():e.dataPoints[d].x)<f[c=Math.floor((b-h)/c)].min&&(f[c].min=b),b>f[c].max&&(f[c].max=b)}}for(var b,o=this,d=!1,a=0;a<this._axes.length;a++)if(this._axes[a].scaleBreaks&&this._axes[a].scaleBreaks.autoCalculate&&1<=this._axes[a].scaleBreaks.maxNumberOfAutoBreaks){d=!0,this._axes[a].dataInfo._dataRanges=[];for(var c=0;c<100/Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10);c++)this._axes[a].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(d){for(a=0;a<this.plotInfo.plotTypes.length;a++)for(d=this.plotInfo.plotTypes[a],c=0;c<d.plotUnits.length;c++)"line"===(b=d.plotUnits[c]).type||"stepLine"===b.type||"spline"===b.type||"column"===b.type||"area"===b.type||"stepArea"===b.type||"splineArea"===b.type||"bar"===b.type||"bubble"===b.type||"scatter"===b.type||"candlestick"===b.type||"ohlc"===b.type||"rangeColumn"===b.type||"rangeBar"===b.type||"rangeArea"===b.type||"rangeSplineArea"===b.type||"waterfall"===b.type||"error"===b.type||"boxAndWhisker"===b.type?m(b):0<=b.type.indexOf("stacked")&&n(b);for(a=0;a<this._axes.length;a++)if(this._axes[a].dataInfo._dataRanges){var p,h=this._axes[a].dataInfo.min;b=(this._axes[a].dataInfo.max+1-h)*Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10)/100;var e,f,i=this._axes[a].dataInfo._dataRanges;if(d=[],this._axes[a].dataInfo.dataPointYPositiveSums){var q,j=this._axes[a].dataInfo.dataPointYPositiveSums;for(c in e=i,j)if(j.hasOwnProperty(c)&&!isNaN(c)&&null!=(f=j[c])){var g=Math.floor((f-h)/b);f<e[g].min&&(e[g].min=f),f>e[g].max&&(e[g].max=f)}delete this._axes[a].dataInfo.dataPointYPositiveSums}if(this._axes[a].dataInfo.dataPointYNegativeSums){for(c in e=i,j=this._axes[a].dataInfo.dataPointYNegativeSums)j.hasOwnProperty(c)&&!isNaN(c)&&((f=-1*j[c])<e[g=Math.floor((f-h)/b)].min&&(e[g].min=f),f>e[g].max&&(e[g].max=f));delete this._axes[a].dataInfo.dataPointYNegativeSums}for(c=0;c<i.length-1;c++)if(isFinite(e=i[c].max))for(;c<i.length-1;){if(isFinite(h=i[c+1].min)){(f=h-e)>b&&d.push({diff:f,start:e,end:h});break}c++}if(this._axes[a].scaleBreaks.customBreaks)for(c=0;c<this._axes[a].scaleBreaks.customBreaks.length;c++)for(b=0;b<d.length;b++)(this._axes[a].scaleBreaks.customBreaks[c].startValue<=d[b].start&&d[b].start<=this._axes[a].scaleBreaks.customBreaks[c].endValue||this._axes[a].scaleBreaks.customBreaks[c].startValue<=d[b].start&&d[b].start<=this._axes[a].scaleBreaks.customBreaks[c].endValue||d[b].start<=this._axes[a].scaleBreaks.customBreaks[c].startValue&&this._axes[a].scaleBreaks.customBreaks[c].startValue<=d[b].end||d[b].start<=this._axes[a].scaleBreaks.customBreaks[c].endValue&&this._axes[a].scaleBreaks.customBreaks[c].endValue<=d[b].end)&&(d.splice(b,1),b--);for(d.sort(function(a,b){return b.diff-a.diff}),c=0;c<Math.min(d.length,this._axes[a].scaleBreaks.maxNumberOfAutoBreaks);c++)b=k(d[c].start,d[c].end,this._axes[a].logarithmic?this._axes[a].dataInfo.max/this._axes[a].dataInfo.min:this._axes[a].dataInfo.max-this._axes[a].dataInfo.min,this._axes[a].logarithmic),this._axes[a].scaleBreaks.autoBreaks.push(new l(this,"autoBreaks",b,c,++this._eventManager.lastObjectId,this._axes[a].scaleBreaks)),this._axes[a].scaleBreaks._appliedBreaks.push(this._axes[a].scaleBreaks.autoBreaks[this._axes[a].scaleBreaks.autoBreaks.length-1]);this._axes[a].scaleBreaks._appliedBreaks.sort(function(a,b){return a.startValue-b.startValue})}}},a.prototype.renderCrosshairs=function(b){for(var a=0;a<this.axisX.length;a++)this.axisX[a]!=b&&this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&!this.axisX[a].crosshair._hidden&&this.axisX[a].showCrosshair(this.axisX[a].crosshair._updatedValue);for(a=0;a<this.axisX2.length;a++)this.axisX2[a]!=b&&this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&!this.axisX2[a].crosshair._hidden&&this.axisX2[a].showCrosshair(this.axisX2[a].crosshair._updatedValue);for(a=0;a<this.axisY.length;a++)this.axisY[a]!=b&&this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&!this.axisY[a].crosshair._hidden&&this.axisY[a].showCrosshair(this.axisY[a].crosshair._updatedValue);for(a=0;a<this.axisY2.length;a++)this.axisY2[a]!=b&&this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&!this.axisY2[a].crosshair._hidden&&this.axisY2[a].showCrosshair(this.axisY2[a].crosshair._updatedValue)},a.prototype.getDataPointAtXY=function(c,e,a){a=a||!1;for(var f,b=[],d=this._dataInRenderedOrder.length-1;0<=d;d--)(f=this._dataInRenderedOrder[d].getDataPointAtXY(c,e,a))&&b.push(f);for(c=null,e=!1,a=0;a<b.length;a++)if(("line"===b[a].dataSeries.type||"stepLine"===b[a].dataSeries.type||"area"===b[a].dataSeries.type||"stepArea"===b[a].dataSeries.type)&&(d=S("markerSize",b[a].dataPoint,b[a].dataSeries)||8,b[a].distance<=d/2)){e=!0;break}for(a=0;a<b.length;a++)e&&"line"!==b[a].dataSeries.type&&"stepLine"!==b[a].dataSeries.type&&"area"!==b[a].dataSeries.type&&"stepArea"!==b[a].dataSeries.type||(c?b[a].distance<=c.distance&&(c=b[a]):c=b[a]);return c},a.prototype.getObjectAtXY=function(c,d,a){var e=null;if(a=this.getDataPointAtXY(c,d,a||!1))e=a.dataSeries.dataPointIds[a.dataPointIndex];else if(f)e=R(c,d,this._eventManager.ghostCtx);else for(a=0;a<this.legend.items.length;a++){var b=this.legend.items[a];c>=b.x1&&c<=b.x2&&d>=b.y1&&d<=b.y2&&(e=b.id)}return e},a.prototype.getAutoFontSize=al,a.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},a.prototype.clearCanvas=aj,a.prototype.attachEvent=function(a){this._events.push(a)},a.prototype._touchEventHandler=function(a){if(a.changedTouches&&this.interactivityEnabled){var e=[],b=a.changedTouches,c=b?b[0]:a,d=null;switch(a.type){case"touchstart":case"MSPointerDown":e=["mousemove","mousedown"],this._lastTouchData=ao(c),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":e=["mousemove"];break;case"touchend":case"MSPointerUp":var f=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;e="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>f?["mouseup","click"]:["mouseup"];break;default:return}if(!(b&&1<b.length)){(d=ao(c)).time=new Date;try{var h,g=d.y-this._lastTouchData.y;f=d.time-this._lastTouchData.time,(1<Math.abs(g)&&this._lastTouchData.scroll||5<Math.abs(g)&&250>f)&&(this._lastTouchData.scroll=!0)}catch(i){}if(this._lastTouchEventType=a.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(b=0;b<e.length;b++)d=e[b],(g=document.createEvent("MouseEvent")).initMouseEvent(d,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),c.target.dispatchEvent(g),(null!=this._lastTouchData.scroll&&!this._lastTouchData.scroll|| !this._lastTouchData.scroll&&250<f||"click"===d)&&(a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.cancelable&&a.preventDefault())}}},a.prototype._dispatchRangeEvent=function(e,f){var g,d={chart:this};d.type=e,d.trigger=f;var a=[];this.axisX&&0<this.axisX.length&&a.push("axisX"),this.axisX2&&0<this.axisX2.length&&a.push("axisX2"),this.axisY&&0<this.axisY.length&&a.push("axisY"),this.axisY2&&0<this.axisY2.length&&a.push("axisY2");for(var b=0;b<a.length;b++)if(null==d[a[b]]&&(d[a[b]]=[]),"axisY"===a[b])for(var c=0;c<this.axisY.length;c++)d[a[b]].push({viewportMinimum:this[a[b]][c].sessionVariables.newViewportMinimum,viewportMaximum:this[a[b]][c].sessionVariables.newViewportMaximum});else if("axisY2"===a[b])for(c=0;c<this.axisY2.length;c++)d[a[b]].push({viewportMinimum:this[a[b]][c].sessionVariables.newViewportMinimum,viewportMaximum:this[a[b]][c].sessionVariables.newViewportMaximum});else if("axisX"===a[b])for(c=0;c<this.axisX.length;c++)d[a[b]].push({viewportMinimum:this[a[b]][c].sessionVariables.newViewportMinimum,viewportMaximum:this[a[b]][c].sessionVariables.newViewportMaximum});else if("axisX2"===a[b])for(c=0;c<this.axisX2.length;c++)d[a[b]].push({viewportMinimum:this[a[b]][c].sessionVariables.newViewportMinimum,viewportMaximum:this[a[b]][c].sessionVariables.newViewportMaximum});this.dispatchEvent(e,d,this)},a.prototype._mouseEventHandler=function(d){void 0===d.target&&d.srcElement&&(d.target=d.srcElement);var c,h,g=ao(d),e=d.type;if(d.which?h=3==d.which:d.button&&(h=2==d.button),a.capturedEventParam&&(c=a.capturedEventParam,"mouseup"===e&&(a.capturedEventParam=null,c.chart.overlaidCanvas.releaseCapture?c.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",c.chart._mouseEventHandler,!1)),c.hasOwnProperty(e)&&("mouseup"!==e||c.chart.overlaidCanvas.releaseCapture?d.target!==c.chart.overlaidCanvas&&f||c[e].call(c.context,g.x,g.y):d.target!==c.chart.overlaidCanvas&&(c.chart.isDrag=!1))),this.interactivityEnabled){if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(d.preventManipulation&&d.preventManipulation(),d.preventDefault&&d.preventDefault(),aa&&window.console&&(window.console.log(e+" --> x: "+g.x+"; y:"+g.y),h&&window.console.log(d.which),"mouseup"===e&&window.console.log("mouseup")),!h){if(!a.capturedEventParam&&this._events){for(var b=0;b<this._events.length;b++)if(this._events[b].hasOwnProperty(e)){if(h=(c=this._events[b]).bounds,g.x>=h.x1&&g.x<=h.x2&&g.y>=h.y1&&g.y<=h.y2){c[e].call(c.context,g.x,g.y),"mousedown"===e&& !0===c.capture?(a.capturedEventParam=c,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===e&&(c.chart.overlaidCanvas.releaseCapture?c.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}c=null}d.target.style.cursor=c&&c.cursor?c.cursor:this._defaultCursor}if(e=this.plotArea,g.x<e.x1||g.x>e.x2||g.y<e.y1||g.y>e.y2){for(this.toolTip&&this.toolTip.enabled?(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip)):this.resetOverlayedCanvas(),b=0;b<this.axisX.length;b++)this.axisX[b].crosshair&&this.axisX[b].crosshair.enabled&&(this.axisX[b].crosshair.hide(),this.axisX[b].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[b].options},this.axisX[b].crosshair));for(b=0;b<this.axisX2.length;b++)this.axisX2[b].crosshair&&this.axisX2[b].crosshair.enabled&&(this.axisX2[b].crosshair.hide(),this.axisX2[b].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[b].options},this.axisX2[b].crosshair));for(b=0;b<this.axisY.length;b++)this.axisY[b].crosshair&&this.axisY[b].crosshair.enabled&&(this.axisY[b].crosshair.hide(),this.axisY[b].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[b].options},this.axisY[b].crosshair));for(b=0;b<this.axisY2.length;b++)this.axisY2[b].crosshair&&this.axisY2[b].crosshair.enabled&&(this.axisY2[b].crosshair.hide(),this.axisY2[b].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[b].options},this.axisY2[b].crosshair))}this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(d)}}},a.prototype._plotAreaMouseDown=function(a,b){this.isDrag=!0,this.dragStartPoint={x:a,y:b}},a.prototype._plotAreaMouseUp=function(e,f){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var b=f-this.dragStartPoint.y,g=e-this.dragStartPoint.x,d=0<=this.zoomType.indexOf("x"),c=0<=this.zoomType.indexOf("y"),a=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var h=c;c=d,d=h}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(d=c=0;d<this._axes.length;d++)(b=this._axes[d]).logarithmic?b.viewportMinimum<b.minimum?(c=b.minimum/b.viewportMinimum,b.sessionVariables.newViewportMinimum=b.viewportMinimum*c,b.sessionVariables.newViewportMaximum=b.viewportMaximum*c,a=!0):b.viewportMaximum>b.maximum&&(c=b.viewportMaximum/b.maximum,b.sessionVariables.newViewportMinimum=b.viewportMinimum/c,b.sessionVariables.newViewportMaximum=b.viewportMaximum/c,a=!0):b.viewportMinimum<b.minimum?(c=b.minimum-b.viewportMinimum,b.sessionVariables.newViewportMinimum=b.viewportMinimum+c,b.sessionVariables.newViewportMaximum=b.viewportMaximum+c,a=!0):b.viewportMaximum>b.maximum&&(c=b.viewportMaximum-b.maximum,b.sessionVariables.newViewportMinimum=b.viewportMinimum-c,b.sessionVariables.newViewportMaximum=b.viewportMaximum-c,a=!0);else if((!d||2<Math.abs(g))&&(!c||2<Math.abs(b))&&this.zoomEnabled){if(!this.dragStartPoint)return;b=d?this.dragStartPoint.x:this.plotArea.x1,g=c?this.dragStartPoint.y:this.plotArea.y1,d=d?e:this.plotArea.x2,c=c?f:this.plotArea.y2,2<Math.abs(b-d)&&2<Math.abs(g-c)&&this._zoomPanToSelectedRegion(b,g,d,c)&&(a=!0)}a&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter||(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:this.stockChart.sessionVariables._axisXMin,maximum:this.stockChart.sessionVariables._axisXMax}),this.stockChart._rangeEventParameter.type="rangeChanging",this.stockChart.dispatchEvent("rangeChanging",this.stockChart._rangeEventParameter,this.stockChart)),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter.type="rangeChanged",this.stockChart.dispatchEvent("rangeChanged",this.stockChart._rangeEventParameter,this.stockChart)),a&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(X(this._zoomButton,this._resetButton),W(this,this._zoomButton,"pan"),W(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].renderCrosshair(e,f);if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].renderCrosshair(e,f);if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].renderCrosshair(e,f);if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].renderCrosshair(e,f);if(this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].crosshair.renderLabel()}},a.prototype._plotAreaMouseMove=function(d,e){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var i,j,k,l,c=0,g=0,a=c=null,f=(a=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),h=this;if("xySwapped"===this.plotInfo.axisPlacement&&(c=f,f=a,a=c),c=this.dragStartPoint.x-d,g=this.dragStartPoint.y-e,2<Math.abs(c)&&8>Math.abs(c)&&(this.panEnabled||this.zoomEnabled)){this.toolTip.hide(),this.toolTip&&this.toolTip.enabled&&this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip);for(var b=0;b<this.axisX.length;b++)this.axisX[b].crosshair&&this.axisX[b].crosshair.enabled&&(this.axisX[b].crosshair.hide(),this.axisX[b].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[b].options},this.axisX[b].crosshair));for(b=0;b<this.axisX2.length;b++)this.axisX2[b].crosshair&&this.axisX2[b].crosshair.enabled&&(this.axisX2[b].crosshair.hide(),this.axisX2[b].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[b].options},this.axisX2[b].crosshair));for(b=0;b<this.axisY.length;b++)this.axisY[b].crosshair&&this.axisY[b].crosshair.enabled&&(this.axisY[b].crosshair.hide(),this.axisY[b].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[b].options},this.axisY[b].crosshair));for(b=0;b<this.axisY2.length;b++)this.axisY2[b].crosshair&&this.axisY2[b].crosshair.enabled&&(this.axisY2[b].crosshair.hide(),this.axisY2[b].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[b].options},this.axisY2[b].crosshair))}else this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(d,e);if((!a||2<Math.abs(c)||!f||2<Math.abs(g))&&(this.panEnabled||this.zoomEnabled)){if(this.panEnabled)a={x1:a?this.plotArea.x1+c:this.plotArea.x1,y1:f?this.plotArea.y1+g:this.plotArea.y1,x2:a?this.plotArea.x2+c:this.plotArea.x2,y2:f?this.plotArea.y2+g:this.plotArea.y2},clearTimeout(h._panTimerId),h._panTimerId=setTimeout((i=a.x1,j=a.y1,k=a.x2,l=a.y2,function(){h._zoomPanToSelectedRegion(i,j,k,l,!0)&&(h._dispatchRangeEvent("rangeChanging","pan"),h.stockChart&&h.stockChart.navigator&&h.stockChart.navigator.enabled&&(h.stockChart._rangeEventParameter.type="rangeChanging",h.stockChart.dispatchEvent("rangeChanging",h.stockChart._rangeEventParameter,h.stockChart)),h.render(),h._dispatchRangeEvent("rangeChanged","pan"),h.stockChart&&h.stockChart.navigator&&h.stockChart.navigator.enabled&&(h.stockChart._rangeEventParameter.type="rangeChanged",h.stockChart.dispatchEvent("rangeChanged",h.stockChart._rangeEventParameter,h.stockChart)),h.dragStartPoint.x=d,h.dragStartPoint.y=e)}),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),c=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896",g=a?this.dragStartPoint.x:this.plotArea.x1,b=f?this.dragStartPoint.y:this.plotArea.y1;var m=a?d-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,n=f?e-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(g,b,a?d:this.plotArea.x2-this.plotArea.x1,f?e:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(g,b,m,n),this.overlaidCanvasCtx.globalAlpha=c}}}else if(this.toolTip.mouseMoveHandler(d,e),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].renderCrosshair(d,e);if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].renderCrosshair(d,e);if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].renderCrosshair(d,e);if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].renderCrosshair(d,e);if(this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].crosshair.renderLabel()}},a.prototype._zoomPanToSelectedRegion=function(c,d,e,b,a){if(d=(c=this.validateRegion(c,d,e,b,a)).axesWithValidRange,e=c.axesRanges,c.isValid)for(b=0;b<d.length;b++)a=e[b],d[b].setViewPortRange(a.val1,a.val2),this.syncCharts&&"y"!=this.zoomType&&this.syncCharts(a.val1,a.val2),this.stockChart&&(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:a.val1,maximum:a.val2});return c.isValid},a.prototype.validateRegion=function(l,m,n,o,g){g=g||!1;for(var c=0<=this.zoomType.indexOf("x"),d=0<=this.zoomType.indexOf("y"),h=!1,j=[],i=[],k=[],a=0;a<this._axes.length;a++)("axisX"===this._axes[a].type&&c||"axisY"===this._axes[a].type&&d)&&i.push(this._axes[a]);for(d=0;d<i.length;d++){if(c=!1,(f=(a=i[d]).convertPixelToValue({x:l,y:m}))>(e=a.convertPixelToValue({x:n,y:o})))var b=e,e=f,f=b;if(a.scaleBreaks)for(b=0;!c&&b<a.scaleBreaks._appliedBreaks.length;b++)c=a.scaleBreaks._appliedBreaks[b].startValue<=f&&a.scaleBreaks._appliedBreaks[b].endValue>=e;if(isFinite(a.dataInfo.minDiff)){if(b=a.getApparentDifference(f,e,null,!0),c|| !(this.panEnabled&&a.scaleBreaks&&a.scaleBreaks._appliedBreaks.length)&&(a.logarithmic&&b<Math.pow(a.dataInfo.minDiff,3)|| !a.logarithmic&&b<3*Math.abs(a.dataInfo.minDiff))||f<a.minimum||e>a.maximum){if(!g){h=!1;break}}else j.push(a),k.push({val1:f,val2:e}),h=!0}}return{isValid:h,axesWithValidRange:j,axesRanges:k}},a.prototype.preparePlotArea=function(){var a=this.plotArea;if(!f&&(0<a.x1||0<a.y1)&&a.ctx.translate(a.x1,a.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var b=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var c=this.axisY[0];a.x1=b.x1<b.x2?b.x1:c.lineCoordinates.x1,a.y1=b.y1<c.lineCoordinates.y1?b.y1:c.lineCoordinates.y1,a.x2=b.x2>c.lineCoordinates.x2?b.x2:c.lineCoordinates.x2,a.y2=b.y2>b.y1?b.y2:c.lineCoordinates.y2,a.width=a.x2-a.x1,a.height=a.y2-a.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(c=this.axisY2[0],a.x1=b.x1<b.x2?b.x1:c.lineCoordinates.x1,a.y1=b.y1<c.lineCoordinates.y1?b.y1:c.lineCoordinates.y1,a.x2=b.x2>c.lineCoordinates.x2?b.x2:c.lineCoordinates.x2,a.y2=b.y2>b.y1?b.y2:c.lineCoordinates.y2,a.width=a.x2-a.x1,a.height=a.y2-a.y1)}else b=this.layoutManager.getFreeSpace(),a.x1=b.x1,a.x2=b.x2,a.y1=b.y1,a.y2=b.y2,a.width=b.width,a.height=b.height;f||(a.canvas.width=a.width,a.canvas.height=a.height,a.canvas.style.left=a.x1+"px",a.canvas.style.top=a.y1+"px",(0<a.x1||0<a.y1)&&a.ctx.translate(-a.x1,-a.y1)),a.layoutManager=new n(a.x1,a.y1,a.x2,a.y2,2)},a.prototype.renderIndexLabels=function(t){var x,p=t||this.plotArea.ctx,c=this.plotArea,r=0,e=0,l=0,o=l=e=0,j=0,m=r=0,g=0;for(t=0;t<this._indexLabels.length;t++){var q,h,C,D,a=this._indexLabels[t],b=a.chartType.toLowerCase(),d=(o=S("indexLabelFontColor",a.dataPoint,a.dataSeries),S("indexLabelFontSize",a.dataPoint,a.dataSeries)),s=(j=S("indexLabelFontFamily",a.dataPoint,a.dataSeries),m=S("indexLabelFontStyle",a.dataPoint,a.dataSeries),g=S("indexLabelFontWeight",a.dataPoint,a.dataSeries),S("indexLabelBackgroundColor",a.dataPoint,a.dataSeries));q=S("indexLabelMaxWidth",a.dataPoint,a.dataSeries),h=S("indexLabelWrap",a.dataPoint,a.dataSeries);var y=S("indexLabelLineDashType",a.dataPoint,a.dataSeries),z=S("indexLabelLineColor",a.dataPoint,a.dataSeries),v=null==a.dataPoint.indexLabelLineThickness?null==a.dataSeries.options.indexLabelLineThickness?0:a.dataSeries.options.indexLabelLineThickness:a.dataPoint.indexLabelLineThickness,n=(r=0<v?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,{percent:null,total:null}),i=null;(0<=a.dataSeries.type.indexOf("stacked")||"pie"===a.dataSeries.type||"doughnut"===a.dataSeries.type)&&(n=this.getPercentAndTotal(a.dataSeries,a.dataPoint)),(a.dataSeries.indexLabelFormatter||a.dataPoint.indexLabelFormatter)&&(i={chart:this,dataSeries:a.dataSeries,dataPoint:a.dataPoint,index:a.indexKeyword,total:n.total,percent:n.percent});var w=a.dataPoint.indexLabelFormatter?a.dataPoint.indexLabelFormatter(i):a.dataPoint.indexLabel?this.replaceKeywordsWithValue(a.dataPoint.indexLabel,a.dataPoint,a.dataSeries,null,a.indexKeyword):a.dataSeries.indexLabelFormatter?a.dataSeries.indexLabelFormatter(i):a.dataSeries.indexLabel?this.replaceKeywordsWithValue(a.dataSeries.indexLabel,a.dataPoint,a.dataSeries,null,a.indexKeyword):null;if(null!==w&&""!==w){n=S("indexLabelPlacement",a.dataPoint,a.dataSeries),i=S("indexLabelOrientation",a.dataPoint,a.dataSeries);var B=S("indexLabelTextAlign",a.dataPoint,a.dataSeries),u=a.direction,_=(e=a.dataSeries.axisX,l=a.dataSeries.axisY,!1);if((s=new k(p,{x:0,y:0,maxWidth:q||.5*this.width,maxHeight:h?5*d:1.5*d,angle:"horizontal"===i?0:-90,text:w,padding:0,backgroundColor:s,textAlign:B,fontSize:d,fontFamily:j,fontWeight:g,fontColor:o,fontStyle:m,textBaseline:"middle"})).measureText(),a.dataSeries.indexLabelMaxWidth=s.maxWidth,"stackedarea100"===b){if(a.point.x<c.x1||a.point.x>c.x2||a.point.y<c.y1-1||a.point.y>c.y2+1)continue}else if("rangearea"===b||"rangesplinearea"===b){if(a.dataPoint.x<e.viewportMinimum||a.dataPoint.x>e.viewportMaximum||Math.max.apply(null,a.dataPoint.y)<l.viewportMinimum||Math.min.apply(null,a.dataPoint.y)>l.viewportMaximum)continue}else if(0<=b.indexOf("line")||0<=b.indexOf("area")||0<=b.indexOf("bubble")||0<=b.indexOf("scatter")){if(a.dataPoint.x<e.viewportMinimum||a.dataPoint.x>e.viewportMaximum||a.dataPoint.y<l.viewportMinimum||a.dataPoint.y>l.viewportMaximum)continue}else if(0<=b.indexOf("column")||"waterfall"===b||"error"===b&&!a.axisSwapped){if(a.dataPoint.x<e.viewportMinimum||a.dataPoint.x>e.viewportMaximum||a.bounds.y1>c.y2||a.bounds.y2<c.y1)continue}else if(0<=b.indexOf("bar")||"error"===b){if(a.dataPoint.x<e.viewportMinimum||a.dataPoint.x>e.viewportMaximum||a.bounds.x1>c.x2||a.bounds.x2<c.x1)continue}else if("candlestick"===b||"ohlc"===b){if(a.dataPoint.x<e.viewportMinimum||a.dataPoint.x>e.viewportMaximum||Math.max.apply(null,a.dataPoint.y)<l.viewportMinimum||Math.min.apply(null,a.dataPoint.y)>l.viewportMaximum)continue}else if(a.dataPoint.x<e.viewportMinimum||a.dataPoint.x>e.viewportMaximum)continue;o=j=2,"horizontal"===i?(m=s.width,g=s.height):(g=s.width,m=s.height),"normal"===this.plotInfo.axisPlacement?(0<=b.indexOf("line")||0<=b.indexOf("area")?(n="auto",j=4):0<=b.indexOf("stacked")?"auto"===n&&(n="inside"):"bubble"!==b&&"scatter"!==b||(n="inside"),q=a.point.x-("horizontal"===i?m/2:m/2-d/2),"inside"!==n?(e=c.y1,l=c.y2,0<u?(h=a.point.y+("horizontal"===i?d/2:0)-g-j-r)<e&&(_=(h="auto"===n?Math.max(a.point.y,e)+d/2+j:e+d/2+j)+g>a.point.y):(h=a.point.y+d/2+j+r)>l-g&&(_=(h="auto"===n?Math.min(a.point.y,l)+d/2-g-j:l+d/2-g)<a.point.y)):(e=Math.max(a.bounds.y1,c.y1),l=Math.min(a.bounds.y2,c.y2-g+d/2),r=0<=b.indexOf("range")||"error"===b?0<u?Math.max(a.bounds.y1,c.y1)+d/2+j:Math.min(a.bounds.y2,c.y2)+d/2-g+j:(Math.max(a.bounds.y1,c.y1)+Math.min(a.bounds.y2,c.y2))/2-g/2+d/2+("horizontal"===i?j:0),0<u?(h=Math.max(a.point.y,r))<e&&("bubble"===b||"scatter"===b)&&(h=Math.max(a.point.y-g-j,c.y1+j)):(h=Math.min(a.point.y,r))>l-g-j&&("bubble"===b||"scatter"===b)&&(h=Math.min(a.point.y+j,c.y2-g-j)),h=Math.min(h,l))):(0<=b.indexOf("line")||0<=b.indexOf("area")||0<=b.indexOf("scatter")?(n="auto",o=4):0<=b.indexOf("stacked")?"auto"===n&&(n="inside"):"bubble"===b&&(n="inside"),h=a.point.y+d/2-g/2+j,"inside"!==n?(e=c.x1,l=c.x2,0>u?(q=a.point.x-("horizontal"===i?m:m-d/2)-o-r)<e&&(_=(q="auto"===n?Math.max(a.point.x,e)+o:e+o)+m>a.point.x):(q=a.point.x+("horizontal"===i?0:d/2)+o+r)>l-m-o-r&&(_=(q="auto"===n?Math.min(a.point.x,l)-("horizontal"===i?m:m/2)-o:l-m-o)<a.point.x)):(e=Math.max(a.bounds.x1,c.x1),a.bounds.x2,c.x2,r=0<=b.indexOf("range")||"error"===b?0>u?Math.max(a.bounds.x1,c.x1)+d/2+o:Math.min(a.bounds.x2,c.x2)-m/2-o+("horizontal"===i?0:d/2):(Math.max(a.bounds.x1,c.x1)+Math.min(a.bounds.x2,c.x2))/2+("horizontal"===i?0:d/2),q=0>u?Math.max(a.point.x,r)-("horizontal"===i?m/2:0):Math.min(a.point.x,r)-m/2,q=Math.max(q,e))),"vertical"===i&&(h+=g-d/2),s.x=q,s.y=h,s.render(!0),v&&"inside"!==n&&(0>b.indexOf("bar")&&("error"!==b||!a.axisSwapped)&&a.point.x>c.x1&&a.point.x<c.x2||!_)&&(0>b.indexOf("column")&&("error"!==b||a.axisSwapped)&&a.point.y>c.y1&&a.point.y<c.y2||!_)&&(p.lineWidth=v,p.strokeStyle=z||"gray",p.setLineDash&&p.setLineDash(P(y,v)),p.beginPath(),p.moveTo(a.point.x,a.point.y),0<=b.indexOf("bar")||"error"===b&&a.axisSwapped?p.lineTo(q+(0<a.direction?-o:m+o)+("vertical"===i?-d/2:0),h+("vertical"===i?-g/2:g/2-d/2)-j):0<=b.indexOf("column")||"error"===b&&!a.axisSwapped?p.lineTo(q+m/2-("horizontal"===i?0:d/2),h+("vertical"===i?(h-g<a.point.y?0:-g)+j:(h-d/2<a.point.y?g:0)-d/2)):p.lineTo(q+m/2-("horizontal"===i?0:d/2),h+("vertical"===i?h-g<a.point.y?0:-g:(h-d/2<a.point.y?g:0)-d/2)),p.stroke())}}for(p={source:p,dest:this.plotArea.ctx,animationCallback:A.fadeInAnimation,easingFunction:A.easing.easeInQuad,animationBase:0,startTimePercent:.7},t=0;t<this._indexLabels.length;t++)x=s=S("indexLabelBackgroundColor",(a=this._indexLabels[t]).dataPoint,a.dataSeries),a.dataSeries.indexLabelBackgroundColor=null==x?f?"transparent":null:s;return p},a.prototype.renderLine=function(h){var q=h.targetCanvasCtx||this.plotArea.ctx,a=f?this._preRenderCtx:q;if(!(0>=h.dataSeriesIndexes.length)){var i=this._eventManager.ghostCtx;a.save();var k=this.plotArea;a.beginPath(),a.rect(k.x1,k.y1,k.width,k.height),a.clip();for(var r,s=[],t=0;t<h.dataSeriesIndexes.length;t++){var u=h.dataSeriesIndexes[t],b=this.data[u];a.lineWidth=b.lineThickness;var d=b.dataPoints,l="solid";if(a.setLineDash){var x=P(b.nullDataLineDashType,b.lineThickness),w=P(l=b.lineDashType,b.lineThickness);a.setLineDash(w)}var j=b.id;this._eventManager.objectMap[j]={objectType:"dataSeries",dataSeriesIndex:u},j=L(j),i.strokeStyle=j,i.lineWidth=0<b.lineThickness?Math.max(b.lineThickness,4):0,j=b._colorSet;var v=j=b.lineColor=b.options.lineColor?b.options.lineColor:j[0];a.strokeStyle=j;var e,g,o=!0,c=0;if(a.beginPath(),0<d.length){var n=!1;for(c=0;c<d.length;c++)if(!((e=d[c].x.getTime?d[c].x.getTime():d[c].x)<h.axisX.dataInfo.viewPortMin||e>h.axisX.dataInfo.viewPortMax&&(!b.connectNullData||!n))){if("number"!=typeof d[c].y)0<c&&!(b.connectNullData||n||o)&&(a.stroke(),f&&i.stroke()),n=!0;else{e=h.axisX.convertValueToPixel(e),g=h.axisY.convertValueToPixel(d[c].y);var m=b.dataPointIds[c];if(this._eventManager.objectMap[m]={id:m,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:c,x1:e,y1:g},o||n?(!o&&b.connectNullData?(a.setLineDash&&(b.options.nullDataLineDashType||l===b.lineDashType&&b.lineDashType!==b.nullDataLineDashType)&&(a.stroke(),a.beginPath(),a.moveTo(r.x,r.y),l=b.nullDataLineDashType,a.setLineDash(x)),a.lineTo(e,g),f&&i.lineTo(e,g)):(a.beginPath(),a.moveTo(e,g),f&&(i.beginPath(),i.moveTo(e,g))),n=o=!1):(a.lineTo(e,g),f&&i.lineTo(e,g),0==c%500&&(a.stroke(),a.beginPath(),a.moveTo(e,g),f&&(i.stroke(),i.beginPath(),i.moveTo(e,g)))),r={x:e,y:g},c<d.length-1&&(v!==(d[c].lineColor||j)||l!==(d[c].lineDashType||b.lineDashType))&&(a.stroke(),a.beginPath(),a.moveTo(e,g),v=d[c].lineColor||j,a.strokeStyle=v,a.setLineDash&&(d[c].lineDashType?(l=d[c].lineDashType,a.setLineDash(P(l,b.lineThickness))):(l=b.lineDashType,a.setLineDash(w)))),0<d[c].markerSize||0<b.markerSize){var p=b.getMarkerProperties(c,e,g,a);s.push(p),m=L(m),f&&s.push({x:e,y:g,ctx:i,type:p.type,size:p.size,color:m,borderColor:m,borderThickness:p.borderThickness})}(d[c].indexLabel||b.indexLabel||d[c].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:d[c],dataSeries:b,point:{x:e,y:g},direction:0>d[c].y===h.axisY.reversed?1:-1,color:j})}}a.stroke(),f&&i.stroke()}}return $.drawMarkers(s),f&&(q.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",h.axisX.maskCanvas&&a.drawImage(h.axisX.maskCanvas,0,0,this.width,this.height),h.axisY.maskCanvas&&a.drawImage(h.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(k.x1,k.y1,k.width,k.height),i.beginPath()),a.restore(),a.beginPath(),{source:q,dest:this.plotArea.ctx,animationCallback:A.xClipAnimation,easingFunction:A.easing.linear,animationBase:0}}},a.prototype.renderStepLine=function(i){var q=i.targetCanvasCtx||this.plotArea.ctx,a=f?this._preRenderCtx:q;if(!(0>=i.dataSeriesIndexes.length)){var h=this._eventManager.ghostCtx;a.save();var l=this.plotArea;a.beginPath(),a.rect(l.x1,l.y1,l.width,l.height),a.clip();for(var r,s=[],t=0;t<i.dataSeriesIndexes.length;t++){var u=i.dataSeriesIndexes[t],b=this.data[u];a.lineWidth=b.lineThickness;var e=b.dataPoints,m="solid";if(a.setLineDash){var x=P(b.nullDataLineDashType,b.lineThickness),w=P(m=b.lineDashType,b.lineThickness);a.setLineDash(w)}var j=b.id;this._eventManager.objectMap[j]={objectType:"dataSeries",dataSeriesIndex:u},j=L(j),h.strokeStyle=j,h.lineWidth=0<b.lineThickness?Math.max(b.lineThickness,4):0,j=b._colorSet;var v=j=b.lineColor=b.options.lineColor?b.options.lineColor:j[0];a.strokeStyle=j;var d,g,p=!0,c=0;if(a.beginPath(),0<e.length){var o=!1;for(c=0;c<e.length;c++)if(!((d=e[c].getTime?e[c].x.getTime():e[c].x)<i.axisX.dataInfo.viewPortMin||d>i.axisX.dataInfo.viewPortMax&&(!b.connectNullData||!o))){if("number"!=typeof e[c].y)0<c&&!(b.connectNullData||o||p)&&(a.stroke(),f&&h.stroke()),o=!0;else{var k=g;d=i.axisX.convertValueToPixel(d),g=i.axisY.convertValueToPixel(e[c].y);var n=b.dataPointIds[c];this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:c,x1:d,y1:g},p||o?(!p&&b.connectNullData?(a.setLineDash&&(b.options.nullDataLineDashType||m===b.lineDashType&&b.lineDashType!==b.nullDataLineDashType)&&(a.stroke(),a.beginPath(),a.moveTo(r.x,r.y),m=b.nullDataLineDashType,a.setLineDash(x)),a.lineTo(d,k),a.lineTo(d,g),f&&(h.lineTo(d,k),h.lineTo(d,g))):(a.beginPath(),a.moveTo(d,g),f&&(h.beginPath(),h.moveTo(d,g))),o=p=!1):(a.lineTo(d,k),f&&h.lineTo(d,k),a.lineTo(d,g),f&&h.lineTo(d,g),0==c%500&&(a.stroke(),a.beginPath(),a.moveTo(d,g),f&&(h.stroke(),h.beginPath(),h.moveTo(d,g)))),r={x:d,y:g},c<e.length-1&&(v!==(e[c].lineColor||j)||m!==(e[c].lineDashType||b.lineDashType))&&(a.stroke(),a.beginPath(),a.moveTo(d,g),v=e[c].lineColor||j,a.strokeStyle=v,a.setLineDash&&(e[c].lineDashType?(m=e[c].lineDashType,a.setLineDash(P(m,b.lineThickness))):(m=b.lineDashType,a.setLineDash(w)))),(0<e[c].markerSize||0<b.markerSize)&&(k=b.getMarkerProperties(c,d,g,a),s.push(k),n=L(n),f&&s.push({x:d,y:g,ctx:h,type:k.type,size:k.size,color:n,borderColor:n,borderThickness:k.borderThickness})),(e[c].indexLabel||b.indexLabel||e[c].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:e[c],dataSeries:b,point:{x:d,y:g},direction:0>e[c].y===i.axisY.reversed?1:-1,color:j})}}a.stroke(),f&&h.stroke()}}return $.drawMarkers(s),f&&(q.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&a.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&a.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(l.x1,l.y1,l.width,l.height),h.beginPath()),a.restore(),a.beginPath(),{source:q,dest:this.plotArea.ctx,animationCallback:A.xClipAnimation,easingFunction:A.easing.linear,animationBase:0}}},a.prototype.renderSpline=function(g){function u(a){if(0<(a=w(a,2)).length){d.beginPath(),f&&n.beginPath(),d.moveTo(a[0].x,a[0].y),a[0].newStrokeStyle&&(d.strokeStyle=a[0].newStrokeStyle),a[0].newLineDashArray&&d.setLineDash(a[0].newLineDashArray),f&&n.moveTo(a[0].x,a[0].y);for(var b=0;b<a.length-3;b+=3)d.bezierCurveTo(a[b+1].x,a[b+1].y,a[b+2].x,a[b+2].y,a[b+3].x,a[b+3].y),f&&n.bezierCurveTo(a[b+1].x,a[b+1].y,a[b+2].x,a[b+2].y,a[b+3].x,a[b+3].y),(0<b&&0==b%3e3||a[b+3].newStrokeStyle||a[b+3].newLineDashArray)&&(d.stroke(),d.beginPath(),d.moveTo(a[b+3].x,a[b+3].y),a[b+3].newStrokeStyle&&(d.strokeStyle=a[b+3].newStrokeStyle),a[b+3].newLineDashArray&&d.setLineDash(a[b+3].newLineDashArray),f&&(n.stroke(),n.beginPath(),n.moveTo(a[b+3].x,a[b+3].y)));d.stroke(),f&&n.stroke()}}var p=g.targetCanvasCtx||this.plotArea.ctx,d=f?this._preRenderCtx:p;if(!(0>=g.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx;d.save();var k=this.plotArea;d.beginPath(),d.rect(k.x1,k.y1,k.width,k.height),d.clip();for(var q=[],r=0;r<g.dataSeriesIndexes.length;r++){var s=g.dataSeriesIndexes[r],a=this.data[s];d.lineWidth=a.lineThickness;var c=a.dataPoints,l="solid";if(d.setLineDash){var x=P(a.nullDataLineDashType,a.lineThickness),v=P(l=a.lineDashType,a.lineThickness);d.setLineDash(v)}var h=a.id;this._eventManager.objectMap[h]={objectType:"dataSeries",dataSeriesIndex:s},h=L(h),n.strokeStyle=h,n.lineWidth=0<a.lineThickness?Math.max(a.lineThickness,4):0,h=a._colorSet;var t=h=a.lineColor=a.options.lineColor?a.options.lineColor:h[0];d.strokeStyle=h;var j,i,b=0,e=[];if(d.beginPath(),0<c.length){for(i=!1,b=0;b<c.length;b++)if(!((j=c[b].getTime?c[b].x.getTime():c[b].x)<g.axisX.dataInfo.viewPortMin||j>g.axisX.dataInfo.viewPortMax&&(!a.connectNullData||!i))){if("number"!=typeof c[b].y)0<b&&!i&&(a.connectNullData?d.setLineDash&&0<e.length&&(a.options.nullDataLineDashType||!c[b-1].lineDashType)&&(e[e.length-1].newLineDashArray=x,l=a.nullDataLineDashType):(u(e),e=[])),i=!0;else{j=g.axisX.convertValueToPixel(j),i=g.axisY.convertValueToPixel(c[b].y);var m=a.dataPointIds[b];if(this._eventManager.objectMap[m]={id:m,objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:b,x1:j,y1:i},e[e.length]={x:j,y:i},b<c.length-1&&(t!==(c[b].lineColor||h)||l!==(c[b].lineDashType||a.lineDashType))&&(t=c[b].lineColor||h,e[e.length-1].newStrokeStyle=t,d.setLineDash&&(c[b].lineDashType?(l=c[b].lineDashType,e[e.length-1].newLineDashArray=P(l,a.lineThickness)):(l=a.lineDashType,e[e.length-1].newLineDashArray=v))),0<c[b].markerSize||0<a.markerSize){var o=a.getMarkerProperties(b,j,i,d);q.push(o),m=L(m),f&&q.push({x:j,y:i,ctx:n,type:o.type,size:o.size,color:m,borderColor:m,borderThickness:o.borderThickness})}(c[b].indexLabel||a.indexLabel||c[b].indexLabelFormatter||a.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:c[b],dataSeries:a,point:{x:j,y:i},direction:0>c[b].y===g.axisY.reversed?1:-1,color:h}),i=!1}}}u(e)}return $.drawMarkers(q),f&&(p.drawImage(this._preRenderCanvas,0,0,this.width,this.height),d.globalCompositeOperation="source-atop",g.axisX.maskCanvas&&d.drawImage(g.axisX.maskCanvas,0,0,this.width,this.height),g.axisY.maskCanvas&&d.drawImage(g.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),d.clearRect(k.x1,k.y1,k.width,k.height),n.beginPath()),d.restore(),d.beginPath(),{source:p,dest:this.plotArea.ctx,animationCallback:A.xClipAnimation,easingFunction:A.easing.linear,animationBase:0}}},a.prototype.renderColumn=function(a){var p=a.targetCanvasCtx||this.plotArea.ctx,l=f?this._preRenderCtx:p;if(!(0>=a.dataSeriesIndexes.length)){var e,h,q,j=null,g=this.plotArea,b=0,o=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),i=(b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/a.plotType.totalDataSeries*.9)<<0),d=a.axisX.dataInfo.minDiff;for(isFinite(d)||(d=.3*Math.abs(a.axisX.range)),d=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:g.width*(a.axisX.logarithmic?Math.log(d)/Math.log(a.axisX.range):Math.abs(d)/Math.abs(a.axisX.range))/a.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&b>i&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<b&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),d<b&&(d=b),d>i&&(d=i),l.save(),f&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(g.x1,g.y1,g.width,g.height),l.clip(),f&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip()),i=0;i<a.dataSeriesIndexes.length;i++){var r=a.dataSeriesIndexes[i],m=this.data[r],c=m.dataPoints;if(0<c.length){var s=!!(5<d&&m.bevelEnabled);for(b=0;b<c.length;b++)if(!((q=c[b].getTime?c[b].x.getTime():c[b].x)<a.axisX.dataInfo.viewPortMin||q>a.axisX.dataInfo.viewPortMax)&&"number"==typeof c[b].y){e=a.axisX.convertValueToPixel(q),h=a.axisY.convertValueToPixel(c[b].y),e=a.axisX.reversed?e+a.plotType.totalDataSeries*d/2-(a.previousDataSeriesCount+i)*d<<0:e-a.plotType.totalDataSeries*d/2+(a.previousDataSeriesCount+i)*d<<0;var k,n=a.axisX.reversed?e-d<<0:e+d<<0;0<=c[b].y?k=o:(k=h,h=o),h>k&&(j=h,h=k,k=j),j=c[b].color?c[b].color:m._colorSet[b%m._colorSet.length],aq(l,a.axisX.reversed?n:e,h,a.axisX.reversed?e:n,k,j,0,null,s&&(a.axisY.reversed?0>c[b].y:0<=c[b].y),(a.axisY.reversed?0<=c[b].y:0>c[b].y)&&s,!1,!1,m.fillOpacity),j=m.dataPointIds[b],this._eventManager.objectMap[j]={id:j,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:b,x1:e,y1:h,x2:n,y2:k},j=L(j),f&&aq(this._eventManager.ghostCtx,a.axisX.reversed?n:e,h,a.axisX.reversed?e:n,k,j,0,null,!1,!1,!1,!1),(c[b].indexLabel||m.indexLabel||c[b].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:c[b],dataSeries:m,point:{x:e+(n-e)/2,y:0>c[b].y===a.axisY.reversed?h:k},direction:0>c[b].y===a.axisY.reversed?1:-1,bounds:{x1:e,y1:Math.min(h,k),x2:n,y2:Math.max(h,k)},color:j})}}}return f&&(p.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&l.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&l.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:p,dest:this.plotArea.ctx,animationCallback:A.yScaleAnimation,easingFunction:A.easing.easeOutQuart,animationBase:o<a.axisY.bounds.y1?a.axisY.bounds.y1:o>a.axisY.bounds.y2?a.axisY.bounds.y2:o}}},a.prototype.renderStackedColumn=function(a){var u=a.targetCanvasCtx||this.plotArea.ctx,j=f?this._preRenderCtx:u;if(!(0>=a.dataSeriesIndexes.length)){var k,e,c=null,h=this.plotArea,n=[],o=[],q=[],s=[],b=0,m=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0);b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,k=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var i=a.axisX.dataInfo.minDiff;isFinite(i)||(i=.3*Math.abs(a.axisX.range)),i=this.options.dataPointWidth?this.dataPointWidth:h.width*(a.axisX.logarithmic?Math.log(i)/Math.log(a.axisX.range):Math.abs(i)/Math.abs(a.axisX.range))/a.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&b>k&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,k)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&k<b&&(k=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),i<b&&(i=b),i>k&&(i=k),j.save(),f&&this._eventManager.ghostCtx.save(),j.beginPath(),j.rect(h.x1,h.y1,h.width,h.height),j.clip(),f&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var v=0;v<a.dataSeriesIndexes.length;v++){var w=a.dataSeriesIndexes[v],l=this.data[w],d=l.dataPoints;if(0<d.length){var x=!!(5<i&&l.bevelEnabled);for(j.strokeStyle="#4572A7 ",b=0;b<d.length;b++)if(!((c=d[b].x.getTime?d[b].x.getTime():d[b].x)<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax)&&"number"==typeof d[b].y){var g,r=(k=a.axisX.convertValueToPixel(c))-a.plotType.plotUnits.length*i/2+a.index*i<<0,t=r+i<<0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0<d[b].y)q[c]=d[b].y+(q[c]?q[c]:0),0<q[c]&&(e=a.axisY.convertValueToPixel(q[c]),g=void 0!==n[c]?n[c]:m,n[c]=e);else if(a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0>=d[b].y)s[c]=d[b].y+(s[c]?s[c]:0),g=a.axisY.convertValueToPixel(s[c]),e=void 0!==o[c]?o[c]:m,o[c]=g;else if(e=a.axisY.convertValueToPixel(d[b].y),0<=d[b].y){var p=void 0!==n[c]?n[c]:0;e-=p,g=m-p,n[c]=p+(g-e)}else g=e+(p=o[c]?o[c]:0),e=m+p,o[c]=p+(g-e);c=d[b].color?d[b].color:l._colorSet[b%l._colorSet.length],aq(j,r,a.axisY.reversed?g:e,t,a.axisY.reversed?e:g,c,0,null,x&&(a.axisY.reversed?0>d[b].y:0<=d[b].y),(a.axisY.reversed?0<=d[b].y:0>d[b].y)&&x,!1,!1,l.fillOpacity),c=l.dataPointIds[b],this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:b,x1:r,y1:e,x2:t,y2:g},c=L(c),f&&aq(this._eventManager.ghostCtx,r,e,t,g,c,0,null,!1,!1,!1,!1),(d[b].indexLabel||l.indexLabel||d[b].indexLabelFormatter||l.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:d[b],dataSeries:l,point:{x:k,y:0<=d[b].y?e:g},direction:0>d[b].y===a.axisY.reversed?1:-1,bounds:{x1:r,y1:Math.min(e,g),x2:t,y2:Math.max(e,g)},color:c})}}}return f&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&j.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&j.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),j.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:A.yScaleAnimation,easingFunction:A.easing.easeOutQuart,animationBase:m<a.axisY.bounds.y1?a.axisY.bounds.y1:m>a.axisY.bounds.y2?a.axisY.bounds.y2:m}}},a.prototype.renderStackedColumn100=function(a){var v=a.targetCanvasCtx||this.plotArea.ctx,j=f?this._preRenderCtx:v;if(!(0>=a.dataSeriesIndexes.length)){var k,d,b=null,g=this.plotArea,n=[],o=[],q=[],t=[],c=0,m=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0);c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,k=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var i=a.axisX.dataInfo.minDiff;isFinite(i)||(i=.3*Math.abs(a.axisX.range)),i=this.options.dataPointWidth?this.dataPointWidth:g.width*(a.axisX.logarithmic?Math.log(i)/Math.log(a.axisX.range):Math.abs(i)/Math.abs(a.axisX.range))/a.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&c>k&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,k)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&k<c&&(k=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),i<c&&(i=c),i>k&&(i=k),j.save(),f&&this._eventManager.ghostCtx.save(),j.beginPath(),j.rect(g.x1,g.y1,g.width,g.height),j.clip(),f&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip());for(var r=0;r<a.dataSeriesIndexes.length;r++){var w=a.dataSeriesIndexes[r],l=this.data[w],e=l.dataPoints;if(0<e.length){var x=!!(5<i&&l.bevelEnabled);for(c=0;c<e.length;c++)if(!((b=e[c].x.getTime?e[c].x.getTime():e[c].x)<a.axisX.dataInfo.viewPortMin||b>a.axisX.dataInfo.viewPortMax)&&"number"==typeof e[c].y){k=a.axisX.convertValueToPixel(b),d=0!==a.dataPointYSums[b]?e[c].y/a.dataPointYSums[b]*100:0;var h,s=k-a.plotType.plotUnits.length*i/2+a.index*i<<0,u=s+i<<0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0<e[c].y){if(q[b]=d+(void 0!==q[b]?q[b]:0),0>=q[b])continue;d=a.axisY.convertValueToPixel(q[b]),h=n[b]?n[b]:m,n[b]=d}else if(a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0>=e[c].y)t[b]=d+(void 0!==t[b]?t[b]:0),h=a.axisY.convertValueToPixel(t[b]),d=o[b]?o[b]:m,o[b]=h;else if(d=a.axisY.convertValueToPixel(d),0<=e[c].y){var p=void 0!==n[b]?n[b]:0;d-=p,h=m-p,a.dataSeriesIndexes.length-1===r&&1>=Math.abs(g.y1-d)&&(d=g.y1),n[b]=p+(h-d)}else h=d+(p=void 0!==o[b]?o[b]:0),d=m+p,a.dataSeriesIndexes.length-1===r&&1>=Math.abs(g.y2-h)&&(h=g.y2),o[b]=p+(h-d);b=e[c].color?e[c].color:l._colorSet[c%l._colorSet.length],aq(j,s,a.axisY.reversed?h:d,u,a.axisY.reversed?d:h,b,0,null,x&&(a.axisY.reversed?0>e[c].y:0<=e[c].y),(a.axisY.reversed?0<=e[c].y:0>e[c].y)&&x,!1,!1,l.fillOpacity),b=l.dataPointIds[c],this._eventManager.objectMap[b]={id:b,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:c,x1:s,y1:d,x2:u,y2:h},b=L(b),f&&aq(this._eventManager.ghostCtx,s,d,u,h,b,0,null,!1,!1,!1,!1),(e[c].indexLabel||l.indexLabel||e[c].indexLabelFormatter||l.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:e[c],dataSeries:l,point:{x:k,y:0<=e[c].y?d:h},direction:0>e[c].y===a.axisY.reversed?1:-1,bounds:{x1:s,y1:Math.min(d,h),x2:u,y2:Math.max(d,h)},color:b})}}}return f&&(v.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&j.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&j.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),j.restore(),{source:v,dest:this.plotArea.ctx,animationCallback:A.yScaleAnimation,easingFunction:A.easing.easeOutQuart,animationBase:m<a.axisY.bounds.y1?a.axisY.bounds.y1:m>a.axisY.bounds.y2?a.axisY.bounds.y2:m}}},a.prototype.renderBar=function(a){var p=a.targetCanvasCtx||this.plotArea.ctx,i=f?this._preRenderCtx:p;if(!(0>=a.dataSeriesIndexes.length)){var j,e,q,k=null,g=this.plotArea,b=0,o=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0),h=(b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/a.plotType.totalDataSeries*.9)<<0),c=a.axisX.dataInfo.minDiff;for(isFinite(c)||(c=.3*Math.abs(a.axisX.range)),c=this.options.dataPointWidth?this.dataPointWidth:g.height*(a.axisX.logarithmic?Math.log(c)/Math.log(a.axisX.range):Math.abs(c)/Math.abs(a.axisX.range))/a.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&b>h&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<b&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),c<b&&(c=b),c>h&&(c=h),i.save(),f&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(g.x1,g.y1,g.width,g.height),i.clip(),f&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip()),h=0;h<a.dataSeriesIndexes.length;h++){var r=a.dataSeriesIndexes[h],l=this.data[r],d=l.dataPoints;if(0<d.length){var s=!!(5<c&&l.bevelEnabled);for(i.strokeStyle="#4572A7 ",b=0;b<d.length;b++)if(!((q=d[b].getTime?d[b].x.getTime():d[b].x)<a.axisX.dataInfo.viewPortMin||q>a.axisX.dataInfo.viewPortMax)&&"number"==typeof d[b].y){e=a.axisX.convertValueToPixel(q),j=a.axisY.convertValueToPixel(d[b].y),e=a.axisX.reversed?e+a.plotType.totalDataSeries*c/2-(a.previousDataSeriesCount+h)*c<<0:e-a.plotType.totalDataSeries*c/2+(a.previousDataSeriesCount+h)*c<<0;var m,n=a.axisX.reversed?e-c<<0:e+c<<0;0<=d[b].y?m=o:(m=j,j=o),k=d[b].color?d[b].color:l._colorSet[b%l._colorSet.length],aq(i,a.axisY.reversed?j:m,a.axisX.reversed?n:e,a.axisY.reversed?m:j,a.axisX.reversed?e:n,k,0,null,s,!1,!1,!1,l.fillOpacity),k=l.dataPointIds[b],this._eventManager.objectMap[k]={id:k,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:b,x1:m,y1:e,x2:j,y2:n},k=L(k),f&&aq(this._eventManager.ghostCtx,m,a.axisX.reversed?n:e,j,a.axisX.reversed?e:n,k,0,null,!1,!1,!1,!1),(d[b].indexLabel||l.indexLabel||d[b].indexLabelFormatter||l.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:d[b],dataSeries:l,point:{x:0<=d[b].y?j:m,y:e+(n-e)/2},direction:0>d[b].y===a.axisY.reversed?1:-1,bounds:{x1:Math.min(m,j),y1:e,x2:Math.max(m,j),y2:n},color:k})}}}return f&&(p.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&i.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&i.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:p,dest:this.plotArea.ctx,animationCallback:A.xScaleAnimation,easingFunction:A.easing.easeOutQuart,animationBase:o<a.axisY.bounds.x1?a.axisY.bounds.x1:o>a.axisY.bounds.x2?a.axisY.bounds.x2:o}}},a.prototype.renderStackedBar=function(a){var u=a.targetCanvasCtx||this.plotArea.ctx,j=f?this._preRenderCtx:u;if(!(0>=a.dataSeriesIndexes.length)){var e,k,b=null,g=this.plotArea,n=[],o=[],q=[],s=[],c=0,m=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0);c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,k=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var h=a.axisX.dataInfo.minDiff;isFinite(h)||(h=.3*Math.abs(a.axisX.range)),h=this.options.dataPointWidth?this.dataPointWidth:g.height*(a.axisX.logarithmic?Math.log(h)/Math.log(a.axisX.range):Math.abs(h)/Math.abs(a.axisX.range))/a.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&c>k&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,k)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&k<c&&(k=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),h<c&&(h=c),h>k&&(h=k),j.save(),f&&this._eventManager.ghostCtx.save(),j.beginPath(),j.rect(g.x1,g.y1,g.width,g.height),j.clip(),f&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip());for(var v=0;v<a.dataSeriesIndexes.length;v++){var w=a.dataSeriesIndexes[v],l=this.data[w],d=l.dataPoints;if(0<d.length){var x=!!(5<h&&l.bevelEnabled);for(j.strokeStyle="#4572A7 ",c=0;c<d.length;c++)if(!((b=d[c].x.getTime?d[c].x.getTime():d[c].x)<a.axisX.dataInfo.viewPortMin||b>a.axisX.dataInfo.viewPortMax)&&"number"==typeof d[c].y){var i,r=(k=a.axisX.convertValueToPixel(b))-a.plotType.plotUnits.length*h/2+a.index*h<<0,t=r+h<<0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0<d[c].y)q[b]=d[c].y+(q[b]?q[b]:0),0<q[b]&&(i=n[b]?n[b]:m,n[b]=e=a.axisY.convertValueToPixel(q[b]));else if(a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0>=d[c].y)s[b]=d[c].y+(s[b]?s[b]:0),e=o[b]?o[b]:m,o[b]=i=a.axisY.convertValueToPixel(s[b]);else if(e=a.axisY.convertValueToPixel(d[c].y),0<=d[c].y){var p=n[b]?n[b]:0;i=m+p,e+=p,n[b]=p+(e-i)}else i=e-(p=o[b]?o[b]:0),e=m-p,o[b]=p+(e-i);b=d[c].color?d[c].color:l._colorSet[c%l._colorSet.length],aq(j,a.axisY.reversed?e:i,r,a.axisY.reversed?i:e,t,b,0,null,x,!1,!1,!1,l.fillOpacity),b=l.dataPointIds[c],this._eventManager.objectMap[b]={id:b,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:c,x1:i,y1:r,x2:e,y2:t},b=L(b),f&&aq(this._eventManager.ghostCtx,i,r,e,t,b,0,null,!1,!1,!1,!1),(d[c].indexLabel||l.indexLabel||d[c].indexLabelFormatter||l.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:d[c],dataSeries:l,point:{x:0<=d[c].y?e:i,y:k},direction:0>d[c].y===a.axisY.reversed?1:-1,bounds:{x1:Math.min(i,e),y1:r,x2:Math.max(i,e),y2:t},color:b})}}}return f&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&j.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&j.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),j.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:A.xScaleAnimation,easingFunction:A.easing.easeOutQuart,animationBase:m<a.axisY.bounds.x1?a.axisY.bounds.x1:m>a.axisY.bounds.x2?a.axisY.bounds.x2:m}}},a.prototype.renderStackedBar100=function(a){var v=a.targetCanvasCtx||this.plotArea.ctx,j=f?this._preRenderCtx:v;if(!(0>=a.dataSeriesIndexes.length)){var e,k,b=null,g=this.plotArea,n=[],o=[],q=[],t=[],c=0,m=a.axisY.convertValueToPixel(a.axisY.logarithmic?a.axisY.viewportMinimum:0);c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,k=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var i=a.axisX.dataInfo.minDiff;isFinite(i)||(i=.3*Math.abs(a.axisX.range)),i=this.options.dataPointWidth?this.dataPointWidth:g.height*(a.axisX.logarithmic?Math.log(i)/Math.log(a.axisX.range):Math.abs(i)/Math.abs(a.axisX.range))/a.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&c>k&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,k)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&k<c&&(k=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),i<c&&(i=c),i>k&&(i=k),j.save(),f&&this._eventManager.ghostCtx.save(),j.beginPath(),j.rect(g.x1,g.y1,g.width,g.height),j.clip(),f&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip());for(var r=0;r<a.dataSeriesIndexes.length;r++){var w=a.dataSeriesIndexes[r],l=this.data[w],h=l.dataPoints;if(0<h.length){var x=!!(5<i&&l.bevelEnabled);for(j.strokeStyle="#4572A7 ",c=0;c<h.length;c++)if(!((b=h[c].x.getTime?h[c].x.getTime():h[c].x)<a.axisX.dataInfo.viewPortMin||b>a.axisX.dataInfo.viewPortMax)&&"number"==typeof h[c].y){k=a.axisX.convertValueToPixel(b),d=0!==a.dataPointYSums[b]?h[c].y/a.dataPointYSums[b]*100:0;var d,s=k-a.plotType.plotUnits.length*i/2+a.index*i<<0,u=s+i<<0;if(a.axisY.logarithmic||a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0<h[c].y){if(q[b]=d+(q[b]?q[b]:0),0>=q[b])continue;d=n[b]?n[b]:m,n[b]=e=a.axisY.convertValueToPixel(q[b])}else if(a.axisY.scaleBreaks&&0<a.axisY.scaleBreaks._appliedBreaks.length&&0>=h[c].y)t[b]=d+(t[b]?t[b]:0),e=o[b]?o[b]:m,o[b]=d=a.axisY.convertValueToPixel(t[b]);else if(e=a.axisY.convertValueToPixel(d),0<=h[c].y){var p=n[b]?n[b]:0;d=m+p,e+=p,a.dataSeriesIndexes.length-1===r&&1>=Math.abs(g.x2-e)&&(e=g.x2),n[b]=p+(e-d)}else d=e-(p=o[b]?o[b]:0),e=m-p,a.dataSeriesIndexes.length-1===r&&1>=Math.abs(g.x1-d)&&(d=g.x1),o[b]=p+(e-d);b=h[c].color?h[c].color:l._colorSet[c%l._colorSet.length],aq(j,a.axisY.reversed?e:d,s,a.axisY.reversed?d:e,u,b,0,null,x,!1,!1,!1,l.fillOpacity),b=l.dataPointIds[c],this._eventManager.objectMap[b]={id:b,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:c,x1:d,y1:s,x2:e,y2:u},b=L(b),f&&aq(this._eventManager.ghostCtx,d,s,e,u,b,0,null,!1,!1,!1,!1),(h[c].indexLabel||l.indexLabel||h[c].indexLabelFormatter||l.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:h[c],dataSeries:l,point:{x:0<=h[c].y?e:d,y:k},direction:0>h[c].y===a.axisY.reversed?1:-1,bounds:{x1:Math.min(d,e),y1:s,x2:Math.max(d,e),y2:u},color:b})}}}return f&&(v.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.globalCompositeOperation="source-atop",a.axisX.maskCanvas&&j.drawImage(a.axisX.maskCanvas,0,0,this.width,this.height),a.axisY.maskCanvas&&j.drawImage(a.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),j.restore(),{source:v,dest:this.plotArea.ctx,animationCallback:A.xScaleAnimation,easingFunction:A.easing.easeOutQuart,animationBase:m<a.axisY.bounds.x1?a.axisY.bounds.x1:m>a.axisY.bounds.x2?a.axisY.bounds.x2:m}}},a.prototype.renderArea=function(e){function q(){y&&(0<a.lineThickness&&b.stroke(),e.axisY.logarithmic||0>=e.axisY.viewportMinimum&&0<=e.axisY.viewportMaximum?C=D:0>e.axisY.viewportMaximum?C=B.y1:0<e.axisY.viewportMinimum&&(C=D),b.lineTo(g,C),b.lineTo(y.x,C),b.closePath(),b.globalAlpha=a.fillOpacity,b.fill(),b.globalAlpha=1,f&&(k.lineTo(g,C),k.lineTo(y.x,C),k.closePath(),k.fill()),b.beginPath(),b.moveTo(g,h),k.beginPath(),k.moveTo(g,h),y={x:g,y:h})}var t=e.targetCanvasCtx||this.plotArea.ctx,b=f?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var n,j,o,k=this._eventManager.ghostCtx,B=e.axisY.lineCoordinates,l=[],i=this.plotArea;b.save(),f&&k.save(),b.beginPath(),b.rect(i.x1,i.y1,i.width,i.height),b.clip(),f&&(k.beginPath(),k.rect(i.x1,i.y1,i.width,i.height),k.clip());for(var u=0;u<e.dataSeriesIndexes.length;u++){var v=e.dataSeriesIndexes[u],a=this.data[v],d=a.dataPoints;l=a.id,this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:v},l=L(l),k.fillStyle=l,l=[],n=!0;var g,h,m,C,c=0,D=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),y=null;if(0<d.length){var w=a._colorSet[c%a._colorSet.length],s=a.lineColor=a.options.lineColor||w,x=s;if(b.fillStyle=w,b.strokeStyle=s,b.lineWidth=a.lineThickness,j="solid",b.setLineDash){var z=P(a.nullDataLineDashType,a.lineThickness),_=P(j=a.lineDashType,a.lineThickness);b.setLineDash(_)}for(var r=!0;c<d.length;c++)if(!((m=d[c].x.getTime?d[c].x.getTime():d[c].x)<e.axisX.dataInfo.viewPortMin||m>e.axisX.dataInfo.viewPortMax&&(!a.connectNullData||!r))){if("number"!=typeof d[c].y)a.connectNullData||r||n||q(),r=!0;else{g=e.axisX.convertValueToPixel(m),h=e.axisY.convertValueToPixel(d[c].y),n||r?(!n&&a.connectNullData?(b.setLineDash&&(a.options.nullDataLineDashType||j===a.lineDashType&&a.lineDashType!==a.nullDataLineDashType)&&(n=g,j=h,g=o.x,h=o.y,q(),b.moveTo(o.x,o.y),g=n,h=j,y=o,j=a.nullDataLineDashType,b.setLineDash(z)),b.lineTo(g,h),f&&k.lineTo(g,h)):(b.beginPath(),b.moveTo(g,h),f&&(k.beginPath(),k.moveTo(g,h)),y={x:g,y:h}),r=n=!1):(b.lineTo(g,h),f&&k.lineTo(g,h),0==c%250&&q()),o={x:g,y:h},c<d.length-1&&(x!==(d[c].lineColor||s)||j!==(d[c].lineDashType||a.lineDashType))&&(q(),x=d[c].lineColor||s,b.strokeStyle=x,b.setLineDash&&(d[c].lineDashType?(j=d[c].lineDashType,b.setLineDash(P(j,a.lineThickness))):(j=a.lineDashType,b.setLineDash(_))));var p=a.dataPointIds[c];this._eventManager.objectMap[p]={id:p,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:c,x1:g,y1:h},0!==d[c].markerSize&&(0<d[c].markerSize||0<a.markerSize)&&(m=a.getMarkerProperties(c,g,h,b),l.push(m),p=L(p),f&&l.push({x:g,y:h,ctx:k,type:m.type,size:m.size,color:p,borderColor:p,borderThickness:m.borderThickness})),(d[c].indexLabel||a.indexLabel||d[c].indexLabelFormatter||a.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:d[c],dataSeries:a,point:{x:g,y:h},direction:0>d[c].y===e.axisY.reversed?1:-1,color:w})}}q(),$.drawMarkers(l)}}return f&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&b.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&b.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(i.x1,i.y1,i.width,i.height),this._eventManager.ghostCtx.restore()),b.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:A.xClipAnimation,easingFunction:A.easing.linear,animationBase:0}}},a.prototype.renderSplineArea=function(d){function u(){var a=w(h,2);if(0<a.length){if(0<b.lineThickness){e.beginPath(),e.moveTo(a[0].x,a[0].y),a[0].newStrokeStyle&&(e.strokeStyle=a[0].newStrokeStyle),a[0].newLineDashArray&&e.setLineDash(a[0].newLineDashArray);for(var c=0;c<a.length-3;c+=3)e.bezierCurveTo(a[c+1].x,a[c+1].y,a[c+2].x,a[c+2].y,a[c+3].x,a[c+3].y),f&&l.bezierCurveTo(a[c+1].x,a[c+1].y,a[c+2].x,a[c+2].y,a[c+3].x,a[c+3].y),(a[c+3].newStrokeStyle||a[c+3].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(a[c+3].x,a[c+3].y),a[c+3].newStrokeStyle&&(e.strokeStyle=a[c+3].newStrokeStyle),a[c+3].newLineDashArray&&e.setLineDash(a[c+3].newLineDashArray));e.stroke()}for(e.beginPath(),e.moveTo(a[0].x,a[0].y),f&&(l.beginPath(),l.moveTo(a[0].x,a[0].y)),c=0;c<a.length-3;c+=3)e.bezierCurveTo(a[c+1].x,a[c+1].y,a[c+2].x,a[c+2].y,a[c+3].x,a[c+3].y),f&&l.bezierCurveTo(a[c+1].x,a[c+1].y,a[c+2].x,a[c+2].y,a[c+3].x,a[c+3].y);d.axisY.logarithmic||0>=d.axisY.viewportMinimum&&0<=d.axisY.viewportMaximum?z=B:0>d.axisY.viewportMaximum?z=y.y1:0<d.axisY.viewportMinimum&&(z=B),C={x:a[0].x,y:a[0].y},e.lineTo(a[a.length-1].x,z),e.lineTo(C.x,z),e.closePath(),e.globalAlpha=b.fillOpacity,e.fill(),e.globalAlpha=1,f&&(l.lineTo(a[a.length-1].x,z),l.lineTo(C.x,z),l.closePath(),l.fill())}}var p=d.targetCanvasCtx||this.plotArea.ctx,e=f?this._preRenderCtx:p;if(!(0>=d.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,y=d.axisY.lineCoordinates,j=[],g=this.plotArea;e.save(),f&&l.save(),e.beginPath(),e.rect(g.x1,g.y1,g.width,g.height),e.clip(),f&&(l.beginPath(),l.rect(g.x1,g.y1,g.width,g.height),l.clip());for(var q=0;q<d.dataSeriesIndexes.length;q++){var r=d.dataSeriesIndexes[q],b=this.data[r],c=b.dataPoints;j=b.id,this._eventManager.objectMap[j]={objectType:"dataSeries",dataSeriesIndex:r},j=L(j),l.fillStyle=j,j=[];var k,i,z,a=0,B=d.axisY.convertValueToPixel(d.axisY.logarithmic?d.axisY.viewportMinimum:0),C=null,h=[];if(0<c.length){var s=b._colorSet[a%b._colorSet.length],o=b.lineColor=b.options.lineColor||s,t=o;e.fillStyle=s,e.strokeStyle=o,e.lineWidth=b.lineThickness;var m="solid";if(e.setLineDash){var x=P(b.nullDataLineDashType,b.lineThickness),v=P(m=b.lineDashType,b.lineThickness);e.setLineDash(v)}for(i=!1;a<c.length;a++)if(!((k=c[a].x.getTime?c[a].x.getTime():c[a].x)<d.axisX.dataInfo.viewPortMin||k>d.axisX.dataInfo.viewPortMax&&(!b.connectNullData||!i))){if("number"!=typeof c[a].y)0<a&&!i&&(b.connectNullData?e.setLineDash&&0<h.length&&(b.options.nullDataLineDashType||!c[a-1].lineDashType)&&(h[h.length-1].newLineDashArray=x,m=b.nullDataLineDashType):(u(),h=[])),i=!0;else{k=d.axisX.convertValueToPixel(k),i=d.axisY.convertValueToPixel(c[a].y);var n=b.dataPointIds[a];if(this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:a,x1:k,y1:i},h[h.length]={x:k,y:i},a<c.length-1&&(t!==(c[a].lineColor||o)||m!==(c[a].lineDashType||b.lineDashType))&&(t=c[a].lineColor||o,h[h.length-1].newStrokeStyle=t,e.setLineDash&&(c[a].lineDashType?(m=c[a].lineDashType,h[h.length-1].newLineDashArray=P(m,b.lineThickness)):(m=b.lineDashType,h[h.length-1].newLineDashArray=v))),0!==c[a].markerSize&&(0<c[a].markerSize||0<b.markerSize)){var _=b.getMarkerProperties(a,k,i,e);j.push(_),n=L(n),f&&j.push({x:k,y:i,ctx:l,type:_.type,size:_.size,color:n,borderColor:n,borderThickness:_.borderThickness})}(c[a].indexLabel||b.indexLabel||c[a].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:c[a],dataSeries:b,point:{x:k,y:i},direction:0>c[a].y===d.axisY.reversed?1:-1,color:s}),i=!1}}u(),$.drawMarkers(j)}}return f&&(p.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",d.axisX.maskCanvas&&e.drawImage(d.axisX.maskCanvas,0,0,this.width,this.height),d.axisY.maskCanvas&&e.drawImage(d.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:p,dest:this.plotArea.ctx,animationCallback:A.xClipAnimation,easingFunction:A.easing.linear,animationBase:0}}},a.prototype.renderStepArea=function(g){function r(){y&&(0<b.lineThickness&&a.stroke(),g.axisY.logarithmic||0>=g.axisY.viewportMinimum&&0<=g.axisY.viewportMaximum?C=D:0>g.axisY.viewportMaximum?C=B.y1:0<g.axisY.viewportMinimum&&(C=D),a.lineTo(d,C),a.lineTo(y.x,C),a.closePath(),a.globalAlpha=b.fillOpacity,a.fill(),a.globalAlpha=1,f&&(i.lineTo(d,C),i.lineTo(y.x,C),i.closePath(),i.fill()),a.beginPath(),a.moveTo(d,h),i.beginPath(),i.moveTo(d,h),y={x:d,y:h})}var t=g.targetCanvasCtx||this.plotArea.ctx,a=f?this._preRenderCtx:t;if(!(0>=g.dataSeriesIndexes.length)){var o,n,q,i=this._eventManager.ghostCtx,B=g.axisY.lineCoordinates,l=[],j=this.plotArea;a.save(),f&&i.save(),a.beginPath(),a.rect(j.x1,j.y1,j.width,j.height),a.clip(),f&&(i.beginPath(),i.rect(j.x1,j.y1,j.width,j.height),i.clip());for(var u=0;u<g.dataSeriesIndexes.length;u++){var v=g.dataSeriesIndexes[u],b=this.data[v],e=b.dataPoints;l=b.id,this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:v},l=L(l),i.fillStyle=l,l=[],o=!0;var d,h,k,C,c=0,D=g.axisY.convertValueToPixel(g.axisY.logarithmic?g.axisY.viewportMinimum:0),y=null;if(n=!1,0<e.length){var w=b._colorSet[c%b._colorSet.length],s=b.lineColor=b.options.lineColor||w,x=s;a.fillStyle=w,a.strokeStyle=s,a.lineWidth=b.lineThickness;var p="solid";if(a.setLineDash){var _=P(b.nullDataLineDashType,b.lineThickness),z=P(p=b.lineDashType,b.lineThickness);a.setLineDash(z)}for(;c<e.length;c++)if(!((k=e[c].x.getTime?e[c].x.getTime():e[c].x)<g.axisX.dataInfo.viewPortMin||k>g.axisX.dataInfo.viewPortMax&&(!b.connectNullData||!n))){var m=h;"number"!=typeof e[c].y?(b.connectNullData||n||o||r(),n=!0):(d=g.axisX.convertValueToPixel(k),h=g.axisY.convertValueToPixel(e[c].y),o||n?(!o&&b.connectNullData?(a.setLineDash&&(b.options.nullDataLineDashType||p===b.lineDashType&&b.lineDashType!==b.nullDataLineDashType)&&(o=d,n=h,d=q.x,h=q.y,r(),a.moveTo(q.x,q.y),d=o,h=n,y=q,p=b.nullDataLineDashType,a.setLineDash(_)),a.lineTo(d,m),a.lineTo(d,h),f&&(i.lineTo(d,m),i.lineTo(d,h))):(a.beginPath(),a.moveTo(d,h),f&&(i.beginPath(),i.moveTo(d,h)),y={x:d,y:h}),n=o=!1):(a.lineTo(d,m),f&&i.lineTo(d,m),a.lineTo(d,h),f&&i.lineTo(d,h),0==c%250&&r()),q={x:d,y:h},c<e.length-1&&(x!==(e[c].lineColor||s)||p!==(e[c].lineDashType||b.lineDashType))&&(r(),x=e[c].lineColor||s,a.strokeStyle=x,a.setLineDash&&(e[c].lineDashType?(p=e[c].lineDashType,a.setLineDash(P(p,b.lineThickness))):(p=b.lineDashType,a.setLineDash(z)))),k=b.dataPointIds[c],this._eventManager.objectMap[k]={id:k,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:c,x1:d,y1:h},0!==e[c].markerSize&&(0<e[c].markerSize||0<b.markerSize)&&(m=b.getMarkerProperties(c,d,h,a),l.push(m),k=L(k),f&&l.push({x:d,y:h,ctx:i,type:m.type,size:m.size,color:k,borderColor:k,borderThickness:m.borderThickness})),(e[c].indexLabel||b.indexLabel||e[c].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:e[c],dataSeries:b,point:{x:d,y:h},direction:0>e[c].y===g.axisY.reversed?1:-1,color:w}))}r(),$.drawMarkers(l)}}return f&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",g.axisX.maskCanvas&&a.drawImage(g.axisX.maskCanvas,0,0,this.width,this.height),g.axisY.maskCanvas&&a.drawImage(g.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(j.x1,j.y1,j.width,j.height),this._eventManager.ghostCtx.restore()),a.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:A.xClipAnimation,easingFunction:A.easing.linear,animationBase:0}}},a.prototype.renderStackedArea=function(d){function t(){if(!(1>n.length)){for(0<a.lineThickness&&b.stroke();0<n.length;){var c=n.pop();b.lineTo(c.x,c.y),f&&i.lineTo(c.x,c.y)}b.closePath(),b.globalAlpha=a.fillOpacity,b.fill(),b.globalAlpha=1,b.beginPath(),f&&(i.closePath(),i.fill(),i.beginPath()),n=[]}}var z=d.targetCanvasCtx||this.plotArea.ctx,b=f?this._preRenderCtx:z;if(!(0>=d.dataSeriesIndexes.length)){var g,h,B,q,l,r=null,e=null,C=[],k=this.plotArea,D=[],n=[],u=[],v=[],c=0,x=d.axisY.convertValueToPixel(d.axisY.logarithmic?d.axisY.viewportMinimum:0),i=this._eventManager.ghostCtx;f&&i.beginPath(),b.save(),f&&i.save(),b.beginPath(),b.rect(k.x1,k.y1,k.width,k.height),b.clip(),f&&(i.beginPath(),i.rect(k.x1,k.y1,k.width,k.height),i.clip()),r=[];for(var s=0;s<d.dataSeriesIndexes.length;s++){var m=d.dataSeriesIndexes[s],a=this.data[m],j=a.dataPoints;for(a.dataPointIndexes=[],c=0;c<j.length;c++)m=j[c].x.getTime?j[c].x.getTime():j[c].x,a.dataPointIndexes[m]=c,r[m]||(u.push(m),r[m]=!0);u.sort(K)}for(s=0;s<d.dataSeriesIndexes.length;s++){if(m=d.dataSeriesIndexes[s],j=(a=this.data[m]).dataPoints,q=!0,n=[],c=a.id,this._eventManager.objectMap[c]={objectType:"dataSeries",dataSeriesIndex:m},c=L(c),i.fillStyle=c,0<u.length){r=a._colorSet[0];var y=a.lineColor=a.options.lineColor||r,_=y;if(b.fillStyle=r,b.strokeStyle=y,b.lineWidth=a.lineThickness,l="solid",b.setLineDash){var G=P(a.nullDataLineDashType,a.lineThickness),F=P(l=a.lineDashType,a.lineThickness);b.setLineDash(F)}var w=!0;for(c=0;c<u.length;c++){e=u[c];var p=0<=a.dataPointIndexes[e]?j[a.dataPointIndexes[e]]:{x:e,y:null};if(!(e<d.axisX.dataInfo.viewPortMin||e>d.axisX.dataInfo.viewPortMax&&(!a.connectNullData||!w))){if("number"!=typeof p.y)a.connectNullData||w||q||t(),w=!0;else{g=d.axisX.convertValueToPixel(e);var o=D[e]?D[e]:0;if(d.axisY.logarithmic||d.axisY.scaleBreaks&&0<d.axisY.scaleBreaks._appliedBreaks.length){if(v[e]=p.y+(v[e]?v[e]:0),0>=v[e]&&d.axisY.logarithmic)continue;h=d.axisY.convertValueToPixel(v[e])}else h=d.axisY.convertValueToPixel(p.y),h-=o;if(n.push({x:g,y:x-o}),D[e]=x-h,q||w?(!q&&a.connectNullData?(b.setLineDash&&(a.options.nullDataLineDashType||l===a.lineDashType&&a.lineDashType!==a.nullDataLineDashType)&&(q=n.pop(),l=n[n.length-1],t(),b.moveTo(B.x,B.y),n.push(l),n.push(q),l=a.nullDataLineDashType,b.setLineDash(G)),b.lineTo(g,h),f&&i.lineTo(g,h)):(b.beginPath(),b.moveTo(g,h),f&&(i.beginPath(),i.moveTo(g,h))),w=q=!1):(b.lineTo(g,h),f&&i.lineTo(g,h),0==c%250&&(t(),b.moveTo(g,h),f&&i.moveTo(g,h),n.push({x:g,y:x-o}))),B={x:g,y:h},c<j.length-1&&(_!==(j[c].lineColor||y)||l!==(j[c].lineDashType||a.lineDashType))&&(t(),b.beginPath(),b.moveTo(g,h),n.push({x:g,y:x-o}),_=j[c].lineColor||y,b.strokeStyle=_,b.setLineDash&&(j[c].lineDashType?(l=j[c].lineDashType,b.setLineDash(P(l,a.lineThickness))):(l=a.lineDashType,b.setLineDash(F)))),0<=a.dataPointIndexes[e]){var E=a.dataPointIds[a.dataPointIndexes[e]];this._eventManager.objectMap[E]={id:E,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:a.dataPointIndexes[e],x1:g,y1:h}}0<=a.dataPointIndexes[e]&&0!==p.markerSize&&(0<p.markerSize||0<a.markerSize)&&(o=a.getMarkerProperties(a.dataPointIndexes[e],g,h,b),C.push(o),e=L(E),f&&C.push({x:g,y:h,ctx:i,type:o.type,size:o.size,color:e,borderColor:e,borderThickness:o.borderThickness})),(p.indexLabel||a.indexLabel||p.indexLabelFormatter||a.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:p,dataSeries:a,point:{x:g,y:h},direction:0>j[c].y===d.axisY.reversed?1:-1,color:r})}}}t(),b.moveTo(g,h),f&&i.moveTo(g,h)}delete a.dataPointIndexes}return $.drawMarkers(C),f&&(z.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",d.axisX.maskCanvas&&b.drawImage(d.axisX.maskCanvas,0,0,this.width,this.height),d.axisY.maskCanvas&&b.drawImage(d.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(k.x1,k.y1,k.width,k.height),i.restore()),b.restore(),{source:z,dest:this.plotArea.ctx,animationCallback:A.xClipAnimation,easingFunction:A.easing.linear,animationBase:0}}},a.prototype.renderStackedArea100=function(c){function t(){for(0<a.lineThickness&&b.stroke();0<o.length;){var c=o.pop();b.lineTo(c.x,c.y),f&&i.lineTo(c.x,c.y)}b.closePath(),b.globalAlpha=a.fillOpacity,b.fill(),b.globalAlpha=1,b.beginPath(),f&&(i.closePath(),i.fill(),i.beginPath()),o=[]}var z=c.targetCanvasCtx||this.plotArea.ctx,b=f?this._preRenderCtx:z;if(!(0>=c.dataSeriesIndexes.length)){var g,h,B,q,m,k=null,d=null,l=this.plotArea,C=[],D=[],o=[],u=[],v=[],e=0,x=c.axisY.convertValueToPixel(c.axisY.logarithmic?c.axisY.viewportMinimum:0),i=this._eventManager.ghostCtx;b.save(),f&&i.save(),b.beginPath(),b.rect(l.x1,l.y1,l.width,l.height),b.clip(),f&&(i.beginPath(),i.rect(l.x1,l.y1,l.width,l.height),i.clip()),k=[];for(var r=0;r<c.dataSeriesIndexes.length;r++){var n=c.dataSeriesIndexes[r],a=this.data[n],j=a.dataPoints;for(a.dataPointIndexes=[],e=0;e<j.length;e++)n=j[e].x.getTime?j[e].x.getTime():j[e].x,a.dataPointIndexes[n]=e,k[n]||(u.push(n),k[n]=!0);u.sort(K)}for(r=0;r<c.dataSeriesIndexes.length;r++){if(n=c.dataSeriesIndexes[r],j=(a=this.data[n]).dataPoints,q=!0,k=a.id,this._eventManager.objectMap[k]={objectType:"dataSeries",dataSeriesIndex:n},k=L(k),i.fillStyle=k,o=[],0<u.length){k=a._colorSet[e%a._colorSet.length];var y=a.lineColor=a.options.lineColor||k,_=y;if(b.fillStyle=k,b.strokeStyle=y,b.lineWidth=a.lineThickness,m="solid",b.setLineDash){var H=P(a.nullDataLineDashType,a.lineThickness),F=P(m=a.lineDashType,a.lineThickness);b.setLineDash(F)}var w=!0;for(e=0;e<u.length;e++){d=u[e];var s=0<=a.dataPointIndexes[d]?j[a.dataPointIndexes[d]]:{x:d,y:null};if(!(d<c.axisX.dataInfo.viewPortMin||d>c.axisX.dataInfo.viewPortMax&&(!a.connectNullData||!w))){if("number"!=typeof s.y)a.connectNullData||w||q||t(),w=!0;else{G=0!==c.dataPointYSums[d]?s.y/c.dataPointYSums[d]*100:0,g=c.axisX.convertValueToPixel(d);var G,p=D[d]?D[d]:0;if(c.axisY.logarithmic||c.axisY.scaleBreaks&&0<c.axisY.scaleBreaks._appliedBreaks.length){if(v[d]=G+(v[d]?v[d]:0),0>=v[d]&&c.axisY.logarithmic)continue;h=c.axisY.convertValueToPixel(v[d])}else h=c.axisY.convertValueToPixel(G),h-=p;if(o.push({x:g,y:x-p}),D[d]=x-h,q||w?(!q&&a.connectNullData?(b.setLineDash&&(a.options.nullDataLineDashType||m===a.lineDashType&&a.lineDashType!==a.nullDataLineDashType)&&(q=o.pop(),m=o[o.length-1],t(),b.moveTo(B.x,B.y),o.push(m),o.push(q),m=a.nullDataLineDashType,b.setLineDash(H)),b.lineTo(g,h),f&&i.lineTo(g,h)):(b.beginPath(),b.moveTo(g,h),f&&(i.beginPath(),i.moveTo(g,h))),w=q=!1):(b.lineTo(g,h),f&&i.lineTo(g,h),0==e%250&&(t(),b.moveTo(g,h),f&&i.moveTo(g,h),o.push({x:g,y:x-p}))),B={x:g,y:h},e<j.length-1&&(_!==(j[e].lineColor||y)||m!==(j[e].lineDashType||a.lineDashType))&&(t(),b.beginPath(),b.moveTo(g,h),o.push({x:g,y:x-p}),_=j[e].lineColor||y,b.strokeStyle=_,b.setLineDash&&(j[e].lineDashType?(m=j[e].lineDashType,b.setLineDash(P(m,a.lineThickness))):(m=a.lineDashType,b.setLineDash(F)))),0<=a.dataPointIndexes[d]){var E=a.dataPointIds[a.dataPointIndexes[d]];this._eventManager.objectMap[E]={id:E,objectType:"dataPoint",dataSeriesIndex:n,dataPointIndex:a.dataPointIndexes[d],x1:g,y1:h}}0<=a.dataPointIndexes[d]&&0!==s.markerSize&&(0<s.markerSize||0<a.markerSize)&&(p=a.getMarkerProperties(e,g,h,b),C.push(p),d=L(E),f&&C.push({x:g,y:h,ctx:i,type:p.type,size:p.size,color:d,borderColor:d,borderThickness:p.borderThickness})),(s.indexLabel||a.indexLabel||s.indexLabelFormatter||a.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:s,dataSeries:a,point:{x:g,y:h},direction:0>j[e].y===c.axisY.reversed?1:-1,color:k})}}}t(),b.moveTo(g,h),f&&i.moveTo(g,h)}delete a.dataPointIndexes}return $.drawMarkers(C),f&&(z.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",c.axisX.maskCanvas&&b.drawImage(c.axisX.maskCanvas,0,0,this.width,this.height),c.axisY.maskCanvas&&b.drawImage(c.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(l.x1,l.y1,l.width,l.height),i.restore()),b.restore(),{source:z,dest:this.plotArea.ctx,animationCallback:A.xClipAnimation,easingFunction:A.easing.linear,animationBase:0}}},a.prototype.renderBubble=function(d){var p=d.targetCanvasCtx||this.plotArea.ctx,e=f?this._preRenderCtx:p;if(!(0>=d.dataSeriesIndexes.length)){var g,j,h=this.plotArea,a=0;e.save(),f&&this._eventManager.ghostCtx.save(),e.beginPath(),e.rect(h.x1,h.y1,h.width,h.height),e.clip(),f&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var n=-1/0,l=1/0,k=0;k<d.dataSeriesIndexes.length;k++){var o=d.dataSeriesIndexes[k],i=this.data[o],c=i.dataPoints,b=0;for(a=0;a<c.length;a++)(g=g=c[a].getTime?c[a].x.getTime():c[a].x)<d.axisX.dataInfo.viewPortMin||g>d.axisX.dataInfo.viewPortMax|| void 0===c[a].z||((b=c[a].z)>n&&(n=b),b<l&&(l=b))}var q=25*Math.PI,s=Math.max(Math.pow(.25*Math.min(h.height,h.width)/2,2)*Math.PI,q);for(k=0;k<d.dataSeriesIndexes.length;k++)if(o=d.dataSeriesIndexes[k],0<(c=(i=this.data[o]).dataPoints).length){for(e.strokeStyle="#4572A7 ",a=0;a<c.length;a++)if(!((g=g=c[a].getTime?c[a].x.getTime():c[a].x)<d.axisX.dataInfo.viewPortMin||g>d.axisX.dataInfo.viewPortMax)&&"number"==typeof c[a].y){g=d.axisX.convertValueToPixel(g),j=d.axisY.convertValueToPixel(c[a].y),b=c[a].z;var m=2*Math.max(Math.sqrt((n===l?s/2:q+(s-q)/(n-l)*(b-l))/Math.PI)<<0,1);(b=i.getMarkerProperties(a,e)).size=m,e.globalAlpha=i.fillOpacity,$.drawMarker(g,j,e,b.type,b.size,b.color,b.borderColor,b.borderThickness),e.globalAlpha=1;var r=i.dataPointIds[a];this._eventManager.objectMap[r]={id:r,objectType:"dataPoint",dataSeriesIndex:o,dataPointIndex:a,x1:g,y1:j,size:m},m=L(r),f&&$.drawMarker(g,j,this._eventManager.ghostCtx,b.type,b.size,m,m,b.borderThickness),(c[a].indexLabel||i.indexLabel||c[a].indexLabelFormatter||i.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:c[a],dataSeries:i,point:{x:g,y:j},direction:1,bounds:{x1:g-b.size/2,y1:j-b.size/2,x2:g+b.size/2,y2:j+b.size/2},color:null})}}return f&&(p.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",d.axisX.maskCanvas&&e.drawImage(d.axisX.maskCanvas,0,0,this.width,this.height),d.axisY.maskCanvas&&e.drawImage(d.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:p,dest:this.plotArea.ctx,animationCallback:A.fadeInAnimation,easingFunction:A.easing.easeInQuad,animationBase:0}}},a.prototype.renderScatter=function(g){var l=g.targetCanvasCtx||this.plotArea.ctx,d=f?this._preRenderCtx:l;if(!(0>=g.dataSeriesIndexes.length)){var e,j,b=this.plotArea,c=0;d.save(),f&&this._eventManager.ghostCtx.save(),d.beginPath(),d.rect(b.x1,b.y1,b.width,b.height),d.clip(),f&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(b.x1,b.y1,b.width,b.height),this._eventManager.ghostCtx.clip());for(var m=0;m<g.dataSeriesIndexes.length;m++){var o=g.dataSeriesIndexes[m],k=this.data[o],h=k.dataPoints;if(0<h.length){d.strokeStyle="#4572A7 ",b.height,b.width;var i=0,n=0;for(c=0;c<h.length;c++)if(!((e=e=h[c].getTime?h[c].x.getTime():h[c].x)<g.axisX.dataInfo.viewPortMin||e>g.axisX.dataInfo.viewPortMax)&&"number"==typeof h[c].y){e=g.axisX.convertValueToPixel(e),j=g.axisY.convertValueToPixel(h[c].y);var a=k.getMarkerProperties(c,e,j,d);d.globalAlpha=k.fillOpacity,$.drawMarker(a.x,a.y,a.ctx,a.type,a.size,a.color,a.borderColor,a.borderThickness),d.globalAlpha=1,Math.sqrt((i-e)*(i-e)+(n-j)*(n-j))<Math.min(a.size,5)&&h.length>Math.min(this.plotArea.width,this.plotArea.height)||(i=k.dataPointIds[c],this._eventManager.objectMap[i]={id:i,objectType:"dataPoint",dataSeriesIndex:o,dataPointIndex:c,x1:e,y1:j},i=L(i),f&&$.drawMarker(a.x,a.y,this._eventManager.ghostCtx,a.type,a.size,i,i,a.borderThickness),(h[c].indexLabel||k.indexLabel||h[c].indexLabelFormatter||k.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:h[c],dataSeries:k,point:{x:e,y:j},direction:1,bounds:{x1:e-a.size/2,y1:j-a.size/2,x2:e+a.size/2,y2:j+a.size/2},color:null}),i=e,n=j)}}}return f&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),d.globalCompositeOperation="source-atop",g.axisX.maskCanvas&&d.drawImage(g.axisX.maskCanvas,0,0,this.width,this.height),g.axisY.maskCanvas&&d.drawImage(g.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),d.clearRect(b.x1,b.y1,b.width,b.height),this._eventManager.ghostCtx.restore()),d.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:A.fadeInAnimation,easingFunction:A.easing.easeInQuad,animationBase:0}}},a.prototype.renderCandlestick=function(e){var v=e.targetCanvasCtx||this.plotArea.ctx,a=f?this._preRenderCtx:v,b=this._eventManager.ghostCtx;if(!(0>=e.dataSeriesIndexes.length)){var g,j,o,p,k,w,h=null,q=null,l=this.plotArea,c=0,m=(h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,q=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,e.axisX.dataInfo.minDiff);isFinite(m)||(m=.3*Math.abs(e.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:.7*l.width*(e.axisX.logarithmic?Math.log(m)/Math.log(e.axisX.range):Math.abs(m)/Math.abs(e.axisX.range))<<0,this.dataPointMaxWidth&&h>q&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,q)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&q<h&&(q=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),m<h&&(m=h),m>q&&(m=q),a.save(),f&&b.save(),a.beginPath(),a.rect(l.x1,l.y1,l.width,l.height),a.clip(),f&&(b.beginPath(),b.rect(l.x1,l.y1,l.width,l.height),b.clip());for(var x=0;x<e.dataSeriesIndexes.length;x++){var y=e.dataSeriesIndexes[x],i=this.data[y],d=i.dataPoints;if(0<d.length){var B,z=!!(5<m&&i.bevelEnabled);for(c=0;c<d.length;c++)if(!((w=d[c].getTime?d[c].x.getTime():d[c].x)<e.axisX.dataInfo.viewPortMin||w>e.axisX.dataInfo.viewPortMax)&&null!=d[c].y&&d[c].y.length&&"number"==typeof d[c].y[0]&&"number"==typeof d[c].y[1]&&"number"==typeof d[c].y[2]&&"number"==typeof d[c].y[3]){g=e.axisX.convertValueToPixel(w),j=e.axisY.convertValueToPixel(d[c].y[0]),o=e.axisY.convertValueToPixel(d[c].y[1]),p=e.axisY.convertValueToPixel(d[c].y[2]),k=e.axisY.convertValueToPixel(d[c].y[3]);var r=g-m/2<<0,s=r+m<<0,t=(q=i.options.fallingColor?i.fallingColor:i._colorSet[0],h=d[c].color?d[c].color:i._colorSet[0],Math.round(Math.max(1,.15*m))),n=0==t%2?0:.5,u=i.dataPointIds[c];this._eventManager.objectMap[u]={id:u,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:c,x1:r,y1:j,x2:s,y2:o,x3:g,y3:p,x4:g,y4:k,borderThickness:t,color:h},a.strokeStyle=h,a.beginPath(),a.lineWidth=t,b.lineWidth=Math.max(t,4),"candlestick"===i.type?(a.moveTo(g-n,o),a.lineTo(g-n,Math.min(j,k)),a.stroke(),a.moveTo(g-n,Math.max(j,k)),a.lineTo(g-n,p),a.stroke(),aq(a,r,Math.min(j,k),s,Math.max(j,k),d[c].y[0]<=d[c].y[3]?i.risingColor:q,t,h,z,z,!1,!1,i.fillOpacity),f&&(h=L(u),b.strokeStyle=h,b.moveTo(g-n,o),b.lineTo(g-n,Math.min(j,k)),b.stroke(),b.moveTo(g-n,Math.max(j,k)),b.lineTo(g-n,p),b.stroke(),aq(b,r,Math.min(j,k),s,Math.max(j,k),h,0,null,!1,!1,!1,!1))):"ohlc"===i.type&&(a.moveTo(g-n,o),a.lineTo(g-n,p),a.stroke(),a.beginPath(),a.moveTo(g,j),a.lineTo(r,j),a.stroke(),a.beginPath(),a.moveTo(g,k),a.lineTo(s,k),a.stroke(),f&&(h=L(u),b.strokeStyle=h,b.moveTo(g-n,o),b.lineTo(g-n,p),b.stroke(),b.beginPath(),b.moveTo(g,j),b.lineTo(r,j),b.stroke(),b.beginPath(),b.moveTo(g,k),b.lineTo(s,k),b.stroke())),(d[c].indexLabel||i.indexLabel||d[c].indexLabelFormatter||i.indexLabelFormatter)&&this._indexLabels.push({chartType:i.type,dataPoint:d[c],dataSeries:i,point:{x:r+(s-r)/2,y:e.axisY.reversed?p:o},direction:1,bounds:{x1:r,y1:Math.min(o,p),x2:s,y2:Math.max(o,p)},color:h})}}}return f&&(v.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&a.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&a.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(l.x1,l.y1,l.width,l.height),b.restore()),a.restore(),{source:v,dest:this.plotArea.ctx,animationCallback:A.fadeInAnimation,easingFunction:A.easing.easeInQuad,animationBase:0}}},a.prototype.renderBoxAndWhisker=function(e){var D=e.targetCanvasCtx||this.plotArea.ctx,b=f?this._preRenderCtx:D,g=this._eventManager.ghostCtx;if(!(0>=e.dataSeriesIndexes.length)){var h,m,o,p,n,r,E,j=null,l=this.plotArea,a=0,i=(j=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,a=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,e.axisX.dataInfo.minDiff);isFinite(i)||(i=.3*Math.abs(e.axisX.range)),i=this.options.dataPointWidth?this.dataPointWidth:.7*l.width*(e.axisX.logarithmic?Math.log(i)/Math.log(e.axisX.range):Math.abs(i)/Math.abs(e.axisX.range))<<0,this.dataPointMaxWidth&&j>a&&(j=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,a)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&a<j&&(a=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,j)),i<j&&(i=j),i>a&&(i=a),b.save(),f&&g.save(),b.beginPath(),b.rect(l.x1,l.y1,l.width,l.height),b.clip(),f&&(g.beginPath(),g.rect(l.x1,l.y1,l.width,l.height),g.clip());for(var B=!!e.axisY.reversed,F=0;F<e.dataSeriesIndexes.length;F++){var H=e.dataSeriesIndexes[F],d=this.data[H],c=d.dataPoints;if(0<c.length){var C=!!(5<i&&d.bevelEnabled);for(a=0;a<c.length;a++)if(!((E=c[a].getTime?c[a].x.getTime():c[a].x)<e.axisX.dataInfo.viewPortMin||E>e.axisX.dataInfo.viewPortMax)&&null!=c[a].y&&c[a].y.length&&"number"==typeof c[a].y[0]&&"number"==typeof c[a].y[1]&&"number"==typeof c[a].y[2]&&"number"==typeof c[a].y[3]&&"number"==typeof c[a].y[4]&&5===c[a].y.length){h=e.axisX.convertValueToPixel(E),m=e.axisY.convertValueToPixel(c[a].y[0]),o=e.axisY.convertValueToPixel(c[a].y[1]),p=e.axisY.convertValueToPixel(c[a].y[2]),n=e.axisY.convertValueToPixel(c[a].y[3]),r=e.axisY.convertValueToPixel(c[a].y[4]);var T,U,V,W,q=h-i/2<<0,s=h+i/2<<0,w=(j=c[a].color?c[a].color:d._colorSet[0],Math.round(Math.max(1,.15*i))),t=0==w%2?0:.5,_=c[a].whiskerColor?c[a].whiskerColor:c[a].color?d.whiskerColor?d.whiskerColor:c[a].color:d.whiskerColor?d.whiskerColor:j,x="number"==typeof c[a].whiskerThickness?c[a].whiskerThickness:"number"==typeof d.options.whiskerThickness?d.whiskerThickness:w,N=c[a].whiskerDashType?c[a].whiskerDashType:d.whiskerDashType,k="number"==typeof(k=null==c[a].whiskerLength?null==d.options.whiskerLength?i:d.whiskerLength:c[a].whiskerLength)?0>=k?0:k>=i?i:k:"string"==typeof k?parseInt(k)*i/100>i?i:parseInt(k)*i/100:i,u=1==Math.round(x)%2?.5:0,I=c[a].stemColor?c[a].stemColor:c[a].color?d.stemColor?d.stemColor:c[a].color:d.stemColor?d.stemColor:j,y="number"==typeof c[a].stemThickness?c[a].stemThickness:"number"==typeof d.options.stemThickness?d.stemThickness:w,v=1==Math.round(y)%2?.5:0,O=c[a].stemDashType?c[a].stemDashType:d.stemDashType,J=c[a].lineColor?c[a].lineColor:c[a].color?d.lineColor?d.lineColor:c[a].color:d.lineColor?d.lineColor:j,z="number"==typeof c[a].lineThickness?c[a].lineThickness:"number"==typeof d.options.lineThickness?d.lineThickness:w,Q=c[a].lineDashType?c[a].lineDashType:d.lineDashType,K=1==Math.round(z)%2?.5:0,R=d.upperBoxColor,S=d.lowerBoxColor,M=null==d.options.fillOpacity?1:d.fillOpacity,G=d.dataPointIds[a];this._eventManager.objectMap[G]={id:G,objectType:"dataPoint",dataSeriesIndex:H,dataPointIndex:a,x1:q,y1:m,x2:s,y2:o,x3:h,y3:p,x4:h,y4:n,y5:r,borderThickness:w,color:j,stemThickness:y,stemColor:I,whiskerThickness:x,whiskerLength:k,whiskerColor:_,lineThickness:z,lineColor:J},b.save(),0<y&&(b.beginPath(),b.strokeStyle=I,b.lineWidth=y,b.setLineDash&&b.setLineDash(P(O,y)),b.moveTo(h-v,o),b.lineTo(h-v,m),b.stroke(),b.moveTo(h-v,n),b.lineTo(h-v,p),b.stroke()),b.restore(),g.lineWidth=Math.max(w,4),b.beginPath(),aq(b,q,Math.min(r,o),s,Math.max(o,r),S,0,j,!!B&&C,!B&&C,!1,!1,M),b.beginPath(),aq(b,q,Math.min(p,r),s,Math.max(r,p),R,0,j,!B&&C,!!B&&C,!1,!1,M),b.beginPath(),b.lineWidth=w,b.strokeStyle=j,b.rect(q-t,Math.min(o,p)-t,s-q+2*t,Math.max(o,p)-Math.min(o,p)+2*t),b.stroke(),b.save(),0<z&&(b.beginPath(),b.globalAlpha=1,b.setLineDash&&b.setLineDash(P(Q,z)),b.strokeStyle=J,b.lineWidth=z,b.moveTo(q,r-K),b.lineTo(s,r-K),b.stroke()),b.restore(),b.save(),0<x&&(b.beginPath(),b.setLineDash&&b.setLineDash(P(N,x)),b.strokeStyle=_,b.lineWidth=x,b.moveTo(h-k/2<<0,n-u),b.lineTo(h+k/2<<0,n-u),b.stroke(),b.moveTo(h-k/2<<0,m+u),b.lineTo(h+k/2<<0,m+u),b.stroke()),b.restore(),f&&(j=L(G),g.strokeStyle=j,g.lineWidth=y,0<y&&(g.moveTo(h-t-v,o),g.lineTo(h-t-v,Math.max(m,n)),g.stroke(),g.moveTo(h-t-v,Math.min(m,n)),g.lineTo(h-t-v,p),g.stroke()),aq(g,q,Math.max(o,p),s,Math.min(o,p),j,0,null,!1,!1,!1,!1),0<x&&(g.beginPath(),g.lineWidth=x,g.moveTo(h+k/2,n-u),g.lineTo(h-k/2,n-u),g.stroke(),g.moveTo(h+k/2,m+u),g.lineTo(h-k/2,m+u),g.stroke())),(c[a].indexLabel||d.indexLabel||c[a].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:d.type,dataPoint:c[a],dataSeries:d,point:{x:q+(s-q)/2,y:e.axisY.reversed?m:n},direction:1,bounds:{x1:q,y1:Math.min(m,n),x2:s,y2:Math.max(m,n)},color:j})}}}return f&&(D.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&b.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&b.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),b.clearRect(l.x1,l.y1,l.width,l.height),g.restore()),b.restore(),{source:D,dest:this.plotArea.ctx,animationCallback:A.fadeInAnimation,easingFunction:A.easing.easeInQuad,animationBase:0}}},a.prototype.renderRangeColumn=function(b){var p=b.targetCanvasCtx||this.plotArea.ctx,j=f?this._preRenderCtx:p;if(!(0>=b.dataSeriesIndexes.length)){var d,g,q,k=null,h=this.plotArea,a=0;a=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,d=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var e=b.axisX.dataInfo.minDiff;isFinite(e)||(e=.3*Math.abs(b.axisX.range)),e=this.options.dataPointWidth?this.dataPointWidth:h.width*(b.axisX.logarithmic?Math.log(e)/Math.log(b.axisX.range):Math.abs(e)/Math.abs(b.axisX.range))/b.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&a>d&&(a=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,d)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&d<a&&(d=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,a)),e<a&&(e=a),e>d&&(e=d),j.save(),f&&this._eventManager.ghostCtx.save(),j.beginPath(),j.rect(h.x1,h.y1,h.width,h.height),j.clip(),f&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var n=0;n<b.dataSeriesIndexes.length;n++){var r=b.dataSeriesIndexes[n],l=this.data[r],c=l.dataPoints;if(0<c.length){var t,s=!!(5<e&&l.bevelEnabled);for(a=0;a<c.length;a++)if(!((q=c[a].getTime?c[a].x.getTime():c[a].x)<b.axisX.dataInfo.viewPortMin||q>b.axisX.dataInfo.viewPortMax)&&null!=c[a].y&&c[a].y.length&&"number"==typeof c[a].y[0]&&"number"==typeof c[a].y[1]){k=b.axisX.convertValueToPixel(q),d=b.axisY.convertValueToPixel(c[a].y[0]),g=b.axisY.convertValueToPixel(c[a].y[1]);var i=b.axisX.reversed?k+b.plotType.totalDataSeries*e/2-(b.previousDataSeriesCount+n)*e<<0:k-b.plotType.totalDataSeries*e/2+(b.previousDataSeriesCount+n)*e<<0,m=b.axisX.reversed?i-e<<0:i+e<<0;if(k=c[a].color?c[a].color:l._colorSet[a%l._colorSet.length],d>g){var o=d;d=g,g=o}o=l.dataPointIds[a],this._eventManager.objectMap[o]={id:o,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:a,x1:i,y1:d,x2:m,y2:g},aq(j,b.axisX.reversed?m:i,d,b.axisX.reversed?i:m,g,k,0,k,s,s,!1,!1,l.fillOpacity),k=L(o),f&&aq(this._eventManager.ghostCtx,b.axisX.reversed?m:i,d,b.axisX.reversed?i:m,g,k,0,null,!1,!1,!1,!1),(c[a].indexLabel||l.indexLabel||c[a].indexLabelFormatter||l.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:c[a],dataSeries:l,indexKeyword:0,point:{x:i+(m-i)/2,y:c[a].y[1]>=c[a].y[0]?g:d},direction:c[a].y[1]>=c[a].y[0]?-1:1,bounds:{x1:i,y1:Math.min(d,g),x2:m,y2:Math.max(d,g)},color:k}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:c[a],dataSeries:l,indexKeyword:1,point:{x:i+(m-i)/2,y:c[a].y[1]>=c[a].y[0]?d:g},direction:c[a].y[1]>=c[a].y[0]?1:-1,bounds:{x1:i,y1:Math.min(d,g),x2:m,y2:Math.max(d,g)},color:k}))}}}return f&&(p.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.globalCompositeOperation="source-atop",b.axisX.maskCanvas&&j.drawImage(b.axisX.maskCanvas,0,0,this.width,this.height),b.axisY.maskCanvas&&j.drawImage(b.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),j.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),j.restore(),{source:p,dest:this.plotArea.ctx,animationCallback:A.fadeInAnimation,easingFunction:A.easing.easeInQuad,animationBase:0}}},a.prototype.renderError=function(g){var u=g.targetCanvasCtx||this.plotArea.ctx,p=f?this._preRenderCtx:u,e=!!g.axisY._position&&"left"!==g.axisY._position&&"right"!==g.axisY._position;if(!(0>=g.dataSeriesIndexes.length)){var v,w,h,j,i,k,y,l=null,B=!1,n=this.plotArea,a=0,t=g.axisX.dataInfo.minDiff;isFinite(t)||(t=.3*Math.abs(g.axisX.range)),p.save(),f&&this._eventManager.ghostCtx.save(),p.beginPath(),p.rect(n.x1,n.y1,n.width,n.height),p.clip(),f&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var q=0,c=0;c<this.data.length;c++)!this.data[c].type.match(/(bar|column)/gi)||!this.data[c].visible||this.data[c].type.match(/(stacked)/gi)&&q||q++;for(var z=0;z<g.dataSeriesIndexes.length;z++){var E,C=g.dataSeriesIndexes[z],d=this.data[C],b=d.dataPoints,o=null!=d._linkedSeries&&!(!d._linkedSeries.type.match(/(bar|column)/gi)||!d._linkedSeries.visible),s=0;if(o)for(l=d._linkedSeries.id,c=0;c<l;c++)!this.data[c].type.match(/(bar|column)/gi)||!this.data[c].visible||this.data[c].type.match(/(stacked)/gi)&&s||(this.data[c].type.match(/(range)/gi)&&(B=!0),s++);if(l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,a=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:e?Math.min(.15*this.height,this.plotArea.height/(o?q:1)*.9)<<0:.3*this.width,B&&(a=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:e?Math.min(.15*this.height,this.plotArea.height/(o?q:1)*.9)<<0:.03*this.width),c=this.options.dataPointWidth?this.dataPointWidth:(e?n.height:n.width)*(g.axisX.logarithmic?Math.log(t)/Math.log(g.axisX.range):Math.abs(t)/Math.abs(g.axisX.range))/(o?q:1)*.9<<0,this.dataPointMaxWidth&&l>a&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,a)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&a<l&&(a=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),c<l&&(c=l),c>a&&(c=a),0<b.length){var D=d._colorSet;for(a=0;a<b.length;a++){l=d.lineColor=d.options.color?d.options.color:D[0];var m={color:b[a].whiskerColor?b[a].whiskerColor:b[a].color?d.whiskerColor?d.whiskerColor:b[a].color:d.whiskerColor?d.whiskerColor:l,thickness:null==b[a].whiskerThickness?d.whiskerThickness:b[a].whiskerThickness,dashType:b[a].whiskerDashType?b[a].whiskerDashType:d.whiskerDashType,length:null==b[a].whiskerLength?null==d.options.whiskerLength?c:d.options.whiskerLength:b[a].whiskerLength,trimLength:null==b[a].whiskerLength&&null==d.options.whiskerLength?50:0};m.length="number"==typeof m.length?0>=m.length?0:m.length>=c?c:m.length:"string"==typeof m.length?parseInt(m.length)*c/100>c?c:parseInt(m.length)*c/100>c:c,m.thickness="number"==typeof m.thickness?0>m.thickness?0:Math.round(m.thickness):2;var F,G,H,I,J,K,r={color:b[a].stemColor?b[a].stemColor:b[a].color?d.stemColor?d.stemColor:b[a].color:d.stemColor?d.stemColor:l,thickness:b[a].stemThickness?b[a].stemThickness:d.stemThickness,dashType:b[a].stemDashType?b[a].stemDashType:d.stemDashType};if(r.thickness="number"==typeof r.thickness?0>r.thickness?0:Math.round(r.thickness):2,!((y=b[a].getTime?b[a].x.getTime():b[a].x)<g.axisX.dataInfo.viewPortMin||y>g.axisX.dataInfo.viewPortMax)&&null!=b[a].y&&b[a].y.length&&"number"==typeof b[a].y[0]&&"number"==typeof b[a].y[1]){var _=g.axisX.convertValueToPixel(y);e?w=_:v=_,_=g.axisY.convertValueToPixel(b[a].y[0]),e?h=_:i=_,_=g.axisY.convertValueToPixel(b[a].y[1]),e?j=_:k=_,e?(i=g.axisX.reversed?w+(o?q:1)*c/2-(o?s-1:0)*c<<0:w-(o?q:1)*c/2+(o?s-1:0)*c<<0,k=g.axisX.reversed?i-c<<0:i+c<<0):(h=g.axisX.reversed?v+(o?q:1)*c/2-(o?s-1:0)*c<<0:v-(o?q:1)*c/2+(o?s-1:0)*c<<0,j=g.axisX.reversed?h-c<<0:h+c<<0),!e&&i>k&&(_=i,i=k,k=_),e&&h>j&&(_=h,h=j,j=_),_=d.dataPointIds[a],this._eventManager.objectMap[_]={id:_,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:a,x1:Math.min(h,j),y1:Math.min(i,k),x2:Math.max(j,h),y2:Math.max(k,i),isXYSwapped:e,stemProperties:r,whiskerProperties:m},x(p,Math.min(h,j),Math.min(i,k),Math.max(j,h),Math.max(k,i),l,m,r,e),f&&x(this._eventManager.ghostCtx,h,i,j,k,l,m,r,e),(b[a].indexLabel||d.indexLabel||b[a].indexLabelFormatter||d.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:b[a],dataSeries:d,indexKeyword:0,point:{x:e?b[a].y[1]>=b[a].y[0]?h:j:h+(j-h)/2,y:e?i+(k-i)/2:b[a].y[1]>=b[a].y[0]?k:i},direction:b[a].y[1]>=b[a].y[0]?-1:1,bounds:{x1:e?Math.min(h,j):h,y1:e?i:Math.min(i,k),x2:e?Math.max(h,j):j,y2:e?k:Math.max(i,k)},color:l,axisSwapped:e}),this._indexLabels.push({chartType:"error",dataPoint:b[a],dataSeries:d,indexKeyword:1,point:{x:e?b[a].y[1]>=b[a].y[0]?j:h:h+(j-h)/2,y:e?i+(k-i)/2:b[a].y[1]>=b[a].y[0]?i:k},direction:b[a].y[1]>=b[a].y[0]?1:-1,bounds:{x1:e?Math.min(h,j):h,y1:e?i:Math.min(i,k),x2:e?Math.max(h,j):j,y2:e?k:Math.max(i,k)},color:l,axisSwapped:e}))}}}}return f&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.globalCompositeOperation="source-atop",g.axisX.maskCanvas&&p.drawImage(g.axisX.maskCanvas,0,0,this.width,this.height),g.axisY.maskCanvas&&p.drawImage(g.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),p.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:A.fadeInAnimation,easingFunction:A.easing.easeInQuad,animationBase:0}}},a.prototype.renderRangeBar=function(b){var o=b.targetCanvasCtx||this.plotArea.ctx,k=f?this._preRenderCtx:o;if(!(0>=b.dataSeriesIndexes.length)){var d,h,e,p,j=null,i=this.plotArea,a=0;a=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,d=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/b.plotType.totalDataSeries*.9)<<0;var g=b.axisX.dataInfo.minDiff;isFinite(g)||(g=.3*Math.abs(b.axisX.range)),g=this.options.dataPointWidth?this.dataPointWidth:i.height*(b.axisX.logarithmic?Math.log(g)/Math.log(b.axisX.range):Math.abs(g)/Math.abs(b.axisX.range))/b.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&a>d&&(a=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,d)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&d<a&&(d=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,a)),g<a&&(g=a),g>d&&(g=d),k.save(),f&&this._eventManager.ghostCtx.save(),k.beginPath(),k.rect(i.x1,i.y1,i.width,i.height),k.clip(),f&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(i.x1,i.y1,i.width,i.height),this._eventManager.ghostCtx.clip());for(var n=0;n<b.dataSeriesIndexes.length;n++){var q=b.dataSeriesIndexes[n],l=this.data[q],c=l.dataPoints;if(0<c.length){var s,r=!!(5<g&&l.bevelEnabled);for(k.strokeStyle="#4572A7 ",a=0;a<c.length;a++)if(!((p=c[a].getTime?c[a].x.getTime():c[a].x)<b.axisX.dataInfo.viewPortMin||p>b.axisX.dataInfo.viewPortMax)&&null!=c[a].y&&c[a].y.length&&"number"==typeof c[a].y[0]&&"number"==typeof c[a].y[1]){d=b.axisY.convertValueToPixel(c[a].y[0]),h=b.axisY.convertValueToPixel(c[a].y[1]),e=b.axisX.convertValueToPixel(p),e=b.axisX.reversed?e+b.plotType.totalDataSeries*g/2-(b.previousDataSeriesCount+n)*g<<0:e-b.plotType.totalDataSeries*g/2+(b.previousDataSeriesCount+n)*g<<0;var m=b.axisX.reversed?e-g<<0:e+g<<0;d>h&&(j=d,d=h,h=j),j=c[a].color?c[a].color:l._colorSet[a%l._colorSet.length],aq(k,d,b.axisX.reversed?m:e,h,b.axisX.reversed?e:m,j,0,null,r,!1,!1,!1,l.fillOpacity),j=l.dataPointIds[a],this._eventManager.objectMap[j]={id:j,objectType:"dataPoint",dataSeriesIndex:q,dataPointIndex:a,x1:d,y1:e,x2:h,y2:m},j=L(j),f&&aq(this._eventManager.ghostCtx,d,b.axisX.reversed?m:e,h,b.axisX.reversed?e:m,j,0,null,!1,!1,!1,!1),(c[a].indexLabel||l.indexLabel||c[a].indexLabelFormatter||l.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:c[a],dataSeries:l,indexKeyword:0,point:{x:c[a].y[1]>=c[a].y[0]?d:h,y:e+(m-e)/2},direction:c[a].y[1]>=c[a].y[0]?-1:1,bounds:{x1:Math.min(d,h),y1:e,x2:Math.max(d,h),y2:m},color:j}),this._indexLabels.push({chartType:"rangeBar",dataPoint:c[a],dataSeries:l,indexKeyword:1,point:{x:c[a].y[1]>=c[a].y[0]?h:d,y:e+(m-e)/2},direction:c[a].y[1]>=c[a].y[0]?1:-1,bounds:{x1:Math.min(d,h),y1:e,x2:Math.max(d,h),y2:m},color:j}))}}}return f&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),k.globalCompositeOperation="source-atop",b.axisX.maskCanvas&&k.drawImage(b.axisX.maskCanvas,0,0,this.width,this.height),b.axisY.maskCanvas&&k.drawImage(b.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),k.clearRect(i.x1,i.y1,i.width,i.height),this._eventManager.ghostCtx.restore()),k.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:A.fadeInAnimation,easingFunction:A.easing.easeInQuad,animationBase:0}}},a.prototype.renderRangeArea=function(g){function r(){if(B){for(var a=null,c=i.length-1;0<=c;c--)a=i[c],d.lineTo(a.x,a.y2),k.lineTo(a.x,a.y2);if(d.closePath(),d.globalAlpha=b.fillOpacity,d.fill(),d.globalAlpha=1,k.fill(),0<b.lineThickness){for(d.beginPath(),d.moveTo(a.x,a.y2),c=0;c<i.length;c++)a=i[c],d.lineTo(a.x,a.y2);for(d.moveTo(i[0].x,i[0].y1),c=0;c<i.length;c++)a=i[c],d.lineTo(a.x,a.y1);d.stroke()}d.beginPath(),d.moveTo(e,h),k.beginPath(),k.moveTo(e,h),B={x:e,y:h},(i=[]).push({x:e,y1:h,y2:m})}}var x=g.targetCanvasCtx||this.plotArea.ctx,d=f?this._preRenderCtx:x;if(!(0>=g.dataSeriesIndexes.length)){var k=this._eventManager.ghostCtx,l=[],j=this.plotArea;d.save(),f&&k.save(),d.beginPath(),d.rect(j.x1,j.y1,j.width,j.height),d.clip(),f&&(k.beginPath(),k.rect(j.x1,j.y1,j.width,j.height),k.clip());for(var y=0;y<g.dataSeriesIndexes.length;y++){var i=[],z=g.dataSeriesIndexes[y],b=this.data[z],c=b.dataPoints;l=b.id,this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:z},l=L(l),k.fillStyle=l,l=[];var e,h,m,n,s=!0,a=0,B=null;if(0<c.length){var t=b._colorSet[a%b._colorSet.length],u=b.lineColor=b.options.lineColor||t,v=u;d.fillStyle=t,d.strokeStyle=u,d.lineWidth=b.lineThickness;var o="solid";if(d.setLineDash){var C=P(b.nullDataLineDashType,b.lineThickness),w=P(o=b.lineDashType,b.lineThickness);d.setLineDash(w)}for(var p=!0;a<c.length;a++)if(!((n=c[a].x.getTime?c[a].x.getTime():c[a].x)<g.axisX.dataInfo.viewPortMin||n>g.axisX.dataInfo.viewPortMax&&(!b.connectNullData||!p))){if(null!==c[a].y&&c[a].y.length&&"number"==typeof c[a].y[0]&&"number"==typeof c[a].y[1]){if(e=g.axisX.convertValueToPixel(n),h=g.axisY.convertValueToPixel(c[a].y[0]),m=g.axisY.convertValueToPixel(c[a].y[1]),s||p?(b.connectNullData&&!s?(d.setLineDash&&(b.options.nullDataLineDashType||o===b.lineDashType&&b.lineDashType!==b.nullDataLineDashType)&&(i[i.length-1].newLineDashArray=w,o=b.nullDataLineDashType,d.setLineDash(C)),d.lineTo(e,h),f&&k.lineTo(e,h),i.push({x:e,y1:h,y2:m})):(d.beginPath(),d.moveTo(e,h),B={x:e,y:h},(i=[]).push({x:e,y1:h,y2:m}),f&&(k.beginPath(),k.moveTo(e,h))),p=s=!1):(d.lineTo(e,h),i.push({x:e,y1:h,y2:m}),f&&k.lineTo(e,h),0==a%250&&r()),n=b.dataPointIds[a],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:z,dataPointIndex:a,x1:e,y1:h,y2:m},a<c.length-1&&(v!==(c[a].lineColor||u)||o!==(c[a].lineDashType||b.lineDashType))&&(r(),v=c[a].lineColor||u,i[i.length-1].newStrokeStyle=v,d.strokeStyle=v,d.setLineDash&&(c[a].lineDashType?(o=c[a].lineDashType,i[i.length-1].newLineDashArray=P(o,b.lineThickness),d.setLineDash(i[i.length-1].newLineDashArray)):(o=b.lineDashType,i[i.length-1].newLineDashArray=w,d.setLineDash(w)))),0!==c[a].markerSize&&(0<c[a].markerSize||0<b.markerSize)){var _=b.getMarkerProperties(a,e,m,d);l.push(_);var q=L(n);f&&l.push({x:e,y:m,ctx:k,type:_.type,size:_.size,color:q,borderColor:q,borderThickness:_.borderThickness}),_=b.getMarkerProperties(a,e,h,d),l.push(_),q=L(n),f&&l.push({x:e,y:h,ctx:k,type:_.type,size:_.size,color:q,borderColor:q,borderThickness:_.borderThickness})}(c[a].indexLabel||b.indexLabel||c[a].indexLabelFormatter||b.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:c[a],dataSeries:b,indexKeyword:0,point:{x:e,y:h},direction:c[a].y[0]>c[a].y[1]===g.axisY.reversed?-1:1,color:t}),this._indexLabels.push({chartType:"rangeArea",dataPoint:c[a],dataSeries:b,indexKeyword:1,point:{x:e,y:m},direction:c[a].y[0]>c[a].y[1]===g.axisY.reversed?1:-1,color:t}))}else p||s||r(),p=!0}r(),$.drawMarkers(l)}}return f&&(x.drawImage(this._preRenderCanvas,0,0,this.width,this.height),d.globalCompositeOperation="source-atop",g.axisX.maskCanvas&&d.drawImage(g.axisX.maskCanvas,0,0,this.width,this.height),g.axisY.maskCanvas&&d.drawImage(g.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),d.clearRect(j.x1,j.y1,j.width,j.height),this._eventManager.ghostCtx.restore()),d.restore(),{source:x,dest:this.plotArea.ctx,animationCallback:A.xClipAnimation,easingFunction:A.easing.linear,animationBase:0}}},a.prototype.renderRangeSplineArea=function(e){function B(g,h){var a=w(i,2);if(0<a.length){if(0<c.lineThickness){d.strokeStyle=h,d.setLineDash&&d.setLineDash(g),d.beginPath(),d.moveTo(a[0].x,a[0].y);for(var b=0;b<a.length-3;b+=3)(a[b].newStrokeStyle||a[b].newLineDashArray)&&(d.stroke(),d.beginPath(),d.moveTo(a[b].x,a[b].y),a[b].newStrokeStyle&&(d.strokeStyle=a[b].newStrokeStyle),a[b].newLineDashArray&&d.setLineDash(a[b].newLineDashArray)),d.bezierCurveTo(a[b+1].x,a[b+1].y,a[b+2].x,a[b+2].y,a[b+3].x,a[b+3].y)}for(d.beginPath(),d.moveTo(a[0].x,a[0].y),f&&(m.beginPath(),m.moveTo(a[0].x,a[0].y)),b=0;b<a.length-3;b+=3)d.bezierCurveTo(a[b+1].x,a[b+1].y,a[b+2].x,a[b+2].y,a[b+3].x,a[b+3].y),f&&m.bezierCurveTo(a[b+1].x,a[b+1].y,a[b+2].x,a[b+2].y,a[b+3].x,a[b+3].y);for(a=w(y,2),d.lineTo(y[y.length-1].x,y[y.length-1].y),b=a.length-1;2<b;b-=3)d.bezierCurveTo(a[b-1].x,a[b-1].y,a[b-2].x,a[b-2].y,a[b-3].x,a[b-3].y),f&&m.bezierCurveTo(a[b-1].x,a[b-1].y,a[b-2].x,a[b-2].y,a[b-3].x,a[b-3].y);if(d.closePath(),d.globalAlpha=c.fillOpacity,d.fill(),f&&(m.closePath(),m.fill()),d.globalAlpha=1,0<c.lineThickness){d.strokeStyle=h,d.setLineDash&&d.setLineDash(g),d.beginPath(),d.moveTo(a[0].x,a[0].y);for(var e=b=0;b<a.length-3;b+=3,e++)(i[e].newStrokeStyle||i[e].newLineDashArray)&&(d.stroke(),d.beginPath(),d.moveTo(a[b].x,a[b].y),i[e].newStrokeStyle&&(d.strokeStyle=i[e].newStrokeStyle),i[e].newLineDashArray&&d.setLineDash(i[e].newLineDashArray)),d.bezierCurveTo(a[b+1].x,a[b+1].y,a[b+2].x,a[b+2].y,a[b+3].x,a[b+3].y);for(a=w(i,2),d.moveTo(a[0].x,a[0].y),e=b=0;b<a.length-3;b+=3,e++)(i[e].newStrokeStyle||i[e].newLineDashArray)&&(d.stroke(),d.beginPath(),d.moveTo(a[b].x,a[b].y),i[e].newStrokeStyle&&(d.strokeStyle=i[e].newStrokeStyle),i[e].newLineDashArray&&d.setLineDash(i[e].newLineDashArray)),d.bezierCurveTo(a[b+1].x,a[b+1].y,a[b+2].x,a[b+2].y,a[b+3].x,a[b+3].y);d.stroke()}d.beginPath()}}var u=e.targetCanvasCtx||this.plotArea.ctx,d=f?this._preRenderCtx:u;if(!(0>=e.dataSeriesIndexes.length)){var m=this._eventManager.ghostCtx,j=[],h=this.plotArea;d.save(),f&&m.save(),d.beginPath(),d.rect(h.x1,h.y1,h.width,h.height),d.clip(),f&&(m.beginPath(),m.rect(h.x1,h.y1,h.width,h.height),m.clip());for(var v=0;v<e.dataSeriesIndexes.length;v++){var x=e.dataSeriesIndexes[v],c=this.data[x],b=c.dataPoints;j=c.id,this._eventManager.objectMap[j]={objectType:"dataSeries",dataSeriesIndex:x},j=L(j),m.fillStyle=j,j=[];var g,k,n,a=0,i=[],y=[];if(0<b.length){var r=c._colorSet[a%c._colorSet.length],p=c.lineColor=c.options.lineColor||r,z=p;d.fillStyle=r,d.lineWidth=c.lineThickness;var s,o="solid";if(d.setLineDash){var C=P(c.nullDataLineDashType,c.lineThickness);s=P(o=c.lineDashType,c.lineThickness)}for(k=!1;a<b.length;a++)if(!((g=b[a].x.getTime?b[a].x.getTime():b[a].x)<e.axisX.dataInfo.viewPortMin||g>e.axisX.dataInfo.viewPortMax&&(!c.connectNullData||!k))){if(null!==b[a].y&&b[a].y.length&&"number"==typeof b[a].y[0]&&"number"==typeof b[a].y[1]){g=e.axisX.convertValueToPixel(g),k=e.axisY.convertValueToPixel(b[a].y[0]),n=e.axisY.convertValueToPixel(b[a].y[1]);var t=c.dataPointIds[a];if(this._eventManager.objectMap[t]={id:t,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:a,x1:g,y1:k,y2:n},i[i.length]={x:g,y:k},y[y.length]={x:g,y:n},a<b.length-1&&(z!==(b[a].lineColor||p)||o!==(b[a].lineDashType||c.lineDashType))&&(z=b[a].lineColor||p,i[i.length-1].newStrokeStyle=z,d.setLineDash&&(b[a].lineDashType?(o=b[a].lineDashType,i[i.length-1].newLineDashArray=P(o,c.lineThickness)):(o=c.lineDashType,i[i.length-1].newLineDashArray=s))),0!==b[a].markerSize&&(0<b[a].markerSize||0<c.markerSize)){var l=c.getMarkerProperties(a,g,k,d);j.push(l);var q=L(t);f&&j.push({x:g,y:k,ctx:m,type:l.type,size:l.size,color:q,borderColor:q,borderThickness:l.borderThickness}),l=c.getMarkerProperties(a,g,n,d),j.push(l),q=L(t),f&&j.push({x:g,y:n,ctx:m,type:l.type,size:l.size,color:q,borderColor:q,borderThickness:l.borderThickness})}(b[a].indexLabel||c.indexLabel||b[a].indexLabelFormatter||c.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:b[a],dataSeries:c,indexKeyword:0,point:{x:g,y:k},direction:b[a].y[0]<=b[a].y[1]?-1:1,color:r}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:b[a],dataSeries:c,indexKeyword:1,point:{x:g,y:n},direction:b[a].y[0]<=b[a].y[1]?1:-1,color:r})),k=!1}else 0<a&&!k&&(c.connectNullData?d.setLineDash&&0<i.length&&(c.options.nullDataLineDashType||!b[a-1].lineDashType)&&(i[i.length-1].newLineDashArray=C,o=c.nullDataLineDashType):(B(s,p),i=[],y=[])),k=!0}B(s,p),$.drawMarkers(j)}}return f&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),d.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&d.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&d.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),d.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),d.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:A.xClipAnimation,easingFunction:A.easing.linear,animationBase:0}}},a.prototype.renderWaterfall=function(b){var u=b.targetCanvasCtx||this.plotArea.ctx,g=f?this._preRenderCtx:u;if(!(0>=b.dataSeriesIndexes.length)){var j,e,h,w,r=this._eventManager.ghostCtx,k=null,l=this.plotArea,a=0,x=b.axisY.convertValueToPixel(b.axisY.logarithmic?b.axisY.viewportMinimum:0);a=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,e=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/b.plotType.totalDataSeries*.9)<<0;var i=b.axisX.dataInfo.minDiff;isFinite(i)||(i=.3*Math.abs(b.axisX.range)),i=this.options.dataPointWidth?this.dataPointWidth:l.width*(b.axisX.logarithmic?Math.log(i)/Math.log(b.axisX.range):Math.abs(i)/Math.abs(b.axisX.range))/b.plotType.totalDataSeries*.6<<0,this.dataPointMaxWidth&&a>e&&(a=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,e)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&e<a&&(e=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,a)),i<a&&(i=a),i>e&&(i=e),g.save(),f&&this._eventManager.ghostCtx.save(),g.beginPath(),g.rect(l.x1,l.y1,l.width,l.height),g.clip(),f&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var p=0;p<b.dataSeriesIndexes.length;p++){var y=b.dataSeriesIndexes[p],c=this.data[y],d=c.dataPoints;k=c._colorSet[0],c.risingColor=c.options.risingColor?c.options.risingColor:k,c.fallingColor=c.options.fallingColor?c.options.fallingColor:"#e40a0a";var o="number"==typeof c.options.lineThickness?Math.round(c.lineThickness):1,s=1==Math.round(o)%2?-0.5:0;if(0<d.length){var z=!!(5<i&&c.bevelEnabled),q=!1,t=null,v=null;for(a=0;a<d.length;a++)if(w=d[a].getTime?d[a].x.getTime():d[a].x,"number"!=typeof d[a].y){if(0<a&&!q&&c.connectNullData)var B=c.options.nullDataLineDashType||!d[a-1].lineDashType?c.nullDataLineDashType:d[a-1].lineDashType;q=!0}else{j=b.axisX.convertValueToPixel(w),e=0===c.dataPointEOs[a].cumulativeSum?x:b.axisY.convertValueToPixel(c.dataPointEOs[a].cumulativeSum),h=0===c.dataPointEOs[a].cumulativeSumYStartValue?x:b.axisY.convertValueToPixel(c.dataPointEOs[a].cumulativeSumYStartValue),j=b.axisX.reversed?j+b.plotType.totalDataSeries*i/2-(b.previousDataSeriesCount+p)*i<<0:j-b.plotType.totalDataSeries*i/2+(b.previousDataSeriesCount+p)*i<<0;var _,n=b.axisX.reversed?j-i<<0:j+i<<0;e>h&&(k=e,e=h,h=k),b.axisY.reversed&&(k=e,e=h,h=k),k=c.dataPointIds[a],this._eventManager.objectMap[k]={id:k,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:a,x1:j,y1:e,x2:n,y2:h};var m=d[a].color?d[a].color:0<d[a].y?c.risingColor:c.fallingColor;aq(g,b.axisX.reversed?n:j,b.axisY.reversed?h:e,b.axisX.reversed?j:n,b.axisY.reversed?e:h,m,0,m,z,z,!1,!1,c.fillOpacity),k=L(k),f&&aq(this._eventManager.ghostCtx,b.axisX.reversed?n:j,e,b.axisX.reversed?j:n,h,k,0,null,!1,!1,!1,!1),m=j,_=void 0!==d[a].isIntermediateSum&& !0===d[a].isIntermediateSum|| void 0!==d[a].isCumulativeSum&& !0===d[a].isCumulativeSum?0<d[a].y?e:h:0<d[a].y?h:e,0<a&&t&&(!q||c.connectNullData)&&(q&&g.setLineDash&&g.setLineDash(P(B,o)),g.beginPath(),g.moveTo(t,v-s),g.lineTo(m,_-s),0<o&&g.stroke(),f&&(r.beginPath(),r.moveTo(t,v-s),r.lineTo(m,_-s),0<o&&r.stroke())),q=!1,t=n,v=0<d[a].y?e:h,m=d[a].lineDashType?d[a].lineDashType:c.options.lineDashType?c.options.lineDashType:"shortDash",g.strokeStyle=d[a].lineColor?d[a].lineColor:c.options.lineColor?c.options.lineColor:"#9e9e9e",g.lineWidth=o,g.setLineDash&&(m=P(m,o),g.setLineDash(m)),(d[a].indexLabel||c.indexLabel||d[a].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:d[a],dataSeries:c,point:{x:j+(n-j)/2,y:0<=d[a].y?e:h},direction:0>d[a].y===b.axisY.reversed?1:-1,bounds:{x1:j,y1:Math.min(e,h),x2:n,y2:Math.max(e,h)},color:k})}}}return f&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),g.globalCompositeOperation="source-atop",b.axisX.maskCanvas&&g.drawImage(b.axisX.maskCanvas,0,0,this.width,this.height),b.axisY.maskCanvas&&g.drawImage(b.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),g.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),g.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:A.fadeInAnimation,easingFunction:A.easing.easeInQuad,animationBase:0}}};var y=function(a,b,d,h,i,e,c,g,j){if(!(0>d)){if(void 0===g&&(g=1),!f){var k=Number((c%(2*Math.PI)).toFixed(8));Number((e%(2*Math.PI)).toFixed(8))===k&&(c-=1e-4)}a.save(),a.globalAlpha=g,"pie"===i?(a.beginPath(),a.moveTo(b.x,b.y),a.arc(b.x,b.y,d,e,c,!1),a.fillStyle=h,a.strokeStyle="white",a.lineWidth=2,a.closePath(),a.fill()):"doughnut"===i&&(a.beginPath(),a.arc(b.x,b.y,d,e,c,!1),0<=j&&a.arc(b.x,b.y,j*d,c,e,!0),a.closePath(),a.fillStyle=h,a.strokeStyle="white",a.lineWidth=2,a.fill()),a.globalAlpha=1,a.restore()}};a.prototype.renderPie=function(b){function j(g){var b=p.plotArea.ctx;for(b.clearRect(e.x1,e.y1,e.width,e.height),b.fillStyle=p.backgroundColor,b.fillRect(e.x1,e.y1,e.width,e.height),b=0;b<d.length;b++){var c=s[b].startAngle,i=s[b].endAngle;if(i>c){var h=.07*f*Math.cos(s[b].midAngle),j=.07*f*Math.sin(s[b].midAngle),k=!1;d[b].exploded?(1e-9<Math.abs(s[b].center.x-(x.x+h))||1e-9<Math.abs(s[b].center.y-(x.y+j)))&&(s[b].center.x=x.x+h*g,s[b].center.y=x.y+j*g,k=!0):(0<Math.abs(s[b].center.x-x.x)||0<Math.abs(s[b].center.y-x.y))&&(s[b].center.x=x.x+h*(1-g),s[b].center.y=x.y+j*(1-g),k=!0),k&&((h={}).dataSeries=a,h.dataPoint=a.dataPoints[b],h.index=b,p.toolTip.highlightObjects([h])),y(p.plotArea.ctx,s[b].center,s[b].radius,d[b].color?d[b].color:a._colorSet[b%a._colorSet.length],a.type,c,i,a.fillOpacity,s[b].percentInnerRadius)}}for((g=p.plotArea.ctx).save(),g.fillStyle="black",g.strokeStyle="grey",g.textBaseline="middle",g.lineJoin="round",b=b=0;b<d.length;b++)(c=s[b]).indexLabelText&&(c.indexLabelTextBlock.y-=c.indexLabelTextBlock.height/2,i=0,i="left"===c.hemisphere?"inside"!==a.indexLabelPlacement?-(c.indexLabelTextBlock.width+r):-c.indexLabelTextBlock.width/2:"inside"!==a.indexLabelPlacement?r:-c.indexLabelTextBlock.width/2,c.indexLabelTextBlock.x+=i,c.indexLabelTextBlock.render(!0),c.indexLabelTextBlock.x-=i,c.indexLabelTextBlock.y+=c.indexLabelTextBlock.height/2,"inside"!==c.indexLabelPlacement&&0<c.indexLabelLineThickness&&(i=c.center.x+f*Math.cos(c.midAngle),h=c.center.y+f*Math.sin(c.midAngle),g.strokeStyle=c.indexLabelLineColor,g.lineWidth=c.indexLabelLineThickness,g.setLineDash&&g.setLineDash(P(c.indexLabelLineDashType,c.indexLabelLineThickness)),g.beginPath(),g.moveTo(i,h),g.lineTo(c.indexLabelTextBlock.x,c.indexLabelTextBlock.y),g.lineTo(c.indexLabelTextBlock.x+("left"===c.hemisphere?-r:r),c.indexLabelTextBlock.y),g.stroke()),g.lineJoin="miter");g.save()}function l(a,b){var c=0,d=(c=a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2,a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2),e=b.indexLabelTextBlock.y-b.indexLabelTextBlock.height/2,f=b.indexLabelTextBlock.y+b.indexLabelTextBlock.height/2;return b.indexLabelTextBlock.y>a.indexLabelTextBlock.y?e-d:c-f}function m(b){for(var a=null,c=1;c<d.length;c++){if(a=(b+c+s.length)%s.length,s[a].hemisphere!==s[b].hemisphere){a=null;break}if(s[a].indexLabelText&&a!==b&&(0>l(s[a],s[b])||("right"===s[b].hemisphere?s[a].indexLabelTextBlock.y>=s[b].indexLabelTextBlock.y:s[a].indexLabelTextBlock.y<=s[b].indexLabelTextBlock.y)))break;a=null}return a}function n(e,a,j){if(1e3<(j=(j||0)+1))return 0;a=a||0;var k=0,c=x.y-1*q,g=x.y+1*q;if(0<=e&&e<d.length){var b=s[e];if(0>a&&b.indexLabelTextBlock.y<c||0<a&&b.indexLabelTextBlock.y>g)return 0;var i=0,h=0;for(h=i=i=0,0>a?b.indexLabelTextBlock.y-b.indexLabelTextBlock.height/2>c&&b.indexLabelTextBlock.y-b.indexLabelTextBlock.height/2+a<c&&(a=-(c-(b.indexLabelTextBlock.y-b.indexLabelTextBlock.height/2+a))):b.indexLabelTextBlock.y+b.indexLabelTextBlock.height/2<c&&b.indexLabelTextBlock.y+b.indexLabelTextBlock.height/2+a>g&&(a=b.indexLabelTextBlock.y+b.indexLabelTextBlock.height/2+a-g),a=b.indexLabelTextBlock.y+a,c=0,c="right"===b.hemisphere?x.x+Math.sqrt(Math.pow(q,2)-Math.pow(a-x.y,2)):x.x-Math.sqrt(Math.pow(q,2)-Math.pow(a-x.y,2)),h=x.x+f*Math.cos(b.midAngle),i=x.y+f*Math.sin(b.midAngle),i=Math.sqrt(Math.pow(c-h,2)+Math.pow(a-i,2)),h=Math.acos(f/q),a=(i=Math.acos((q*q+f*f-i*i)/(2*f*q)))<h?a-b.indexLabelTextBlock.y:0,c=null,g=1;g<d.length;g++){if(c=(e-g+s.length)%s.length,s[c].hemisphere!==s[e].hemisphere){c=null;break}if(s[c].indexLabelText&&s[c].hemisphere===s[e].hemisphere&&c!==e&&(0>l(s[c],s[e])||("right"===s[e].hemisphere?s[c].indexLabelTextBlock.y<=s[e].indexLabelTextBlock.y:s[c].indexLabelTextBlock.y>=s[e].indexLabelTextBlock.y)))break;c=null}h=c,i=m(e),g=c=0,0>a?(k=a,null!==(g="right"===b.hemisphere?h:i)&&(h=-a,(a=b.indexLabelTextBlock.y-b.indexLabelTextBlock.height/2-(s[g].indexLabelTextBlock.y+s[g].indexLabelTextBlock.height/2))-h<t&& +(g=n(g,c=-h,j+1)).toFixed(w)> +c.toFixed(w)&&(k=a>t?-(a-t):-(h-(g-c))))):0<a&&(k=a,null!==(g="right"===b.hemisphere?i:h)&&(h=a,(a=s[g].indexLabelTextBlock.y-s[g].indexLabelTextBlock.height/2-(b.indexLabelTextBlock.y+b.indexLabelTextBlock.height/2))-h<t&& +(g=n(g,c=h,j+1)).toFixed(w)< +c.toFixed(w)&&(k=a>t?a-t:h-(c-g)))),k&&(j=b.indexLabelTextBlock.y+k,a=0,a="right"===b.hemisphere?x.x+Math.sqrt(Math.pow(q,2)-Math.pow(j-x.y,2)):x.x-Math.sqrt(Math.pow(q,2)-Math.pow(j-x.y,2)),b.midAngle>Math.PI/2-v&&b.midAngle<Math.PI/2+v?(c=(e-1+s.length)%s.length,c=s[c],e=s[(e+1+s.length)%s.length],"left"===b.hemisphere&&"right"===c.hemisphere&&a>c.indexLabelTextBlock.x?a=c.indexLabelTextBlock.x-15:"right"===b.hemisphere&&"left"===e.hemisphere&&a<e.indexLabelTextBlock.x&&(a=e.indexLabelTextBlock.x+15)):b.midAngle>3*Math.PI/2-v&&b.midAngle<3*Math.PI/2+v&&(c=(e-1+s.length)%s.length,c=s[c],e=s[(e+1+s.length)%s.length],"right"===b.hemisphere&&"left"===c.hemisphere&&a<c.indexLabelTextBlock.x?a=c.indexLabelTextBlock.x+15:"left"===b.hemisphere&&"right"===e.hemisphere&&a>e.indexLabelTextBlock.x&&(a=e.indexLabelTextBlock.x-15)),b.indexLabelTextBlock.y=j,b.indexLabelTextBlock.x=a,b.indexLabelAngle=Math.atan2(b.indexLabelTextBlock.y-x.y,b.indexLabelTextBlock.x-x.x))}return k}function g(){(g=p.plotArea.ctx).fillStyle="grey",g.strokeStyle="grey",g.font="16px Arial",g.textBaseline="middle";var y=g=0,o=0,A=!0;for(y=0;10>y&&(1>y||0<o);y++){if((a.radius|| !a.radius&& void 0!==a.innerRadius&&null!==a.innerRadius&&f-o<=i)&&(A=!1),A&&(f-=o),o=0,"inside"!==a.indexLabelPlacement){for(q=f*u,g=0;g<d.length;g++)(b=s[g]).indexLabelTextBlock.x=x.x+q*Math.cos(b.midAngle),b.indexLabelTextBlock.y=x.y+q*Math.sin(b.midAngle),b.indexLabelAngle=b.midAngle,b.radius=f,b.percentInnerRadius=z;for(var B,h,g=0;g<d.length;g++){var b=s[g],c=m(g);if(null!==c){B=s[g];var v=0;if(0>(v=l(B,h=s[c])-t)){for(var k=h=0,j=0;j<d.length;j++)j!==g&&s[j].hemisphere===b.hemisphere&&(s[j].indexLabelTextBlock.y<b.indexLabelTextBlock.y?h++:k++);k=-1*(v-(h=v/(h+k||1)*k));var _=j=0;"right"===b.hemisphere?(j=n(g,h),+(_=n(c,k=-1*(v-j))).toFixed(w)< +k.toFixed(w)&& +j.toFixed(w)<= +h.toFixed(w)&&n(g,-(k-_))):(j=n(c,h),+(_=n(g,k=-1*(v-j))).toFixed(w)< +k.toFixed(w)&& +j.toFixed(w)<= +h.toFixed(w)&&n(c,-(k-_)))}}}}else for(g=0;g<d.length;g++)b=s[g],q="pie"===a.type?.7*f:.8*f,c=x.x+q*Math.cos(b.midAngle),h=x.y+q*Math.sin(b.midAngle),b.indexLabelTextBlock.x=c,b.indexLabelTextBlock.y=h;for(g=0;g<d.length;g++)0!==(c=(b=s[g]).indexLabelTextBlock.measureText()).height&&0!==c.width&&(c=c=0,"right"===b.hemisphere?(c=e.x2-(b.indexLabelTextBlock.x+b.indexLabelTextBlock.width+r),c*=-1):c=e.x1-(b.indexLabelTextBlock.x-b.indexLabelTextBlock.width-r),0<c&&(!A&&b.indexLabelText&&(h="right"===b.hemisphere?e.x2-b.indexLabelTextBlock.x:b.indexLabelTextBlock.x-e.x1,.3*b.indexLabelTextBlock.maxWidth>h?b.indexLabelText="":b.indexLabelTextBlock.maxWidth=.85*h,.3*b.indexLabelTextBlock.maxWidth<h&&(b.indexLabelTextBlock.x-="right"===b.hemisphere?2:-2)),Math.abs(b.indexLabelTextBlock.y-b.indexLabelTextBlock.height/2-x.y)<f||Math.abs(b.indexLabelTextBlock.y+b.indexLabelTextBlock.height/2-x.y)<f)&&(9<(c/=Math.abs(Math.cos(b.indexLabelAngle)))&&(c*=.3),c>o&&(o=c)),c=c=0,0<b.indexLabelAngle&&b.indexLabelAngle<Math.PI?(c=e.y2-(b.indexLabelTextBlock.y+b.indexLabelTextBlock.height/2+5),c*=-1):c=e.y1-(b.indexLabelTextBlock.y-b.indexLabelTextBlock.height/2-5),0<c&&(!A&&b.indexLabelText&&0===n(g,c*(h=0<b.indexLabelAngle&&b.indexLabelAngle<Math.PI?-1:1))&&n(g,2*h),Math.abs(b.indexLabelTextBlock.x-x.x)<f&&(9<(c/=Math.abs(Math.sin(b.indexLabelAngle)))&&(c*=.3),c>o&&(o=c))));var C=function(f,a,b){for(var c=[],e=0;c.push(s[a]),a!==b;a=(a+1+d.length)%d.length);for(c.sort(function(a,b){return a.y-b.y}),a=0;a<c.length&&(b=c[a],e<.7*f);a++)e+=b.indexLabelTextBlock.height,b.indexLabelTextBlock.text="",b.indexLabelText="",b.indexLabelTextBlock.measureText()};!function(){for(var b=-1,f=-1,c=0,h=!1,e=0;e<d.length;e++)if(h=!1,(B=s[e]).indexLabelText){var i=m(e);if(null!==i){var g,a=s[i];if(v=0,g=0>(v=l(B,a))){g=B.indexLabelTextBlock.x;var j=B.indexLabelTextBlock.y-B.indexLabelTextBlock.height/2,k=B.indexLabelTextBlock.y+B.indexLabelTextBlock.height/2,n=a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2,o=a.indexLabelTextBlock.x+a.indexLabelTextBlock.width,p=a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2;g=!(B.indexLabelTextBlock.x+B.indexLabelTextBlock.width<a.indexLabelTextBlock.x-r||g>o+r||j>p+r||k<n-r)}g?(0>b&&(b=e),i!==b&&(f=i,c+=-v),0==e%Math.max(d.length/10,3)&&(h=!0)):h=!0,h&&0<c&&0<=b&&0<=f&&(C(c,b,f),f=b=-1,c=0)}}0<c&&C(c,b,f)}()}}function o(){if(p.plotArea.layoutManager.reset(),p.title&&(p.title.dockInsidePlotArea||"center"===p.title.horizontalAlign&&"center"===p.title.verticalAlign)&&p.title.render(),p.subtitles)for(var b=0;b<p.subtitles.length;b++){var a=p.subtitles[b];(a.dockInsidePlotArea||"center"===a.horizontalAlign&&"center"===a.verticalAlign)&&a.render()}p.legend&&(p.legend.dockInsidePlotArea||"center"===p.legend.horizontalAlign&&"center"===p.legend.verticalAlign)&&(p.legend.setLayout(),p.legend.render())}var p=this;if(!(0>=b.dataSeriesIndexes.length)){var q,a=this.data[b.dataSeriesIndexes[0]],d=a.dataPoints,r=10,e=this.plotArea,s=a.dataPointEOs,t=2,u=1.3,v=20/180*Math.PI,w=6,x={x:(e.x2+e.x1)/2,y:(e.y2+e.y1)/2},h=0;b=!1;for(var c=0;c<d.length;c++)h+=Math.abs(d[c].y),!b&& void 0!==d[c].indexLabel&&null!==d[c].indexLabel&&0<d[c].indexLabel.toString().length&&(b=!0),!b&& void 0!==d[c].label&&null!==d[c].label&&0<d[c].label.toString().length&&(b=!0);if(0!==h){b=b|| void 0!==a.indexLabel&&null!==a.indexLabel&&0<a.indexLabel.toString().length;var f="inside"!==a.indexLabelPlacement&&b?.75*Math.min(e.width,e.height)/2:.92*Math.min(e.width,e.height)/2;a.radius&&(f=Z(a.radius,f));var i=void 0!==a.innerRadius&&null!==a.innerRadius?Z(a.innerRadius,f):.7*f;a.radius=f,"doughnut"===a.type&&(a.innerRadius=i);var z=Math.min(i/f,(f-1)/f);this.pieDoughnutClickHandler=function(a){var b;p.isAnimating||null!=a.dataSeries.explodeOnClick&&!a.dataSeries.explodeOnClick||((a=a.dataPoint).exploded=!a.exploded,1<this.dataPoints.length&&p._animator.animate(0,500,function(a){j(a),o(),p.dispatchEvent("dataAnimationIterationEnd",{chart:p}),p.dispatchEvent("dataAnimationEnd",{chart:p})}))},function(){if(a&&d){for(var l=0,m=0,n=0,o=0,g=0;g<d.length;g++){var c=d[g],j=a.dataPointIds[g];s[g].id=j,s[g].objectType="dataPoint",s[g].dataPointIndex=g,s[g].dataSeriesIndex=0;var r,t,b=s[g],i={percent:null,total:null},q=null;i=p.getPercentAndTotal(a,c),(a.indexLabelFormatter||c.indexLabelFormatter)&&(q={chart:p.options,dataSeries:a,dataPoint:c,total:i.total,percent:i.percent}),i=c.indexLabelFormatter?c.indexLabelFormatter(q):c.indexLabel?p.replaceKeywordsWithValue(c.indexLabel,c,a,g):a.indexLabelFormatter?a.indexLabelFormatter(q):a.indexLabel?p.replaceKeywordsWithValue(a.indexLabel,c,a,g):c.label?c.label:"",p._eventManager.objectMap[j]=b,b.center={x:x.x,y:x.y},b.y=c.y,b.radius=f,b.percentInnerRadius=z,b.indexLabelText=i,b.indexLabelPlacement=a.indexLabelPlacement,b.indexLabelLineColor=c.indexLabelLineColor?c.indexLabelLineColor:a.options.indexLabelLineColor?a.options.indexLabelLineColor:c.color?c.color:a._colorSet[g%a._colorSet.length],r=c.indexLabelLineThickness,b.indexLabelLineThickness=null==r?a.indexLabelLineThickness:c.indexLabelLineThickness,b.indexLabelLineDashType=c.indexLabelLineDashType?c.indexLabelLineDashType:a.indexLabelLineDashType,b.indexLabelFontColor=c.indexLabelFontColor?c.indexLabelFontColor:a.indexLabelFontColor,b.indexLabelFontStyle=c.indexLabelFontStyle?c.indexLabelFontStyle:a.indexLabelFontStyle,b.indexLabelFontWeight=c.indexLabelFontWeight?c.indexLabelFontWeight:a.indexLabelFontWeight,t=c.indexLabelFontSize,b.indexLabelFontSize=null==t?a.indexLabelFontSize:c.indexLabelFontSize,b.indexLabelFontFamily=c.indexLabelFontFamily?c.indexLabelFontFamily:a.indexLabelFontFamily,b.indexLabelBackgroundColor=c.indexLabelBackgroundColor?c.indexLabelBackgroundColor:a.options.indexLabelBackgroundColor?a.options.indexLabelBackgroundColor:a.indexLabelBackgroundColor,b.indexLabelMaxWidth=c.indexLabelMaxWidth?c.indexLabelMaxWidth:a.indexLabelMaxWidth?a.indexLabelMaxWidth:.33*e.width,b.indexLabelWrap=void 0!==c.indexLabelWrap?c.indexLabelWrap:a.indexLabelWrap,b.indexLabelTextAlign=c.indexLabelTextAlign?c.indexLabelTextAlign:a.indexLabelTextAlign?a.indexLabelTextAlign:"left",b.startAngle=0===g?a.startAngle?a.startAngle/180*Math.PI:0:s[g-1].endAngle,b.startAngle=(b.startAngle+2*Math.PI)%(2*Math.PI),b.endAngle=b.startAngle+2*Math.PI/h*Math.abs(c.y),c=((c=(b.endAngle+b.startAngle)/2)+2*Math.PI)%(2*Math.PI),b.midAngle=c,b.midAngle>Math.PI/2-v&&b.midAngle<Math.PI/2+v?((0===l||s[n].midAngle>b.midAngle)&&(n=g),l++):b.midAngle>3*Math.PI/2-v&&b.midAngle<3*Math.PI/2+v&&((0===m||s[o].midAngle>b.midAngle)&&(o=g),m++),b.hemisphere=c>Math.PI/2&&c<=3*Math.PI/2?"left":"right",b.indexLabelTextBlock=new k(p.plotArea.ctx,{fontSize:b.indexLabelFontSize,fontFamily:b.indexLabelFontFamily,fontColor:b.indexLabelFontColor,fontStyle:b.indexLabelFontStyle,fontWeight:b.indexLabelFontWeight,textAlign:b.indexLabelTextAlign,backgroundColor:b.indexLabelBackgroundColor,maxWidth:b.indexLabelMaxWidth,maxHeight:b.indexLabelWrap?5*b.indexLabelFontSize:1.5*b.indexLabelFontSize,text:b.indexLabelText,padding:0,textBaseline:"top"}),b.indexLabelTextBlock.measureText()}for(j=c=0,i=!1,g=0;g<d.length;g++)b=s[(n+g)%d.length],1<l&&b.midAngle>Math.PI/2-v&&b.midAngle<Math.PI/2+v&&(c<=l/2&&!i?(b.hemisphere="right",c++):(b.hemisphere="left",i=!0));for(i=!1,g=0;g<d.length;g++)b=s[(o+g)%d.length],1<m&&b.midAngle>3*Math.PI/2-v&&b.midAngle<3*Math.PI/2+v&&(j<=m/2&&!i?(b.hemisphere="left",j++):(b.hemisphere="right",i=!0))}}(),g(),g(),g(),g(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(g){(h=p.plotArea.ctx).clearRect(e.x1,e.y1,e.width,e.height),h.fillStyle=p.backgroundColor,h.fillRect(e.x1,e.y1,e.width,e.height);for(var h=s[0].startAngle+2*Math.PI*g,b=0;b<d.length;b++){var f=0===b?s[b].startAngle:c,c=f+(s[b].endAngle-s[b].startAngle),i=!1;c>h&&(c=h,i=!0);var j=d[b].color?d[b].color:a._colorSet[b%a._colorSet.length];if(c>f&&y(p.plotArea.ctx,s[b].center,s[b].radius,j,a.type,f,c,a.fillOpacity,s[b].percentInnerRadius),i)break}o(),p.dispatchEvent("dataAnimationIterationEnd",{chart:p}),1<=g&&p.dispatchEvent("dataAnimationEnd",{chart:p})},function(){p.disableToolTip=!1,p._animator.animate(0,p.animatedRender?500:0,function(a){j(a),o(),p.dispatchEvent("dataAnimationIterationEnd",{chart:p})}),p.dispatchEvent("dataAnimationEnd",{chart:p})})}}};var z=function(b,a,c,d){void 0===c&&(c=1),0>=Math.round(a.y4-a.y1)||(b.save(),b.globalAlpha=c,b.beginPath(),b.moveTo(Math.round(a.x1),Math.round(a.y1)),b.lineTo(Math.round(a.x2),Math.round(a.y2)),b.lineTo(Math.round(a.x3),Math.round(a.y3)),b.lineTo(Math.round(a.x4),Math.round(a.y4)),"undefined"!==a.x5&&(b.lineTo(Math.round(a.x5),Math.round(a.y5)),b.lineTo(Math.round(a.x6),Math.round(a.y6))),b.closePath(),b.fillStyle=d||a.color,b.fill(),b.globalAplha=1,b.restore())};a.prototype.renderFunnel=function(c){function L(){var c,e,d,f;if("inside"!==b.indexLabelPlacement)for(var a=0;a<m.length;a++)0==y[a].textBlock.text.length?y[a].isDirty=!0:(d=void 0!==(c=m[a]).x5?(c.y2+c.y4)/2:(c.y2+c.y3)/2,e=b.reversed?void 0!==c.x5&&d>s?U(d).x2+1:(c.x2+c.x3)/2+1:void 0!==c.x5?d<s?U(d).x2+1:(c.x4+c.x3)/2+1:(c.x2+c.x3)/2+1,y[a].textBlock.x=e+W,y[a].textBlock.y=d-y[a].height/2,b.reversed?(y[a].textBlock.y+y[a].height>r+B&&(y[a].textBlock.y=r+B-y[a].height),y[a].textBlock.y<X-B&&(y[a].textBlock.y=X-B)):(y[a].textBlock.y<r-B&&(y[a].textBlock.y=r-B),y[a].textBlock.y+y[a].height>X+B&&(y[a].textBlock.y=X+B-y[a].height)));else for(a=0;a<m.length;a++)0==y[a].textBlock.text.length?y[a].isDirty=!0:(e=(c=m[a]).height,d=y[a].height,f=y[a].width,e>=d?(e=a!=E?(c.x4+c.x3)/2-f/2:(c.x5+c.x4)/2-f/2,d=a!=E?(c.y1+c.y3)/2-d/2:(c.y1+c.y4)/2-d/2,y[a].textBlock.x=e,y[a].textBlock.y=d):y[a].isDirty=!0)}function R(a,c){return(c<m.length?y[c].textBlock.y:b.reversed?r+B:X+B)-(0>a?b.reversed?X-B:r-B:y[a].textBlock.y+y[a].height+Y)}function G(j,c,k){var d,e,l,f=[],i=B,o=[];if(-1!==c&&(0<=F.indexOf(c)?(e=F.indexOf(c),F.splice(e,1)):(F.push(c),F=F.sort(function(a,b){return a-b}))),0===F.length)f=$;else{e=B*(1!=F.length||0!=F[0]&&F[0]!=m.length-1?2:1)/function(){for(var b=0,a=0;a<m.length-1;a++)(0<=F.indexOf(a)||0<=F.indexOf(a+1))&&b++;return b}();for(var a=0;a<m.length;a++){if(1==F.length&&0==F[0]){if(0===a){f.push($[a]),d=i;continue}}else 0===a&&(d=-1*i);f.push($[a]+d),(0<=F.indexOf(a)||a<m.length&&0<=F.indexOf(a+1))&&(d+=e)}}l=function(){for(var b=[],a=0;a<m.length;a++)b.push(f[a]-m[a].y1);return b}(),new Date().getTime();var p=function(d){for(var b,c,a=0;a<m.length;a++)b=l[a],c=m[a],b*=d,void 0===o[a]&&(o[a]=0),0>o&&(o*=-1),c.y1+=b-o[a],c.y2+=b-o[a],c.y3+=b-o[a],c.y4+=b-o[a],c.y5&&(c.y5+=b-o[a],c.y6+=b-o[a]),o[a]=b};j._animator.animate(0,k,function(e){var d=j.plotArea.ctx||j.ctx;Z=!0,d.clearRect(h.x1,h.y1,h.x2-h.x1,h.y2-h.y1),d.fillStyle=j.backgroundColor,d.fillRect(h.x1,h.y1,h.width,h.height),p(e,c);var a={};for(a.dataSeries=b,a.dataPoint=b.reversed?b.dataPoints[g.length-1-c]:b.dataPoints[c],a.index=b.reversed?g.length-1-c:c,j.toolTip.highlightObjects([a]),a=0;a<m.length;a++)z(d,m[a],b.fillOpacity);Q(d),n&&("inside"!==b.indexLabelPlacement?M(d):L(),O(d)),1<=e&&(Z=!1)},null,A.easing.easeOutQuart)}function M(b){for(var d,e,f,c,a=0;a<m.length;a++)c=1==y[a].lineThickness%2?.5:0,d=U(e=((m[a].y2+m[a].y4)/2<<0)+c).x2-1,f=y[a].textBlock.x,c=(y[a].textBlock.y+y[a].height/2<<0)+c,y[a].isDirty||0==y[a].lineThickness||(b.strokeStyle=y[a].lineColor,b.lineWidth=y[a].lineThickness,b.setLineDash&&b.setLineDash(P(y[a].lineDashType,y[a].lineThickness)),b.beginPath(),b.moveTo(d,e),b.lineTo(f,c),b.stroke())}function S(a){for(a-=1;-1<=a&& -1!=a&&y[a].isDirty;a--);return a}function T(a){for(a+=1;a<=m.length&&a!=m.length&&y[a].isDirty;a++);return a}function U(b){for(var a,c=0;c<g.length;c++)if(m[c].y1<b&&m[c].y4>b){a=m[c];break}return a?{x1:b=a.y6&&b>a.y6?a.x3+(a.x4-a.x3)/(a.y4-a.y3)*(b-a.y3):a.x2+(a.x3-a.x2)/(a.y3-a.y2)*(b-a.y2),x2:b}:-1}function O(b){for(var a=0;a<m.length;a++)y[a].isDirty||(b&&(y[a].textBlock.ctx=b),y[a].textBlock.render(!0))}function Q(a){if(o.plotArea.layoutManager.reset(),a.roundRect||J(a),o.title&&(o.title.dockInsidePlotArea||"center"===o.title.horizontalAlign&&"center"===o.title.verticalAlign)&&(o.title.ctx=a,o.title.render()),o.subtitles)for(var c=0;c<o.subtitles.length;c++){var b=o.subtitles[c];(b.dockInsidePlotArea||"center"===b.horizontalAlign&&"center"===b.verticalAlign)&&(o.subtitles.ctx=a,b.render())}o.legend&&(o.legend.dockInsidePlotArea||"center"===o.legend.horizontalAlign&&"center"===o.legend.verticalAlign)&&(o.legend.ctx=a,o.legend.setLayout(),o.legend.render()),ab.fNg&&ab.fNg(o)}var o=this;if(!(0>=c.dataSeriesIndexes.length)){for(var b=this.data[c.dataSeriesIndexes[0]],g=b.dataPoints,h=this.plotArea,B=.025*h.width,i=.01*h.width,j=0,u=h.height-2*B,d=Math.min(h.width-2*i,2.8*h.height),n=!1,e=0;e<g.length;e++)!n&& void 0!==g[e].indexLabel&&null!==g[e].indexLabel&&0<g[e].indexLabel.toString().length&&(n=!0),!n&& void 0!==g[e].label&&null!==g[e].label&&0<g[e].label.toString().length&&(n=!0),(n||"function"!=typeof b.indexLabelFormatter)&&"function"!=typeof g[e].indexLabelFormatter||(n=!0);n=n|| void 0!==b.indexLabel&&null!==b.indexLabel&&0<b.indexLabel.toString().length,"inside"!==b.indexLabelPlacement&&n||(i=(h.width-.75*d)/2),e=h.x1+i;var H=h.x2-i,v=h.y1+B,_=h.y2-B,q=c.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=b.length&&b.dataPoints&&b.visible&&0!==g.length){var l,a,V,I,W=30*(H-(c=75*d/100))/100;"funnel"===b.type?(l=null==b.options.neckHeight?.35*u:b.neckHeight,I=b.options.neckWidth,a=null==I?.25*c:b.neckWidth,l="string"==typeof l&&l.match(/%$/)?(l=parseInt(l))*u/100:parseInt(l),a="string"==typeof a&&a.match(/%$/)?(a=parseInt(a))*c/100:parseInt(a),l>u?l=u:0>=l&&(l=0),a>c?a=c-.5:0>=a&&(a=0)):"pyramid"===b.type&&(a=l=0,b.reversed=!b.reversed),i=e+c/2;var C=e,K=e+c,r=b.reversed?_:v,w=i-a/2,D=i+a/2,s=b.reversed?v+l:_-l,X=b.reversed?v:_;c=[],i=[];var E,m=[],p=(d=[],v),t=(s-r)/(w-C),x=-t;if(-1!==(e="area"===(b.valueRepresents?b.valueRepresents:"height")?function(){var a,i,e=C,f=K,m=w,j=D;a=v,j=Math.abs(((i=_-l)-a)*(f-e+(j-m))/2),a=i-a,i=(m=D-w)*(i-_),i=j+(i=Math.abs(i)),j=[];for(var n=0,b=0;b<g.length;b++){if(void 0===g[b].y)return -1;g[b].y="number"==typeof g[b].y?g[b].y:0,n+=Math.abs(g[b].y)}if(0===n)return -1;var h,c,k=j[0]=0,d=0;for(f-=e,k=!1,b=0;b<g.length;b++)e=Math.abs(g[b].y)*i/n,k?h=0==Number(m.toFixed(3))?0:e/m:0>(c=t*t*f*f-4*Math.abs(t)*e)?(e-=k=(f+(c=m))*(a-d)/2,h=a-d,d+=a-d,h+=0==c?0:e/c,d+=e/c,k=!0):(c=f-2*(h=(Math.abs(t)*f-Math.sqrt(c))/2)/Math.abs(t),(d+=h)>a&&(k=(f+(c=m))*(a-(d-=h))/2,h=a-d,d+=a-d,h+=(e-=k)/c,d+=e/c,k=!0),f=c),j.push(h);return j}():function(){for(var b=0,c=[],a=0;a<g.length;a++){if(void 0===g[a].y)return -1;g[a].y="number"==typeof g[a].y?g[a].y:0,b+=Math.abs(g[a].y)}if(0===b)return -1;for(a=c[0]=0;a<g.length;a++)c.push(Math.abs(g[a].y)*u/b);return c}())){if(b.reversed)for(d.push(p),a=e.length-1;0<a;a--)p+=e[a],d.push(p);else for(a=0;a<e.length;a++)p+=e[a],d.push(p);if(b.reversed)for(a=0;a<e.length;a++)d[a]<s?(c.push(w),i.push(D),E=a):(c.push((d[a]-r+t*C)/t),i.push((d[a]-r+x*K)/x));else for(a=0;a<e.length;a++)d[a]<s?(c.push((d[a]-r+t*C)/t),i.push((d[a]-r+x*K)/x),E=a):(c.push(w),i.push(D));for(a=0;a<e.length-1;a++)p=b.reversed?g[g.length-1-a].color?g[g.length-1-a].color:b._colorSet[(g.length-1-a)%b._colorSet.length]:g[a].color?g[a].color:b._colorSet[a%b._colorSet.length],a===E?m.push({x1:c[a],y1:d[a],x2:i[a],y2:d[a],x3:D,y3:s,x4:i[a+1],y4:d[a+1],x5:c[a+1],y5:d[a+1],x6:w,y6:s,id:a,height:d[a+1]-d[a],color:p}):m.push({x1:c[a],y1:d[a],x2:i[a],y2:d[a],x3:i[a+1],y3:d[a+1],x4:c[a+1],y4:d[a+1],id:a,height:d[a+1]-d[a],color:p});var Y=2,y=[],Z=!1,F=[],$=[];for(e=!1,c=c=0,N(F),a=0;a<g.length;a++)g[a].exploded&&(e=!0,b.reversed?F.push(g.length-1-a):F.push(a));if(q.clearRect(h.x1,h.y1,h.width,h.height),q.fillStyle=o.backgroundColor,q.fillRect(h.x1,h.y1,h.width,h.height),n&&b.visible&&(function(){if(b&&g){for(var t,j,c,d,u,v,l,w,x,z,n,A,B,e,C,h,i=[],p=[],r={percent:null,total:null},s=null,a=0;a<g.length;a++)h=U(h=void 0!==(h=m[a]).x5?(h.y2+h.y4)/2:(h.y2+h.y3)/2).x2+1,i[a]=H-h-W;h=.5*W,a=0;for(var _=g.length-1;a<g.length||0<=_;a++,_--)j=(c=b.reversed?g[_]:g[a]).color?c.color:b.reversed?b._colorSet[(g.length-1-a)%b._colorSet.length]:b._colorSet[a%b._colorSet.length],d=c.indexLabelPlacement||b.indexLabelPlacement||"outside",C=c.indexLabelTextAlign||b.indexLabelTextAlign||"left",u=c.indexLabelBackgroundColor||b.indexLabelBackgroundColor||(f?"transparent":null),v=c.indexLabelFontColor||b.indexLabelFontColor||"#979797",t=c.indexLabelFontSize,l=null==t?b.indexLabelFontSize:c.indexLabelFontSize,w=c.indexLabelFontStyle||b.indexLabelFontStyle||"normal",x=c.indexLabelFontFamily||b.indexLabelFontFamily||"arial",z=c.indexLabelFontWeight||b.indexLabelFontWeight||"normal",j=c.indexLabelLineColor||b.options.indexLabelLineColor||j,n="number"==typeof c.indexLabelLineThickness?c.indexLabelLineThickness:"number"==typeof b.indexLabelLineThickness?b.indexLabelLineThickness:2,A=c.indexLabelLineDashType||b.indexLabelLineDashType||"solid",B=void 0!==c.indexLabelWrap?c.indexLabelWrap:void 0===b.indexLabelWrap||b.indexLabelWrap,e=b.dataPointIds[a],o._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataPointIndex:a,dataSeriesIndex:0,funnelSection:m[b.reversed?g.length-1-a:a]},"inside"===b.indexLabelPlacement&&(i[a]=a!==E?b.reversed?m[a].x2-m[a].x1:m[a].x3-m[a].x4:m[a].x3-m[a].x6,20>i[a]&&(i[a]=a!==E&&b.reversed?m[a].x3-m[a].x4:m[a].x2-m[a].x1,i[a]/=2)),((e=c.indexLabelMaxWidth?c.indexLabelMaxWidth:b.options.indexLabelMaxWidth?b.indexLabelMaxWidth:i[a])>i[a]||0>e)&&(e=i[a]),p[a]="inside"===b.indexLabelPlacement&&m[a].height,r=o.getPercentAndTotal(b,c),(b.indexLabelFormatter||c.indexLabelFormatter)&&(s={chart:o.options,dataSeries:b,dataPoint:c,total:r.total,percent:r.percent}),c=c.indexLabelFormatter?c.indexLabelFormatter(s):c.indexLabel?o.replaceKeywordsWithValue(c.indexLabel,c,b,a):b.indexLabelFormatter?b.indexLabelFormatter(s):b.indexLabel?o.replaceKeywordsWithValue(b.indexLabel,c,b,a):c.label?c.label:"",0>=n&&(n=0),1e3>e&&1e3-e<h&&(e+=1e3-e),q.roundRect||J(q),(d=new k(q,{fontSize:l,fontFamily:x,fontColor:v,fontStyle:w,fontWeight:z,horizontalAlign:d,textAlign:C,backgroundColor:u,maxWidth:e,maxHeight:!1===p[a]?B?4.28571429*l:1.5*l:p[a],text:c,padding:Y})).measureText(),y.push({textBlock:d,id:b.reversed?_:a,isDirty:!1,lineColor:j,lineThickness:n,lineDashType:A,height:d.height<d.maxHeight?d.height:d.maxHeight,width:d.width<d.maxWidth?d.width:d.maxWidth})}}(),L(),function(){var d,i,c,j,f,h=[];f=!1,c=0;for(var k,e=H-K-W/2,a=(e=b.options.indexLabelMaxWidth?b.indexLabelMaxWidth>e?e:b.indexLabelMaxWidth:e,y.length-1);0<=a;a--)k=g[y[a].id],j=(c=y[a]).textBlock,i=(d=T(a)<m.length?y[T(a)]:null)?d.textBlock:null,c=c.height,d&&j.y+c+Y>i.y&&(f=!0),((c=k.indexLabelMaxWidth||e)>e||0>c)&&(c=e),h.push(c);if(f)for(a=y.length-1;0<=a;a--)d=m[a],y[a].textBlock.maxWidth=h[h.length-(a+1)],y[a].textBlock.measureText(),y[a].textBlock.x=H-e,c=y[a].textBlock.height<y[a].textBlock.maxHeight?y[a].textBlock.height:y[a].textBlock.maxHeight,f=y[a].textBlock.width<y[a].textBlock.maxWidth?y[a].textBlock.width:y[a].textBlock.maxWidth,y[a].height=c,y[a].width=f,c=void 0!==d.x5?(d.y2+d.y4)/2:(d.y2+d.y3)/2,y[a].textBlock.y=c-y[a].height/2,b.reversed?(y[a].textBlock.y+y[a].height>r+B&&(y[a].textBlock.y=r+B-y[a].height),y[a].textBlock.y<X-B&&(y[a].textBlock.y=X-B)):(y[a].textBlock.y<r-B&&(y[a].textBlock.y=r-B),y[a].textBlock.y+y[a].height>X+B&&(y[a].textBlock.y=X+B-y[a].height))}(),"inside"!==b.indexLabelPlacement)){for(function(){function h(c,b){if(0>c||c>=y.length)return 0;var a,e,d=y[c].textBlock;return 0>b?(b*=-1,(a=R(e=S(c),c))>=b?(d.y-=b,b):0==c?(0<a&&(d.y-=a),a):(0<(a+=h(e,-(b-a)))&&(d.y-=a),a)):(a=R(c,e=T(c)))>=b?(d.y+=b,b):c==m.length-1?(0<a&&(d.y+=a),a):(0<(a+=h(e,b-a))&&(d.y+=a),a)}function j(){var f,g,a,c,e,h=0;c=(_-v+2*B)/k,e=k;for(var d,i=1;i<e;i++){a=i*c;for(var b=y.length-1;0<=b;b--)!y[b].isDirty&&y[b].textBlock.y<a&&y[b].textBlock.y+y[b].height>a&&!((d=T(b))>=y.length-1)&&y[b].textBlock.y+y[b].height+Y>y[d].textBlock.y&&(y[b].textBlock.y=y[b].textBlock.y+y[b].height-a>a-y[b].textBlock.y?a+1:a-y[b].height-1)}for(d=m.length-1;0<d;d--)if(!y[d].isDirty){if(0>(a=S(d))&&y[a=0].isDirty)break;if(y[d].textBlock.y<y[a].textBlock.y+y[a].height){for(g=g||d,c=d,e=0;y[c].textBlock.y<y[a].textBlock.y+y[a].height+Y;)if(f=f||y[c].textBlock.y+y[c].height,e+=y[c].height,e+=Y,0>=(c=a)||0>(a=S(c))){e+=y[c=0].height;break}if(c!=d){h=l(f=e-(f-=h=y[c].textBlock.y),g,c);break}}}return h}function l(d,a,b){var c=[],e=0,f=0;for(d=Math.abs(d);b<=a;b++)c.push(m[b]);for(c.sort(function(a,b){return a.height-b.height}),b=0;b<c.length&&(a=c[b],e<d);b++)f++,e+=y[a.id].height+Y,y[a.id].textBlock.text="",y[a.id].indexLabelText="",y[a.id].isDirty=!0,y[a.id].textBlock.measureText();return f}for(var b,c,d,e,f,g,k=1,i=0;i<2*k;i++){for(var a=y.length-1;0<=a&&(0<=S(a)&&S(a),e=(d=y[a]).textBlock,g=(f=T(a)<m.length?y[T(a)]:null)?f.textBlock:null,b=+d.height.toFixed(6),c=+e.y.toFixed(6),!(!d.isDirty&&f&&c+b+Y> +g.y.toFixed(6)&&(c=h(a,-(b=e.y+b+Y-g.y)))<b&&(0<c&&(b-=c),(c=h(T(a),b))!=b)));a--);j()}}(),a=0;a<g.length;a++)y[a].isDirty||(c=(H-(c=y[a].textBlock.x+y[a].width))/2,0==a&&(j=c),j>c&&(j=c));for(a=0;a<m.length;a++)m[a].x1+=j,m[a].x2+=j,m[a].x3+=j,m[a].x4+=j,m[a].x5&&(m[a].x5+=j,m[a].x6+=j),y[a].textBlock.x+=j}for(a=0;a<m.length;a++)z(q,j=m[a],b.fillOpacity),$.push(j.y1);if(Q(q),n&&b.visible&&("inside"===b.indexLabelPlacement||o.animationEnabled||M(q),o.animationEnabled||O()),!n)for(a=0;a<g.length;a++)c={id:j=b.dataPointIds[a],objectType:"dataPoint",dataPointIndex:a,dataSeriesIndex:0,funnelSection:m[b.reversed?g.length-1-a:a]},o._eventManager.objectMap[j]=c;return!o.animationEnabled&&e?G(o,-1,0):o.animationEnabled&&!o.animatedRender&&G(o,-1,0),this.funnelPyramidClickHandler=function(a){var d,c=-1;!Z&&!o.isAnimating&&(null==a.dataSeries.explodeOnClick||a.dataSeries.explodeOnClick)&&0<=(c=b.reversed?g.length-1-a.dataPointIndex:a.dataPointIndex)&&(a=c,"funnel"!==b.type&&"pyramid"!==b.type||(b.reversed?g[g.length-1-a].exploded=!g[g.length-1-a].exploded:g[a].exploded=!g[a].exploded),G(o,c,500))},{source:q,dest:this.plotArea.ctx,animationCallback:function(a,b){A.fadeInAnimation(a,b),1<=a&&(G(o,-1,500),Q(o.plotArea.ctx||o.ctx))},easingFunction:A.easing.easeInQuad,animationBase:0}}}}},a.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},a.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,a.prototype.set=function(c,d,b){b=void 0===b||b,"options"===c?(this.options=d,b&&this.render()):a.base.set.call(this,c,d,b)},a.prototype.exportChart=function(a){var b=(a=void 0===a?{}:a).format?a.format:"png",d=a.fileName?a.fileName:this.exportFileName;if(a.toDataURL)return this.canvas.toDataURL("image/"+b);if((h=this.canvas)&&b&&d){d=d+"."+b,a="image/"+b;var h=h.toDataURL(a),i=!1,c=document.createElement("a");if(c.download=d,c.href=h,"undefined"!=typeof Blob&&new Blob){for(var e=h.replace(/^data:[a-z\/]*;base64,/,""),f=(e=atob(e),new ArrayBuffer(e.length)),g=(f=new Uint8Array(f),0);g<e.length;g++)f[g]=e.charCodeAt(g);console.log(f[g]),b=new Blob([f.buffer],{type:"image/"+b});try{window.navigator.msSaveBlob(b,d),i=!0}catch(j){c.dataset.downloadurl=[a,c.download,c.href].join(":"),c.href=window.URL.createObjectURL(b)}}if(!i)try{(event=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent?c.dispatchEvent(event):c.fireEvent&&c.fireEvent("onclick")}catch(k){(b=window.open()).document.write("<img src='"+h+"'></img><div>Please right click on the image and save it to your device</div>"),b.document.close()}}},a.prototype.getPercentAndTotal=function(b,c){var a=null,d=null,e=a=null;if(0<=b.type.indexOf("stacked"))d=0,(a=c.x.getTime?c.x.getTime():c.x)in b.plotUnit.yTotals&&(d=b.plotUnit.yTotals[a],a=b.plotUnit.yAbsTotals[a],e=isNaN(c.y)?0:0===a?0:c.y/a*100);else if("pie"===b.type||"doughnut"===b.type||"funnel"===b.type||"pyramid"===b.type){for(a=d=0;a<b.dataPoints.length;a++)isNaN(b.dataPoints[a].y)||(d+=b.dataPoints[a].y);e=isNaN(c.y)?0:c.y/d*100}return{percent:e,total:d}},a.prototype.replaceKeywordsWithValue=function(c,j,a,k,f){var h=this;if(f=void 0===f?0:f,(0<=a.type.indexOf("stacked")||"pie"===a.type||"doughnut"===a.type||"funnel"===a.type||"pyramid"===a.type)&&(0<=c.indexOf("#percent")||0<=c.indexOf("#total"))){var d="#percent",g="#total",b=this.getPercentAndTotal(a,j);g=isNaN(b.total)?g:b.total,d=isNaN(b.percent)?d:b.percent;do{if(b="",a.percentFormatString)b=a.percentFormatString;else{b="#,##0.";var e=Math.max(Math.ceil(Math.log(1/Math.abs(d))/Math.LN10),2);!isNaN(e)&&isFinite(e)||(e=2);for(var i=0;i<e;i++)b+="#";a.percentFormatString=b}c=(c=c.replace("#percent",an(d,b,h._cultureInfo))).replace("#total",an(g,a.yValueFormatString?a.yValueFormatString:"#,##0.########",h._cultureInfo))}while(0<=c.indexOf("#percent")||0<=c.indexOf("#total"))}return c.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(b){if('"'===b[0]&&'"'===b[b.length-1]||"'"===b[0]&&"'"===b[b.length-1])return b.slice(1,b.length-1);b=(b=I(b.slice(1,b.length-1))).replace("#index",f);var d=null;try{var c=b.match(/(.*?)\s*\[\s*(.*?)\s*\]/);c&&0<c.length&&(d=I(c[2]),b=I(c[1]))}catch(e){}if(c=null,"color"===b)return"waterfall"===a.type?j.color?j.color:0<j.y?a.risingColor:a.fallingColor:"error"===a.type?a.color?a.color:a._colorSet[d%a._colorSet.length]:j.color?j.color:a.color?a.color:a._colorSet[k%a._colorSet.length];if(j.hasOwnProperty(b))c=j;else{if(!a.hasOwnProperty(b))return"";c=a}return c=c[b],null!==d&&(c=c[d]),"x"!==b?"y"===b?an(c,j.yValueFormatString?j.yValueFormatString:a.yValueFormatString?a.yValueFormatString:a.yValueFormatString="#,##0.########",h._cultureInfo):"z"===b?an(c,j.zValueFormatString?j.zValueFormatString:a.zValueFormatString?a.zValueFormatString:a.zValueFormatString="#,##0.########",h._cultureInfo):c:a.axisX&&"dateTime"===a.axisX.valueType||"dateTime"===a.xValueType||j.x&&j.x.getTime?a.axisX.logarithmic?void 0:am(c,j.xValueFormatString?j.xValueFormatString:a.xValueFormatString?a.xValueFormatString:a.xValueFormatString=h.axisX&&h.axisX.autoValueFormatString?h.axisX.autoValueFormatString:"DD MMM YY",h._cultureInfo):an(c,j.xValueFormatString?j.xValueFormatString:a.xValueFormatString?a.xValueFormatString:a.xValueFormatString="#,##0.########",h._cultureInfo)})},m(i,d),i.prototype.setLayout=function(){var w,v=this.dockInsidePlotArea?this.chart.plotArea:this.chart,d=v.layoutManager.getFreeSpace(),t=null,r=0,s=0,l=0,m=0,p=this.markerMargin=this.chart.options.legend&&null!=this.chart.options.legend.markerMargin?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var j=[],q=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",t=this.verticalAlign,l=this.maxWidth=null!==this.maxWidth?this.maxWidth:d.width,m=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*d.height):"center"===this.verticalAlign&&(this.orientation="vertical","left"!==this.horizontalAlign&&"center"!==this.horizontalAlign&&"right"!==this.horizontalAlign||(t=this.horizontalAlign),l=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*d.width,m=this.maxHeight=null!==this.maxHeight?this.maxHeight:d.height),this.errorMarkerColor=[];for(var f=0;f<this.dataSeries.length;f++){var a=this.dataSeries[f];if(a.dataPoints&&a.dataPoints.length){if("pie"!==a.type&&"doughnut"!==a.type&&"funnel"!==a.type&&"pyramid"!==a.type){var x,b=a.legendMarkerType=a.legendMarkerType?a.legendMarkerType:("line"===a.type||"stepLine"===a.type||"spline"===a.type||"scatter"===a.type||"bubble"===a.type)&&a.markerType?a.markerType:"error"===a.type&&a._linkedSeries?a._linkedSeries.legendMarkerType?a._linkedSeries.legendMarkerType:e.getDefaultLegendMarker(a._linkedSeries.type):e.getDefaultLegendMarker(a.type),h=a.legendText?a.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:a,dataPoint:null}):a.name,o=a.legendMarkerColor=a.legendMarkerColor?a.legendMarkerColor:a.markerColor?a.markerColor:"error"===a.type?null==a.whiskerColor?a._colorSet[0]:a.whiskerColor:a._colorSet[0],g=a.markerSize||"line"!==a.type&&"stepLine"!==a.type&&"spline"!==a.type?.75*this.lineHeight:0,n=a.legendMarkerBorderColor?a.legendMarkerBorderColor:a.markerBorderColor,u=a.legendMarkerBorderThickness?a.legendMarkerBorderThickness:a.markerBorderThickness?Math.max(1,Math.round(.2*g)):0;"error"===a.type&&this.errorMarkerColor.push(o),b={markerType:b,markerColor:o,text:h=this.chart.replaceKeywordsWithValue(h,a.dataPoints[0],a,f),textBlock:null,chartType:a.type,markerSize:g,lineColor:a._colorSet[0],dataSeriesIndex:a.index,dataPointIndex:null,markerBorderColor:n,markerBorderThickness:u},j.push(b)}else for(var i=0;i<a.dataPoints.length;i++){var c=a.dataPoints[i];b=c.legendMarkerType?c.legendMarkerType:a.legendMarkerType?a.legendMarkerType:e.getDefaultLegendMarker(a.type),h=c.legendText?c.legendText:a.legendText?a.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:a,dataPoint:c}):c.name?c.name:"DataPoint: "+(i+1),o=c.legendMarkerColor?c.legendMarkerColor:a.legendMarkerColor?a.legendMarkerColor:c.color?c.color:a.color?a.color:a._colorSet[i%a._colorSet.length],g=.75*this.lineHeight,n=c.legendMarkerBorderColor?c.legendMarkerBorderColor:a.legendMarkerBorderColor?a.legendMarkerBorderColor:c.markerBorderColor?c.markerBorderColor:a.markerBorderColor,u=c.legendMarkerBorderThickness?c.legendMarkerBorderThickness:a.legendMarkerBorderThickness?a.legendMarkerBorderThickness:c.markerBorderThickness||a.markerBorderThickness?Math.max(1,Math.round(.2*g)):0,b={markerType:b,markerColor:o,text:h=this.chart.replaceKeywordsWithValue(h,c,a,i),textBlock:null,chartType:a.type,markerSize:g,dataSeriesIndex:f,dataPointIndex:i,markerBorderColor:n,markerBorderThickness:u},(c.showInLegend||a.showInLegend&& !1!==c.showInLegend)&&j.push(b)}}}if(!0===this.reversed&&j.reverse(),0<j.length){for(a=null,o=h=c=i=0,c=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,l):this.itemMaxWidth=Math.min(this.itemWidth,l):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,l):this.itemMaxWidth=l,c-=(g=0===g?.75*this.lineHeight:g)+p,f=0;f<j.length;f++)n=c,"line"!==(b=j[f]).chartType&&"spline"!==b.chartType&&"stepLine"!==b.chartType||(n-=.2*this.lineHeight),0>=m|| void 0===m||0>=n|| void 0===n||("horizontal"===this.orientation?(b.textBlock=new k(this.ctx,{x:0,y:0,maxWidth:n,maxHeight:this.itemWrap?m:this.lineHeight,angle:0,text:b.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),b.textBlock.measureText(),null!==this.itemWidth&&(b.textBlock.width=this.itemWidth-(g+p+("line"===b.chartType||"spline"===b.chartType||"stepLine"===b.chartType?.2*this.lineHeight:0))),(!a||a.width+Math.round(b.textBlock.width+g+p+(0===a.width?0:this.horizontalSpacing)+("line"===b.chartType||"spline"===b.chartType||"stepLine"===b.chartType?.2*this.lineHeight:0))>l)&&(a={items:[],width:0},q.push(a),this.height+=h,h=0),h=Math.max(h,b.textBlock.height)):(b.textBlock=new k(this.ctx,{x:0,y:0,maxWidth:c,maxHeight:!0===this.itemWrap?m:1.5*this.fontSize,angle:0,text:b.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),b.textBlock.measureText(),null!==this.itemWidth&&(b.textBlock.width=this.itemWidth-(g+p+("line"===b.chartType||"spline"===b.chartType||"stepLine"===b.chartType?.2*this.lineHeight:0))),this.height<m-this.lineHeight?(a={items:[],width:0},q.push(a)):(a=q[i],i=(i+1)%q.length),this.height+=b.textBlock.height),b.textBlock.x=a.width,b.textBlock.y=0,a.width+=Math.round(b.textBlock.width+g+p+(0===a.width?0:this.horizontalSpacing)+("line"===b.chartType||"spline"===b.chartType||"stepLine"===b.chartType?.2*this.lineHeight:0)),a.items.push(b),this.width=Math.max(a.width,this.width),o=b.textBlock.width+(g+p+("line"===b.chartType||"spline"===b.chartType||"stepLine"===b.chartType?.2*this.lineHeight:0)));this.itemWidth=o,this.height=!1===this.itemWrap?q.length*this.lineHeight:this.height+h,this.height=Math.min(m,this.height),this.width=Math.min(l,this.width)}for("top"===this.verticalAlign?(s="left"===this.horizontalAlign?d.x1:"right"===this.horizontalAlign?d.x2-this.width:d.x1+d.width/2-this.width/2,r=d.y1):"center"===this.verticalAlign?(s="left"===this.horizontalAlign?d.x1:"right"===this.horizontalAlign?d.x2-this.width:d.x1+d.width/2-this.width/2,r=d.y1+d.height/2-this.height/2):"bottom"===this.verticalAlign&&(s="left"===this.horizontalAlign?d.x1:"right"===this.horizontalAlign?d.x2-this.width:d.x1+d.width/2-this.width/2,r=d.y2-this.height),this.items=j,f=0;f<this.items.length;f++)(b=j[f]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[b.id]={id:b.id,objectType:"legendItem",legendItemIndex:f,dataSeriesIndex:b.dataSeriesIndex,dataPointIndex:b.dataPointIndex};this.markerSize=g,this.rows=q,0<j.length&&v.layoutManager.registerSpace(t,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:s,y1:r,x2:s+this.width,y2:r+this.height}},i.prototype.render=function(){var j=this.bounds.x1,k=this.bounds.y1,s=this.markerMargin,t=this.maxWidth,o=this.maxHeight,h=this.markerSize,p=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(j,k,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var q=0,l=0;l<p.length;l++){for(var r=p[l],m=0,e=0;e<r.items.length;e++){var a=r.items[e],b=a.textBlock.x+j+(0===e?.2*h:this.horizontalSpacing),f=k+q,i=b;if(this.chart.data[a.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(j,k,t,Math.max(o-o%this.lineHeight,0)),this.ctx.clip(),"line"!==a.chartType&&"stepLine"!==a.chartType&&"spline"!==a.chartType||(this.ctx.strokeStyle=a.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(b-.1*this.lineHeight,f+this.lineHeight/2),this.ctx.lineTo(b+.85*this.lineHeight,f+this.lineHeight/2),this.ctx.stroke(),i-=.1*this.lineHeight),"error"===a.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=h/8,this.ctx.beginPath();var c=b-.08*this.lineHeight+.1*this.lineHeight,d=f+.15*this.lineHeight,g=.7*this.lineHeight,n=g+.02*this.lineHeight;this.ctx.moveTo(c,d),this.ctx.lineTo(c+g,d),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(c+g/2,d),this.ctx.lineTo(c+g/2,d+n),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(c,d+n),this.ctx.lineTo(c+g,d+n),this.ctx.stroke(),this.errorMarkerColor.shift()}$.drawMarker(b+h/2,f+this.lineHeight/2,this.ctx,a.markerType,"error"===a.chartType||"line"===a.chartType||"spline"===a.chartType?a.markerSize/2:a.markerSize,a.markerColor,a.markerBorderColor,a.markerBorderThickness),a.textBlock.x=b+s+h,"line"!==a.chartType&&"stepLine"!==a.chartType&&"spline"!==a.chartType||(a.textBlock.x+=.1*this.lineHeight),a.textBlock.y=Math.round(f+this.lineHeight/2),a.textBlock.render(!0),this.ctx.restore(),m=0<e?Math.max(m,a.textBlock.height):a.textBlock.height,this.chart.data[a.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),b=L(a.id),this.ghostCtx.fillStyle=b,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(i,a.textBlock.y-this.lineHeight/2,a.textBlock.x+a.textBlock.width-i,a.textBlock.height),a.x1=this.chart._eventManager.objectMap[a.id].x1=i,a.y1=this.chart._eventManager.objectMap[a.id].y1=a.textBlock.y-this.lineHeight/2,a.x2=this.chart._eventManager.objectMap[a.id].x2=a.textBlock.x+a.textBlock.width,a.y2=this.chart._eventManager.objectMap[a.id].y2=a.textBlock.y+a.textBlock.height-this.lineHeight/2}q+=m}},m(e,d),e.prototype.getDefaultAxisPlacement=function(){var a=this.type;return"column"===a||"line"===a||"stepLine"===a||"spline"===a||"area"===a||"stepArea"===a||"splineArea"===a||"stackedColumn"===a||"stackedLine"===a||"bubble"===a||"scatter"===a||"stackedArea"===a||"stackedColumn100"===a||"stackedLine100"===a||"stackedArea100"===a||"candlestick"===a||"ohlc"===a||"rangeColumn"===a||"rangeArea"===a||"rangeSplineArea"===a||"boxAndWhisker"===a||"waterfall"===a?"normal":"bar"===a||"stackedBar"===a||"stackedBar100"===a||"rangeBar"===a?"xySwapped":"pie"===a||"doughnut"===a||"funnel"===a||"pyramid"===a?"none":("error"!==a&&window.console.log("Unknown Chart Type: "+a),null)},e.getDefaultLegendMarker=function(a){return"column"===a||"stackedColumn"===a||"stackedLine"===a||"bar"===a||"stackedBar"===a||"stackedBar100"===a||"bubble"===a||"scatter"===a||"stackedColumn100"===a||"stackedLine100"===a||"stepArea"===a||"candlestick"===a||"ohlc"===a||"rangeColumn"===a||"rangeBar"===a||"rangeArea"===a||"rangeSplineArea"===a||"boxAndWhisker"===a||"waterfall"===a?"square":"line"===a||"stepLine"===a||"spline"===a||"pie"===a||"doughnut"===a?"circle":"area"===a||"splineArea"===a||"stackedArea"===a||"stackedArea100"===a||"funnel"===a||"pyramid"===a?"triangle":"error"===a?"none":(window.console.log("Unknown Chart Type: "+a),null)},e.prototype.getDataPointAtX=function(b,i){if(!this.dataPoints||0===this.dataPoints.length)return null;var a={dataPoint:null,distance:1/0,index:NaN},d=null,e=0,g=0,f=1,j=1/0,k=0,l=0,c=0;for("none"!==this.chart.plotInfo.axisPlacement&&(c=this.axisX.logarithmic?1<(c=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/c*Math.log(b/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(c=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/c*(b-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(g=0<f?c+e:c-e)&&g<this.dataPoints.length){d=this.dataPoints[g];var h=this.axisX.logarithmic?d.x>b?d.x/b:b/d.x:Math.abs(d.x-b);if(h<a.distance&&(a.dataPoint=d,a.distance=h,a.index=g),(d=h)<=j?j=d:0<f?k++:l++,1e3<k&&1e3<l)break}else if(0>c-e&&c+e>=this.dataPoints.length)break;-1===f?(e++,f=1):f=-1}return i||(a.dataPoint.x.getTime?a.dataPoint.x.getTime():a.dataPoint.x)!==(b.getTime?b.getTime():b)?i&&null!==a.dataPoint?a:null:a},e.prototype.getDataPointAtXY=function(d,c,n){if(!this.dataPoints||0===this.dataPoints.length||d<this.chart.plotArea.x1||d>this.chart.plotArea.x2||c<this.chart.plotArea.y1||c>this.chart.plotArea.y2)return null;n=n||!1;var g=[],m=0,e=0,l=1,i=!1,o=1/0,p=0,q=0,k=0;for("none"!==this.chart.plotInfo.axisPlacement&&(k=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:d,y:c}),k=this.axisX.logarithmic?1<(a=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/a*Math.log(k/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(a=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/a*(k-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(e=0<l?k+m:k-m)&&e<this.dataPoints.length){var a=this.chart._eventManager.objectMap[this.dataPointIds[e]],h=this.dataPoints[e],b=null;if(a){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":d>=a.x1&&d<=a.x2&&c>=a.y1&&c<=a.y2&&(g.push({dataPoint:h,dataPointIndex:e,dataSeries:this,distance:Math.min(Math.abs(a.x1-d),Math.abs(a.x2-d),Math.abs(a.y1-c),Math.abs(a.y2-c))}),i=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var f=S("markerSize",h,this)||4,j=n?20:f;(b=Math.sqrt(Math.pow(a.x1-d,2)+Math.pow(a.y1-c,2)))<=j&&g.push({dataPoint:h,dataPointIndex:e,dataSeries:this,distance:b}),(a=Math.abs(a.x1-d))<=o?o=a:0<l?p++:q++,b<=f/2&&(i=!0);break;case"rangeArea":case"rangeSplineArea":f=S("markerSize",h,this)||4,j=n?20:f,(b=Math.min(Math.sqrt(Math.pow(a.x1-d,2)+Math.pow(a.y1-c,2)),Math.sqrt(Math.pow(a.x1-d,2)+Math.pow(a.y2-c,2))))<=j&&g.push({dataPoint:h,dataPointIndex:e,dataSeries:this,distance:b}),(a=Math.abs(a.x1-d))<=o?o=a:0<l?p++:q++,b<=f/2&&(i=!0);break;case"bubble":f=a.size,(b=Math.sqrt(Math.pow(a.x1-d,2)+Math.pow(a.y1-c,2)))<=f/2&&(g.push({dataPoint:h,dataPointIndex:e,dataSeries:this,distance:b}),i=!0);break;case"pie":case"doughnut":f=a.center,j="doughnut"===this.type?a.percentInnerRadius*a.radius:0,(b=Math.sqrt(Math.pow(f.x-d,2)+Math.pow(f.y-c,2)))<a.radius&&b>j&&(0>(b=Math.atan2(c-f.y,d-f.x))&&(b+=2*Math.PI),b=Number(((b/Math.PI*180%360+360)%360).toFixed(12)),f=Number(((a.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(j=Number(((a.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<a.endAngle&&(j=360),f>=j&&0!==h.y&&(j+=360,b<f&&(b+=360)),b>f&&b<j&&(g.push({dataPoint:h,dataPointIndex:e,dataSeries:this,distance:0}),i=!0));break;case"funnel":case"pyramid":c>(b=a.funnelSection).y1&&c<b.y4&&(b.y6?c>b.y6?(e=b.x6+(b.x5-b.x6)/(b.y5-b.y6)*(c-b.y6),b=b.x3+(b.x4-b.x3)/(b.y4-b.y3)*(c-b.y3)):(e=b.x1+(b.x6-b.x1)/(b.y6-b.y1)*(c-b.y1),b=b.x2+(b.x3-b.x2)/(b.y3-b.y2)*(c-b.y2)):(e=b.x1+(b.x4-b.x1)/(b.y4-b.y1)*(c-b.y1),b=b.x2+(b.x3-b.x2)/(b.y3-b.y2)*(c-b.y2)),d>e&&d<b&&(g.push({dataPoint:h,dataPointIndex:a.dataPointIndex,dataSeries:this,distance:0}),i=!0));break;case"boxAndWhisker":(d>=a.x1-a.borderThickness/2&&d<=a.x2+a.borderThickness/2&&c>=a.y4-a.borderThickness/2&&c<=a.y1+a.borderThickness/2||Math.abs(a.x2-d+a.x1-d)<a.borderThickness&&c>=a.y1&&c<=a.y4)&&(g.push({dataPoint:h,dataPointIndex:e,dataSeries:this,distance:Math.min(Math.abs(a.x1-d),Math.abs(a.x2-d),Math.abs(a.y2-c),Math.abs(a.y3-c))}),i=!0);break;case"candlestick":(d>=a.x1-a.borderThickness/2&&d<=a.x2+a.borderThickness/2&&c>=a.y2-a.borderThickness/2&&c<=a.y3+a.borderThickness/2||Math.abs(a.x2-d+a.x1-d)<a.borderThickness&&c>=a.y1&&c<=a.y4)&&(g.push({dataPoint:h,dataPointIndex:e,dataSeries:this,distance:Math.min(Math.abs(a.x1-d),Math.abs(a.x2-d),Math.abs(a.y2-c),Math.abs(a.y3-c))}),i=!0);break;case"ohlc":(Math.abs(a.x2-d+a.x1-d)<a.borderThickness&&c>=a.y2&&c<=a.y3||d>=a.x1&&d<=(a.x2+a.x1)/2&&c>=a.y1-a.borderThickness/2&&c<=a.y1+a.borderThickness/2||d>=(a.x1+a.x2)/2&&d<=a.x2&&c>=a.y4-a.borderThickness/2&&c<=a.y4+a.borderThickness/2)&&(g.push({dataPoint:h,dataPointIndex:e,dataSeries:this,distance:Math.min(Math.abs(a.x1-d),Math.abs(a.x2-d),Math.abs(a.y2-c),Math.abs(a.y3-c))}),i=!0)}if(i||1e3<p&&1e3<q)break}}else if(0>k-m&&k+m>=this.dataPoints.length)break;-1===l?(m++,l=1):l=-1}for(d=null,c=0;c<g.length;c++)d?g[c].distance<=d.distance&&(d=g[c]):d=g[c];return d},e.prototype.getMarkerProperties=function(a,c,d,e){var b=this.dataPoints;return{x:c,y:d,ctx:e,type:b[a].markerType?b[a].markerType:this.markerType,size:b[a].markerSize?b[a].markerSize:this.markerSize,color:b[a].markerColor?b[a].markerColor:this.markerColor?this.markerColor:b[a].color?b[a].color:this.color?this.color:this._colorSet[a%this._colorSet.length],borderColor:b[a].markerBorderColor?b[a].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:b[a].markerBorderThickness?b[a].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},m(b,d),b.prototype.createExtraLabelsForLog=function(c){if(!(5<(c=(c||0)+1))){var d=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(d/this.viewportMinimum)<this.noTicks-1){for(var e=b.getNiceNumber((d-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),a=Math.ceil(this.viewportMinimum/e)*e;a<d;a+=e)a<this.viewportMinimum||this.logLabelValues.push(a);this.logLabelValues.sort(K),this.createExtraLabelsForLog(c)}}},b.prototype.createLabels=function(){var R,S,T,U,V,W,t,X,u,Y,v,w,x,Z,aa,ab,ac,ad,y,ae,z,af,A,ah,B,ai,C,aj,D,ak,al,ao,ap,aq,ar,E,as,F,G,at,H,I,au,J,K,av,aw,ax,ay,L,az,M,aA,N,aB,O,aC,P,aD,aE,aF,aG,aH,aI,Q,aJ,n,q,b,m,o,r,h,aK,d=0,c=0,a=0,g=0,l=(c=0,c=this.interval,0),s=.6*this.chart.height;b=!1;var i=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],j=i.length?null==this.scaleBreaks.firstBreakIndex?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(o=this.viewportMaximum,this.labels){b=Math.ceil(c);var e=!1;for(d=c=Math.ceil(this.intervalStartPosition);d<this.viewportMaximum;d+=b){if(!this.labels[d]){e=!1;break}e=!0}e&&(this.interval=b,this.intervalStartPosition=c)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),c=0,e=j;c<this.logLabelValues.length;c++)if((d=this.logLabelValues[c])<this.viewportMinimum)c++;else{for(;e<i.length&&d>i[e].endValue;e++);h=d,(b=e<i.length&&d>=i[e].startValue&&d<=i[e].endValue)||(b=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:h,label:this.labels[h]?this.labels[h]:null}):"axisX"===this.type&&this.labels[h]?this.labels[h]:an(h,this.valueFormatString,this.chart._cultureInfo),b=new k(this.ctx,{x:0,y:0,maxWidth:a,maxHeight:g,angle:this.labelAngle,text:this.prefix+b+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,cornerRadius:this.labelCornerRadius,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:h,textBlock:b,effectiveHeight:null}))}for(e=j,d=this.intervalStartPosition;d<=o;d=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?d*Math.pow(this.logarithmBase,this.interval):d+this.interval:(this.logarithmic&&this.equidistantInterval?d*Math.pow(this.logarithmBase,this.interval):d+this.interval).toFixed(12))){for(;e<i.length&&d>i[e].endValue;e++);h=d,(b=e<i.length&&d>=i[e].startValue&&d<=i[e].endValue)||(b=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:h,label:this.labels[h]?this.labels[h]:null}):"axisX"===this.type&&this.labels[h]?this.labels[h]:an(h,this.valueFormatString,this.chart._cultureInfo),b=new k(this.ctx,{x:0,y:0,maxWidth:a,maxHeight:g,angle:this.labelAngle,text:this.prefix+b+this.suffix,textAlign:this.labelTextAlign,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:h,textBlock:b,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),o=e(new Date(this.viewportMaximum),this.interval,this.intervalType),e=j,d=this.intervalStartPosition;d<o;e(d,c,this.intervalType)){for(b=d.getTime();e<i.length&&b>i[e].endValue;e++);h=b,(b=e<i.length&&b>=i[e].startValue&&b<=i[e].endValue)||(b=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(h),label:this.labels[h]?this.labels[h]:null}):"axisX"===this.type&&this.labels[h]?this.labels[h]:am(h,this.valueFormatString,this.chart._cultureInfo),b=new k(this.ctx,{x:0,y:0,maxWidth:a,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:g,angle:this.labelAngle,text:this.prefix+b+this.suffix,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:h,textBlock:b,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(l=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*ag[this.intervalType+"Duration"]*this.interval,a=void 0===this.options.labelMaxWidth?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(g=void 0===this.options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):"left"!==this._position&&"right"!==this._position||(l=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*ag[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(a=void 0===this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth),g=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),c=0;c<this._labels.length;c++){(b=this._labels[c].textBlock).maxWidth=a,b.maxHeight=g;var p=b.measureText();r=p.height}if(o=[],j=i=0,this.labelAutoFit||this.options.labelAutoFit){if(null==this.labelAngle||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position){if(a=.9*l>>0,j=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,d=0;d<this._labels.length;d++)if(!this._labels[d].breaksLabelType)for(e=(b=this._labels[d].textBlock).text.split(" "),c=0;c<e.length;c++)h=e[c],this.ctx.font=b.fontStyle+" "+b.fontWeight+" "+b.fontSize+"px "+b.fontFamily,(h=this.ctx.measureText(h)).width>j&&(n=d,j=h.width);for(d=0,d=this.intervalStartPosition<this.viewportMinimum?1:0;d<this._labels.length;d++)if(!this._labels[d].breaksLabelType){for(p=(b=this._labels[d].textBlock).measureText(),e=d+1;e<this._labels.length;e++)if(!this._labels[e].breaksLabelType){m=(m=this._labels[e].textBlock).measureText();break}if(o.push(b.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,o),Math.PI,this.labelAngle,Math.PI,this.labelAngle,c=a*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(g-b.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),null==this.options.labelAngle&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle){if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?g:Math.min((c-a*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),c),h=(s-(r+b.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),null==this.options.labelWrap){if(null==this.options.labelWrap){if(null==this.options.labelMaxWidth){if(null!=m){if(c=p.width+m.width>>0,e=this.labelFontSize,j<a)c-2*a>i&&(i=c-2*a,c>=2*a&&c<2.2*a?(this.sessionVariables.labelMaxWidth=a,null==this.options.labelFontSize&&12<e&&(e=Math.floor(.9230769230769231*e),b.measureText()),t=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==t?e:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):c>=2.2*a&&c<2.8*a?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=h,this.sessionVariables.labelFontSize=e):c>=2.8*a&&c<3.2*a?(this.sessionVariables.labelMaxWidth=Math.max(a,j),this.sessionVariables.labelWrap=!0,null==this.options.labelFontSize&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(.9230769230769231*this.labelFontSize),b.measureText()),u=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==u?e:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):c>=3.2*a&&c<3.6*a?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=h,this.sessionVariables.labelFontSize=this.labelFontSize):c>3.6*a&&c<5*a?(null==this.options.labelFontSize&&12<e&&(e=Math.floor(.9230769230769231*e),b.measureText()),v=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==v?e:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=h):c>5*a&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelFontSize=e,this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelAngle=this.labelAngle));else if(n===d&&(0===n&&j+this._labels[n+1].textBlock.measureText().width-2*a>i||n===this._labels.length-1&&j+this._labels[n-1].textBlock.measureText().width-2*a>i||0<n&&n<this._labels.length-1&&j+this._labels[n+1].textBlock.measureText().width-2*a>i&&j+this._labels[n-1].textBlock.measureText().width-2*a>i))i=0===n?j+this._labels[n+1].textBlock.measureText().width-2*a:j+this._labels[n-1].textBlock.measureText().width-2*a,w=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==w?e:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=h;else if(0===i)for(x=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==x?e:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,c=0;c<this._labels.length;c++)(b=this._labels[c].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,j),h),p=b.measureText(),c<this._labels.length-1&&(e=c+1,(m=this._labels[e].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,j),h),m=m.measureText(),p.width+m.width>>0>2*a&&(this.sessionVariables.labelAngle=-25))}}else this.options.labelMaxWidth<a?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=c):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=g)}}else this.labelWrap?null==this.options.labelMaxWidth?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,j),h),this.sessionVariables.labelWrap=this.labelWrap,m&&p.width+m.width>>0>2*a&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>a?-25:this.sessionVariables.labelAngle):null==this.options.labelMaxWidth?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelMaxWidth=a,m&&p.width+m.width>>0>2*a&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=h)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>a?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelWrap=this.labelWrap)}else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?g:Math.min((c-a*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),c),h=0!=this.labelAngle?(s-(r+b.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):a,this.sessionVariables.labelMaxHeight=this.labelWrap?(s-h*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,null==this.options.labelWrap?null==this.options.labelWrap&&(this.labelWrap&&null!=this.options.labelMaxWidth?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:h,this.sessionVariables.labelMaxHeight=g):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=h,this.sessionVariables.labelMaxHeight=c<.9*l?.9*l:c,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:h):(this.options.labelMaxWidth,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:h,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=g)}for(c=0;c<this._labels.length;c++)(b=this._labels[c].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,b.fontSize=this.sessionVariables.labelFontSize,b.angle=this.labelAngle=this.sessionVariables.labelAngle,b.wrap=this.labelWrap=this.sessionVariables.labelWrap,b.maxHeight=this.sessionVariables.labelMaxHeight,b.measureText()}else for(d=0;d<this._labels.length;d++)(b=this._labels[d].textBlock).maxWidth=(y=this.options.labelMaxWidth,this.labelMaxWidth=null==y?null==this.sessionVariables.labelMaxWidth?this.sessionVariables.labelMaxWidth=a:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth),b.fontSize=(z=this.options.labelFontSize,this.labelFontSize=null==z?null==this.sessionVariables.labelFontSize?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize),b.angle=(A=this.options.labelAngle,this.labelAngle=null==A?null==this.sessionVariables.labelAngle?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle),b.wrap=(B=this.options.labelWrap,this.labelWrap=null==B?null==this.sessionVariables.labelWrap?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap),C=this.sessionVariables.labelMaxHeight,b.maxHeight=null==C?this.sessionVariables.labelMaxHeight=g:this.sessionVariables.labelMaxHeight,b.measureText()}else if("left"===this._position||"right"===this._position){if(a=null==this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth,g=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=g,D=this.sessionVariables.labelAngle,this.sessionVariables.labelAngle=null==D?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,d=0;d<this._labels.length;d++)if(!this._labels[d].breaksLabelType){for(p=(b=this._labels[d].textBlock).measureText(),e=d+1;e<this._labels.length;e++)if(!this._labels[e].breaksLabelType){m=(m=this._labels[e].textBlock).measureText();break}o.push(b.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,o),c=a*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(g-b.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.PI,this.labelAngle,Math.PI,this.labelAngle,null==this.options.labelAngle&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?null==this.options.labelWrap?null==this.options.labelWrap&&(null==this.options.labelMaxWidth?null==m||(l=p.height+m.height>>0)-2*g>j&&(j=l-2*g,l>=2*g&&l<2.4*g?(null==this.options.labelFontSize&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(.9230769230769231*this.labelFontSize),b.measureText()),this.sessionVariables.labelMaxHeight=g,E=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==E?this.labelFontSize:this.options.labelFontSize):l>=2.4*g&&l<2.8*g?(this.sessionVariables.labelMaxHeight=c,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):l>=2.8*g&&l<3.2*g?(this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelWrap=!0,null==this.options.labelFontSize&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(.9230769230769231*this.labelFontSize),b.measureText()),F=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==F?this.labelFontSize:this.options.labelFontSize,G=this.sessionVariables.labelAngle,this.sessionVariables.labelAngle=null==G?0:this.sessionVariables.labelAngle):l>=3.2*g&&l<3.6*g?(this.sessionVariables.labelMaxHeight=c,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):l>3.6*g&&l<10*g?(null==this.options.labelFontSize&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(.9230769230769231*this.labelFontSize),b.measureText()),H=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==H?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=g,I=this.sessionVariables.labelAngle,this.sessionVariables.labelAngle=null==I?0:this.sessionVariables.labelAngle):l>10*g&&l<50*g&&(null==this.options.labelFontSize&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(.9230769230769231*this.labelFontSize),b.measureText()),J=this.options.labelFontSize,this.sessionVariables.labelFontSize=null==J?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelMaxWidth=a,K=this.sessionVariables.labelAngle,this.sessionVariables.labelAngle=null==K?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:a,this.sessionVariables.labelMaxHeight=g):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?a:Math.min((c-g*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),g),null==this.options.labelWrap?null==this.options.labelWrap&&(this.labelWrap&&null!=this.options.labelMaxWidth?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=c):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:a,this.sessionVariables.labelMaxHeight=0===this.labelAngle?g:c,null==this.options.labelMaxWidth&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?g:c,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=a):(this.sessionVariables.labelMaxHeight=g,this.options.labelMaxWidth,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(c=0;c<this._labels.length;c++)(b=this._labels[c].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,b.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,b.angle=this.labelAngle=this.sessionVariables.labelAngle,b.wrap=this.labelWrap=this.sessionVariables.labelWrap,b.maxHeight=this.sessionVariables.labelMaxHeight,b.measureText()}else for(d=0;d<this._labels.length;d++)(b=this._labels[d].textBlock).maxWidth=(L=this.options.labelMaxWidth,this.labelMaxWidth=null==L?null==this.sessionVariables.labelMaxWidth?this.sessionVariables.labelMaxWidth=a:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth),b.fontSize=(M=this.options.labelFontSize,this.labelFontSize=null==M?null==this.sessionVariables.labelFontSize?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize),b.angle=(N=this.options.labelAngle,this.labelAngle=null==N?null==this.sessionVariables.labelAngle?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle),b.wrap=(O=this.options.labelWrap,this.labelWrap=null==O?null==this.sessionVariables.labelWrap?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap),P=this.sessionVariables.labelMaxHeight,b.maxHeight=null==P?this.sessionVariables.labelMaxHeight=g:this.sessionVariables.labelMaxHeight,b.measureText()}}for(d=0;d<this.stripLines.length;d++)"outside"===(a=this.stripLines[d]).labelPlacement?(g=this.sessionVariables.labelMaxWidth,"bottom"!==this._position&&"top"!==this._position||(null==a.options.labelWrap&&null!=this.sessionVariables.stripLineLabelMaxHeight?q=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=q=a.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),"left"!==this._position&&"right"!==this._position||(null==a.options.labelWrap&&null!=this.sessionVariables.stripLineLabelMaxHeight?q=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=q=a.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),null==a.labelBackgroundColor&&(a.labelBackgroundColor="#EEEEEE")):(g="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,q=null==a.options.labelWrap||a.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,Q=a.labelBackgroundColor,null==Q&&(null==a.startValue&&0!==a.startValue?a.labelBackgroundColor=f?"transparent":null:a.labelBackgroundColor="#EEEEEE")),b=new k(this.ctx,{x:0,y:0,backgroundColor:a.labelBackgroundColor,borderColor:a.labelBorderColor,borderThickness:a.labelBorderThickness,cornerRadius:a.labelCornerRadius,maxWidth:a.options.labelMaxWidth?a.options.labelMaxWidth:g,maxHeight:q,angle:this.labelAngle,text:a.labelFormatter?a.labelFormatter({chart:this.chart,axis:this,stripLine:a}):a.label,textAlign:this.labelTextAlign,fontSize:"outside"===a.labelPlacement?a.options.labelFontSize?a.labelFontSize:this.labelFontSize:a.labelFontSize,fontFamily:"outside"===a.labelPlacement?a.options.labelFontFamily?a.labelFontFamily:this.labelFontFamily:a.labelFontFamily,fontWeight:"outside"===a.labelPlacement?a.options.labelFontWeight?a.labelFontWeight:this.labelFontWeight:a.labelFontWeight,fontColor:a.labelFontColor||a.color,fontStyle:"outside"===a.labelPlacement?a.options.labelFontStyle?a.labelFontStyle:this.fontWeight:a.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:a.value,textBlock:b,effectiveHeight:null,stripLine:a})},b.prototype.createLabelsAndCalculateWidth=function(){var d=0,a=0;this._labels=[],this._stripLineLabels=[];var f=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(a=0;a<this._labels.length;a++){var e=this._labels[a].textBlock,b=e.measureText(),c=0;d<(c=0===this.labelAngle?b.width:b.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(b.height-e.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(d=c),this._labels[a].effectiveWidth=c}for(a=0;a<this._stripLineLabels.length;a++)"outside"===this._stripLineLabels[a].stripLine.labelPlacement&&this._stripLineLabels[a].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[a].stripLine.value<=this.viewportMaximum&&(b=(e=this._stripLineLabels[a].textBlock).measureText(),d<(c=0===this.labelAngle?b.width:b.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(b.height-e.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(d=c),this._stripLineLabels[a].effectiveWidth=c)}return(this.title?this._titleTextBlock.measureText().height+2:0)+d+("inside"===this.tickPlacement?0:this.tickLength)+f},b.prototype.createLabelsAndCalculateHeight=function(){var d=0;this._labels=[],this._stripLineLabels=[];var e,a=0,f=this.chart.isNavigator?0:5;if("bottom"===this._position||"top"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(a=0;a<this._labels.length;a++){var b=(e=this._labels[a].textBlock).measureText(),c=0;d<(c=0===this.labelAngle?b.height:b.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(b.height-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(d=c),this._labels[a].effectiveHeight=c}for(a=0;a<this._stripLineLabels.length;a++)"outside"===this._stripLineLabels[a].stripLine.labelPlacement&&this._stripLineLabels[a].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[a].stripLine.value<=this.viewportMaximum&&(b=(e=this._stripLineLabels[a].textBlock).measureText(),d<(c=0===this.labelAngle?b.height:b.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(b.height-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(d=c),this._stripLineLabels[a].effectiveHeight=c)}return(this.title?this._titleTextBlock.measureText().height+2:0)+d+("inside"===this.tickPlacement?0:this.tickLength)+f},b.setLayout=function(b,e,c,d,x,j){var S,T,R,g,f,i,m,n=b[0]?b[0].chart:e[0].chart,p=n.isNavigator?0:10,l=n._axes;if(b&&0<b.length)for(var a=0;a<b.length;a++)b[a]&&b[a].calculateAxisParameters();if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].calculateAxisParameters();if(c&&0<c.length)for(a=0;a<c.length;a++)c[a].calculateAxisParameters();if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].calculateAxisParameters();for(a=0;a<l.length;a++)if(l[a]&&l[a].scaleBreaks&&l[a].scaleBreaks._appliedBreaks.length)for(var B=l[a].scaleBreaks._appliedBreaks,o=0;o<B.length&&!(B[o].startValue>l[a].viewportMaximum);o++)B[o].endValue<l[a].viewportMinimum||(null==l[a].scaleBreaks.firstBreakIndex&&(l[a].scaleBreaks.firstBreakIndex=o),B[o].startValue>=l[a].viewPortMinimum&&(l[a].scaleBreaks.lastBreakIndex=o));var U,r,C,J,K,L,s=o=0,E=0,t=0,z=0,v=0,_=0,w=f=0;for(B=J=K=L=!1,a=0;a<l.length;a++)l[a]&&l[a].title&&(l[a]._titleTextBlock=new k(l[a].ctx,{text:l[a].title,horizontalAlign:"center",fontSize:l[a].titleFontSize,fontFamily:l[a].titleFontFamily,fontWeight:l[a].titleFontWeight,fontColor:l[a].titleFontColor,fontStyle:l[a].titleFontStyle,borderColor:l[a].titleBorderColor,borderThickness:l[a].titleBorderThickness,backgroundColor:l[a].titleBackgroundColor,cornerRadius:l[a].titleCornerRadius,textBaseline:"top"}));for(a=0;a<l.length;a++)if(l[a].title)switch(l[a]._position){case"left":l[a]._titleTextBlock.maxWidth=l[a].titleMaxWidth||j.height,l[a]._titleTextBlock.maxHeight=l[a].titleWrap?.8*j.width:1.5*l[a].titleFontSize,l[a]._titleTextBlock.angle=-90;break;case"right":l[a]._titleTextBlock.maxWidth=l[a].titleMaxWidth||j.height,l[a]._titleTextBlock.maxHeight=l[a].titleWrap?.8*j.width:1.5*l[a].titleFontSize,l[a]._titleTextBlock.angle=90;break;default:l[a]._titleTextBlock.maxWidth=l[a].titleMaxWidth||j.width,l[a]._titleTextBlock.maxHeight=l[a].titleWrap?.8*j.height:1.5*l[a].titleFontSize,l[a]._titleTextBlock.angle=0}if("normal"===x){t=[],z=[],v=[],_=[];for(var M=[],N=[],H=[],I=[];4>o;){var V,W,X,Y,O=0,P=0,D=0,A=0,y=x=0,h=0,G=0,q=0,u=0,Q=0,F=0;if(c&&0<c.length)for(v=[],a=Q=0;a<c.length;a++)v.push(Math.ceil(c[a]?c[a].createLabelsAndCalculateWidth():0)),Q+=v[a],h+=c[a]&&!n.isNavigator?c[a].margin:0;else v.push(Math.ceil(c[0]?c[0].createLabelsAndCalculateWidth():0));if(H.push(v),d&&0<d.length)for(_=[],a=F=0;a<d.length;a++)_.push(Math.ceil(d[a]?d[a].createLabelsAndCalculateWidth():0)),F+=_[a],G+=d[a]?d[a].margin:0;else _.push(Math.ceil(d[0]?d[0].createLabelsAndCalculateWidth():0));if(I.push(_),g=Math.round(j.x1+Q+h),i=Math.round(j.x2-F-G>n.width-p?n.width-p:j.x2-F-G),b&&0<b.length)for(t=[],a=q=0;a<b.length;a++)b[a]&&(b[a].lineCoordinates={}),b[a].lineCoordinates.width=Math.abs(i-g),b[a].title&&(b[a]._titleTextBlock.maxWidth=0<b[a].titleMaxWidth&&b[a].titleMaxWidth<b[a].lineCoordinates.width?b[a].titleMaxWidth:b[a].lineCoordinates.width),t.push(Math.ceil(b[a]?b[a].createLabelsAndCalculateHeight():0)),q+=t[a],x+=b[a]&&!n.isNavigator?b[a].margin:0;else t.push(Math.ceil(b[0]?b[0].createLabelsAndCalculateHeight():0));if(M.push(t),e&&0<e.length)for(z=[],a=u=0;a<e.length;a++)e[a]&&(e[a].lineCoordinates={}),e[a].lineCoordinates.width=Math.abs(i-g),e[a].title&&(e[a]._titleTextBlock.maxWidth=0<e[a].titleMaxWidth&&e[a].titleMaxWidth<e[a].lineCoordinates.width?e[a].titleMaxWidth:e[a].lineCoordinates.width),z.push(Math.ceil(e[a]?e[a].createLabelsAndCalculateHeight():0)),u+=z[a],y+=e[a]&&!n.isNavigator?e[a].margin:0;else z.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0));if(N.push(z),b&&0<b.length)for(a=0;a<b.length;a++)b[a]&&(b[a].lineCoordinates.x1=g,i=Math.round(j.x2-F-G>n.width-p?n.width-p:j.x2-F-G),b[a]._labels&&1<b[a]._labels.length&&(f=m=0,m=b[a]._labels[1],f="dateTime"===b[a].valueType?b[a]._labels[b[a]._labels.length-2]:b[a]._labels[b[a]._labels.length-1],s=m.textBlock.width*Math.cos(Math.PI/180*Math.abs(m.textBlock.angle))+(m.textBlock.height-f.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(m.textBlock.angle)),E=f.textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-f.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle))),!b[a]||!b[a].labelAutoFit||null==r||null==C||n.isNavigator||n.stockChart||(f=0,0<b[a].labelAngle?C+E>i&&(f+=0<b[a].labelAngle?C+E-i-F:0):0>b[a].labelAngle?r-s<g&&r-s<b[a].viewportMinimum&&(w=g-(h+b[a].tickLength+v+r-s+b[a].labelFontSize/2)):0===b[a].labelAngle&&(C+E>i&&(f=C+E/2-i-F),r-s<g&&r-s<b[a].viewportMinimum&&(w=g-h-b[a].tickLength-v-r+s/2)),b[a].viewportMaximum===b[a].maximum&&b[a].viewportMinimum===b[a].minimum&&0<b[a].labelAngle&&0<f?i-=f:b[a].viewportMaximum===b[a].maximum&&b[a].viewportMinimum===b[a].minimum&&0>b[a].labelAngle&&0<w?g+=w:b[a].viewportMaximum===b[a].maximum&&b[a].viewportMinimum===b[a].minimum&&0===b[a].labelAngle&&(0<w&&(g+=w),0<f&&(i-=f))),n.panEnabled?q=null==n.sessionVariables.axisX.height?n.sessionVariables.axisX.height=q:n.sessionVariables.axisX.height:n.sessionVariables.axisX.height=q,f=Math.round(j.y2-q-x+O),m=Math.round(j.y2),b[a].lineCoordinates.x2=i,b[a].lineCoordinates.width=i-g,b[a].lineCoordinates.y1=f,b[a].lineCoordinates.y2=f+b[a].lineThickness/2,"inside"===b[a].labelPlacement&&0<a&&(b[a].lineCoordinates.y1=b[a].lineCoordinates.y1+t[a]-(b[a]._titleTextBlock?b[a]._titleTextBlock.height:0)-("inside"===b[a].tickPlacement?b[a].tickLength:0),b[a].lineCoordinates.y2=b[a].lineCoordinates.y1+b[a].lineThickness/2),b[a].bounds={x1:g,y1:f,x2:i,y2:m-(q+x-t[a]-O),width:i-g,height:m-f}),O+=t[a]+b[a].margin;if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].lineCoordinates.x1=Math.round(j.x1+Q+h),e[a].lineCoordinates.x2=Math.round(j.x2-F-G>n.width-p?n.width-p:j.x2-F-G),e[a].lineCoordinates.width=Math.abs(i-g),e[a]._labels&&1<e[a]._labels.length&&(m=e[a]._labels[1],f="dateTime"===e[a].valueType?e[a]._labels[e[a]._labels.length-2]:e[a]._labels[e[a]._labels.length-1],s=m.textBlock.width*Math.cos(Math.PI/180*Math.abs(m.textBlock.angle))+(m.textBlock.height-f.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(m.textBlock.angle)),E=f.textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-f.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle))),n.panEnabled?u=null==n.sessionVariables.axisX2.height?n.sessionVariables.axisX2.height=u:n.sessionVariables.axisX2.height:n.sessionVariables.axisX2.height=u,f=Math.round(j.y1),m=Math.round(j.y2+e[a].margin),e[a].lineCoordinates.y1=f+u+y-P,e[a].lineCoordinates.y2=f,"inside"===e[a].labelPlacement&&0<a&&(e[a].lineCoordinates.y1=e[a-1].bounds.y1-z[a]+(e[a]._titleTextBlock?e[a]._titleTextBlock.height:0)),e[a].bounds={x1:g,y1:f+(u+y-z[a]-P),x2:i,y2:m,width:i-g,height:m-f},P+=z[a]+e[a].margin;if(c&&0<c.length)for(a=0;a<c.length;a++)h=n.isNavigator?0:10,c[a]&&(g=Math.round(b[0]?b[0].lineCoordinates.x1:e[0].lineCoordinates.x1),h=c[a]._labels&&0<c[a]._labels.length?c[a]._labels[c[a]._labels.length-1].textBlock.height/2:p,f=Math.round(j.y1+u+y<Math.max(h,p)?Math.max(h,p):j.y1+u+y),i=Math.round(b[0]?b[0].lineCoordinates.x1:e[0].lineCoordinates.x1),h=0<b.length?0:c[a]._labels&&0<c[a]._labels.length?c[a]._labels[0].textBlock.height/2:p,m=Math.round(j.y2-q-x-h),c[a].lineCoordinates={x1:g-D,y1:f,x2:i-D,y2:m,height:Math.abs(m-f)},"inside"===c[a].labelPlacement&&0<a&&(c[a].lineCoordinates.x1=c[a].lineCoordinates.x1-(v[a]-(c[a]._titleTextBlock?c[a]._titleTextBlock.height:0))+("outside"===c[a].tickPlacement?c[a].tickLength:0),c[a].lineCoordinates.x2=c[a].lineCoordinates.x1+c[a].lineThickness/2),c[a].bounds={x1:g-(v[a]+D),y1:f,x2:i,y2:m,width:i-g,height:m-f},c[a].title&&(c[a]._titleTextBlock.maxWidth=0<c[a].titleMaxWidth&&c[a].titleMaxWidth<c[a].lineCoordinates.height?c[a].titleMaxWidth:c[a].lineCoordinates.height),D+=v[a]+c[a].margin);if(d&&0<d.length)for(a=0;a<d.length;a++)d[a]&&(g=Math.round(b[0]?b[0].lineCoordinates.x2:e[0].lineCoordinates.x2),i=Math.round(g),h=d[a]._labels&&0<d[a]._labels.length?d[a]._labels[d[a]._labels.length-1].textBlock.height/2:0,f=Math.round(j.y1+u+y<Math.max(h,p)?Math.max(h,p):j.y1+u+y),h=0<b.length?0:d[a]._labels&&0<d[a]._labels.length?d[a]._labels[0].textBlock.height/2:0,m=Math.round(j.y2-(q+x+h)),d[a].lineCoordinates={x1:g+A,y1:f,x2:g+A,y2:m,height:Math.abs(m-f)},"inside"===d[a].labelPlacement&&0<a&&(d[a].lineCoordinates.x1=d[a].lineCoordinates.x1+(_[a]-(d[a]._titleTextBlock?d[a]._titleTextBlock.height:0))-("outside"===d[a].tickPlacement?d[a].tickLength:0)-2,d[a].lineCoordinates.x2=d[a].lineCoordinates.x1+d[a].lineThickness/2),d[a].bounds={x1:g,y1:f,x2:i+(_[a]+A),y2:m,width:i-g,height:m-f},d[a].title&&(d[a]._titleTextBlock.maxWidth=0<d[a].titleMaxWidth&&d[a].titleMaxWidth<d[a].lineCoordinates.height?d[a].titleMaxWidth:d[a].lineCoordinates.height),A+=_[a]+d[a].margin);if(b&&0<b.length)for(a=0;a<b.length;a++)b[a]&&(b[a].calculateValueToPixelConversionParameters(),b[a].calculateBreaksSizeInValues(),b[a]._labels&&1<b[a]._labels.length&&(r=(b[a].logarithmic?Math.log(b[a]._labels[1].position/b[a].viewportMinimum)/b[a].conversionParameters.lnLogarithmBase:b[a]._labels[1].position-b[a].viewportMinimum)*Math.abs(b[a].conversionParameters.pixelPerUnit)+b[a].lineCoordinates.x1,g=b[a]._labels[b[a]._labels.length-("dateTime"===b[a].valueType?2:1)].position,g=b[a].getApparentDifference(b[a].viewportMinimum,g),C=b[a].logarithmic?(1<g?Math.log(g)/b[a].conversionParameters.lnLogarithmBase*Math.abs(b[a].conversionParameters.pixelPerUnit):0)+b[a].lineCoordinates.x1:(0<g?g*Math.abs(b[a].conversionParameters.pixelPerUnit):0)+b[a].lineCoordinates.x1));if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].calculateValueToPixelConversionParameters(),e[a].calculateBreaksSizeInValues(),e[a]._labels&&1<e[a]._labels.length&&(r=(e[a].logarithmic?Math.log(e[a]._labels[1].position/e[a].viewportMinimum)/e[a].conversionParameters.lnLogarithmBase:e[a]._labels[1].position-e[a].viewportMinimum)*Math.abs(e[a].conversionParameters.pixelPerUnit)+e[a].lineCoordinates.x1,g=e[a]._labels[e[a]._labels.length-("dateTime"===e[a].valueType?2:1)].position,g=e[a].getApparentDifference(e[a].viewportMinimum,g),C=e[a].logarithmic?(1<g?Math.log(g)/e[a].conversionParameters.lnLogarithmBase*Math.abs(e[a].conversionParameters.pixelPerUnit):0)+e[a].lineCoordinates.x1:(0<g?g*Math.abs(e[a].conversionParameters.pixelPerUnit):0)+e[a].lineCoordinates.x1);for(a=0;a<l.length;a++)"axisY"===l[a].type&&(l[a].calculateValueToPixelConversionParameters(),l[a].calculateBreaksSizeInValues());if(0<o){if(b&&0<b.length)for(a=0;a<b.length;a++)B=M[o-1][a]===M[o][a];else B=!0;if(e&&0<e.length)for(a=0;a<e.length;a++)J=N[o-1][a]===N[o][a];else J=!0;if(c&&0<c.length)for(a=0;a<c.length;a++)K=H[o-1][a]===H[o][a];else K=!0;if(d&&0<d.length)for(a=0;a<d.length;a++)L=I[o-1][a]===I[o][a];else L=!0}if(B&&J&&K&&L)break;o++}if(b&&0<b.length)for(a=0;a<b.length;a++)b[a].calculateStripLinesThicknessInValues(),b[a].calculateBreaksInPixels();if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].calculateStripLinesThicknessInValues(),e[a].calculateBreaksInPixels();if(c&&0<c.length)for(a=0;a<c.length;a++)c[a].calculateStripLinesThicknessInValues(),c[a].calculateBreaksInPixels();if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].calculateStripLinesThicknessInValues(),d[a].calculateBreaksInPixels()}else{for(p=[],r=[],w=[],s=[],C=[],E=[],M=[],N=[];4>o;){if(q=A=P=D=G=h=y=x=I=H=O=u=0,b&&0<b.length)for(w=[],a=A=0;a<b.length;a++)w.push(Math.ceil(b[a]?b[a].createLabelsAndCalculateWidth():0)),A+=w[a],x+=b[a]&&!n.isNavigator?b[a].margin:0;else w.push(Math.ceil(b[0]?b[0].createLabelsAndCalculateWidth():0));if(M.push(w),e&&0<e.length)for(s=[],a=q=0;a<e.length;a++)s.push(Math.ceil(e[a]?e[a].createLabelsAndCalculateWidth():0)),q+=s[a],y+=e[a]?e[a].margin:0;else s.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0));if(N.push(s),c&&0<c.length)for(a=0;a<c.length;a++)c[a].lineCoordinates={},g=Math.round(j.x1+A+x),i=Math.round(j.x2-q-y>n.width-10?n.width-10:j.x2-q-y),c[a].labelAutoFit&&null!=t&&(0< !b.length&&(g=0>c[a].labelAngle?Math.max(g,t):0===c[a].labelAngle?Math.max(g,t/2):g),0< !e.length&&(i=0<c[a].labelAngle?i-z/2:0===c[a].labelAngle?i-z/2:i)),c[a].lineCoordinates.x1=g,c[a].lineCoordinates.x2=i,c[a].lineCoordinates.width=Math.abs(i-g),c[a].title&&(c[a]._titleTextBlock.maxWidth=0<c[a].titleMaxWidth&&c[a].titleMaxWidth<c[a].lineCoordinates.width?c[a].titleMaxWidth:c[a].lineCoordinates.width);if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].lineCoordinates={},g=Math.round(j.x1+A+x),i=Math.round(j.x2-q-y>d[a].chart.width-10?d[a].chart.width-10:j.x2-q-y),d[a]&&d[a].labelAutoFit&&null!=v&&(0< !b.length&&(g=0<d[a].labelAngle?Math.max(g,v):0===d[a].labelAngle?Math.max(g,v/2):g),0< !e.length&&(i-=_/2)),d[a].lineCoordinates.x1=g,d[a].lineCoordinates.x2=i,d[a].lineCoordinates.width=Math.abs(i-g),d[a].title&&(d[a]._titleTextBlock.maxWidth=0<d[a].titleMaxWidth&&d[a].titleMaxWidth<d[a].lineCoordinates.width?d[a].titleMaxWidth:d[a].lineCoordinates.width);if(c&&0<c.length)for(p=[],a=D=0;a<c.length;a++)p.push(Math.ceil(c[a]?c[a].createLabelsAndCalculateHeight():0)),D+=p[a]+c[a].margin,h+=c[a].margin;else p.push(Math.ceil(c[0]?c[0].createLabelsAndCalculateHeight():0));if(C.push(p),d&&0<d.length)for(r=[],a=P=0;a<d.length;a++)r.push(Math.ceil(d[a]?d[a].createLabelsAndCalculateHeight():0)),P+=r[a],G+=d[a].margin;else r.push(Math.ceil(d[0]?d[0].createLabelsAndCalculateHeight():0));if(E.push(r),c&&0<c.length)for(a=0;a<c.length;a++)0<c[a]._labels.length&&(m=c[a]._labels[0],f=c[a]._labels[c[a]._labels.length-1],t=m.textBlock.width*Math.cos(Math.PI/180*Math.abs(m.textBlock.angle))+(m.textBlock.height-f.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(m.textBlock.angle)),z=f.textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-f.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle)));if(d&&0<d.length)for(a=0;a<d.length;a++)d[a]&&0<d[a]._labels.length&&(m=d[a]._labels[0],f=d[a]._labels[d[a]._labels.length-1],v=m.textBlock.width*Math.cos(Math.PI/180*Math.abs(m.textBlock.angle))+(m.textBlock.height-f.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(m.textBlock.angle)),_=f.textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-f.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle)));if(n.panEnabled)for(a=0;a<c.length;a++)R=n.sessionVariables.axisY.height,p[a]=null==R?n.sessionVariables.axisY.height=p[a]:n.sessionVariables.axisY.height;else for(a=0;a<c.length;a++)n.sessionVariables.axisY.height=p[a];if(c&&0<c.length)for(a=c.length-1;0<=a;a--)f=Math.round(j.y2),m=Math.round(j.y2>c[a].chart.height?c[a].chart.height:j.y2),c[a].lineCoordinates.y1=f-(p[a]+c[a].margin+u),c[a].lineCoordinates.y2=f-(p[a]+c[a].margin+u),"inside"===c[a].labelPlacement&&0<a&&(c[a].lineCoordinates.y1=c[a].lineCoordinates.y1+p[a]-(c[a]._titleTextBlock?c[a]._titleTextBlock.height:0)-("inside"===c[a].tickPlacement?c[a].tickLength:0),c[a].lineCoordinates.y2=c[a].lineCoordinates.y1+c[a].lineThickness/2),c[a].bounds={x1:g,y1:f-(p[a]+u+c[a].margin),x2:i,y2:m-(u+c[a].margin),width:i-g,height:p[a]},c[a].title&&(c[a]._titleTextBlock.maxWidth=0<c[a].titleMaxWidth&&c[a].titleMaxWidth<c[a].lineCoordinates.width?c[a].titleMaxWidth:c[a].lineCoordinates.width),u+=p[a]+c[a].margin;if(d&&0<d.length)for(a=d.length-1;0<=a;a--)d[a]&&(f=Math.round(j.y1),m=Math.round(j.y1+(r[a]+d[a].margin+O)),d[a].lineCoordinates.y1=m,d[a].lineCoordinates.y2=m,"inside"===d[a].labelPlacement&&0<a&&(d[a].lineCoordinates.y1=m-r[a]+(d[a]._titleTextBlock?d[a]._titleTextBlock.height:0)),d[a].bounds={x1:g,y1:f+(d[a].margin+O),x2:i,y2:m,width:i-g,height:P},d[a].title&&(d[a]._titleTextBlock.maxWidth=0<d[a].titleMaxWidth&&d[a].titleMaxWidth<d[a].lineCoordinates.width?d[a].titleMaxWidth:d[a].lineCoordinates.width),O+=r[a]+d[a].margin);if(b&&0<b.length)for(a=0;a<b.length;a++){if(h=b[a]._labels&&0<b[a]._labels.length?b[a]._labels[0].textBlock.fontSize/2:0,g=Math.round(j.x1+x),f=d&&0<d.length?Math.round(d[0]?d[0].lineCoordinates.y2:j.y1<Math.max(h,10)?Math.max(h,10):j.y1):j.y1<Math.max(h,10)?Math.max(h,10):j.y1,i=Math.round(j.x1+A+x),m=c&&0<c.length?Math.round(c[0]?c[0].lineCoordinates.y1:j.y2-D>n.height-Math.max(h,10)?n.height-Math.max(h,10):j.y2-D):j.y2>n.height-Math.max(h,10)?n.height-Math.max(h,10):j.y2,c&&0<c.length)for(h=0;h<c.length;h++)c[h]&&c[h].labelAutoFit&&(i=0>c[h].labelAngle?Math.max(i,t):0===c[h].labelAngle?Math.max(i,t/2):i,g=0>c[h].labelAngle||0===c[h].labelAngle?i-A:g);if(d&&0<d.length)for(h=0;h<d.length;h++)d[h]&&d[h].labelAutoFit&&(g=(i=d[h].lineCoordinates.x1)-A);b[a].lineCoordinates={x1:i-H,y1:f,x2:i-H,y2:m,height:Math.abs(m-f)},"inside"===b[a].labelPlacement&&0<a&&(b[a].lineCoordinates.x1=b[a].lineCoordinates.x1-(w[a]-(b[a]._titleTextBlock?b[a]._titleTextBlock.height:0))+("outside"===b[a].tickPlacement?b[a].tickLength:0),b[a].lineCoordinates.x2=b[a].lineCoordinates.x1+b[a].lineThickness/2),b[a].bounds={x1:i-(w[a]+H),y1:f,x2:i,y2:m,width:i-g,height:m-f},b[a].title&&(b[a]._titleTextBlock.maxWidth=0<b[a].titleMaxWidth&&b[a].titleMaxWidth<b[a].lineCoordinates.height?b[a].titleMaxWidth:b[a].lineCoordinates.height),b[a].calculateValueToPixelConversionParameters(),b[a].calculateBreaksSizeInValues(),H+=w[a]+b[a].margin}if(e&&0<e.length)for(a=0;a<e.length;a++){if(h=e[a]._labels&&0<e[a]._labels.length?e[a]._labels[0].textBlock.fontSize/2:0,g=Math.round(j.x1-x),f=d&&0<d.length?Math.round(d[0]?d[0].lineCoordinates.y2:j.y1<Math.max(h,10)?Math.max(h,10):j.y1):j.y1<Math.max(h,10)?Math.max(h,10):j.y1,i=Math.round(j.x2-q-y),m=c&&0<c.length?Math.round(c[0]?c[0].lineCoordinates.y1:j.y2-D>n.height-Math.max(h,10)?n.height-Math.max(h,10):j.y2-D):j.y2>n.height-Math.max(h,10)?n.height-Math.max(h,10):j.y2,c&&0<c.length)for(h=0;h<c.length;h++)c[h]&&c[h].labelAutoFit&&(i=0>c[h].labelAngle?Math.max(i,t):0===c[h].labelAngle?Math.max(i,t/2):i,g=0>c[h].labelAngle||0===c[h].labelAngle?i-q:g);if(d&&0<d.length)for(h=0;h<d.length;h++)d[h]&&d[h].labelAutoFit&&(g=(i=d[h].lineCoordinates.x2)-q);e[a].lineCoordinates={x1:i+I,y1:f,x2:i+I,y2:m,height:Math.abs(m-f)},"inside"===e[a].labelPlacement&&0<a&&(e[a].lineCoordinates.x1=e[a].lineCoordinates.x1+(s[a]-(e[a]._titleTextBlock?e[a]._titleTextBlock.height:0)-2)-("outside"===e[a].tickPlacement?e[a].tickLength:0),e[a].lineCoordinates.x2=e[a].lineCoordinates.x1+e[a].lineThickness/2),e[a].bounds={x1:e[a].lineCoordinates.x1,y1:f,x2:i+s[a]+I,y2:m,width:i-g,height:m-f},e[a].title&&(e[a]._titleTextBlock.maxWidth=0<e[a].titleMaxWidth&&e[a].titleMaxWidth<e[a].lineCoordinates.height?e[a].titleMaxWidth:e[a].lineCoordinates.height),e[a].calculateValueToPixelConversionParameters(),e[a].calculateBreaksSizeInValues(),I+=s[a]+e[a].margin}for(a=0;a<l.length;a++)"axisY"===l[a].type&&(l[a].calculateValueToPixelConversionParameters(),l[a].calculateBreaksSizeInValues());if(0<o){if(b&&0<b.length)for(a=0;a<b.length;a++)B=M[o-1][a]===M[o][a];else B=!0;if(e&&0<e.length)for(a=0;a<e.length;a++)J=N[o-1][a]===N[o][a];else J=!0;if(c&&0<c.length)for(a=0;a<c.length;a++)K=C[o-1][a]===C[o][a];else K=!0;if(d&&0<d.length)for(a=0;a<d.length;a++)L=E[o-1][a]===E[o][a];else L=!0}if(B&&J&&K&&L)break;o++}if(c&&0<c.length)for(a=0;a<c.length;a++)c[a].calculateStripLinesThicknessInValues(),c[a].calculateBreaksInPixels();if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].calculateStripLinesThicknessInValues(),d[a].calculateBreaksInPixels();if(b&&0<b.length)for(a=0;a<b.length;a++)b[a].calculateStripLinesThicknessInValues(),b[a].calculateBreaksInPixels();if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].calculateStripLinesThicknessInValues(),e[a].calculateBreaksInPixels()}},b.render=function(b,c,d,e,g){var h=b[0]?b[0].chart:c[0].chart;if(g=h.ctx,h.alignVerticalAxes&&h.alignVerticalAxes(),g.save(),g.beginPath(),b[0]&&g.rect(5,b[0].bounds.y1,b[0].chart.width-10,b[0].bounds.height),c[0]&&g.rect(5,c[c.length-1].bounds.y1,c[0].chart.width-10,c[0].bounds.height),g.clip(),b&&0<b.length)for(var a=0;a<b.length;a++)b[a].renderLabelsTicksAndTitle();if(c&&0<c.length)for(a=0;a<c.length;a++)c[a].renderLabelsTicksAndTitle();if(g.restore(),d&&0<d.length)for(a=0;a<d.length;a++)d[a].renderLabelsTicksAndTitle();if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].renderLabelsTicksAndTitle();if(h.preparePlotArea(),h=h.plotArea,g.save(),g.beginPath(),g.rect(h.x1,h.y1,Math.abs(h.x2-h.x1),Math.abs(h.y2-h.y1)),g.clip(),b&&0<b.length)for(a=0;a<b.length;a++)b[a].renderStripLinesOfThicknessType("value");if(c&&0<c.length)for(a=0;a<c.length;a++)c[a].renderStripLinesOfThicknessType("value");if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].renderStripLinesOfThicknessType("value");if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].renderStripLinesOfThicknessType("value");if(b&&0<b.length)for(a=0;a<b.length;a++)b[a].renderInterlacedColors();if(c&&0<c.length)for(a=0;a<c.length;a++)c[a].renderInterlacedColors();if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].renderInterlacedColors();if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].renderInterlacedColors();if(g.restore(),b&&0<b.length)for(a=0;a<b.length;a++)b[a].renderGrid(),f&&(b[a].createMask(),b[a].renderBreaksBackground());if(c&&0<c.length)for(a=0;a<c.length;a++)c[a].renderGrid(),f&&(c[a].createMask(),c[a].renderBreaksBackground());if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].renderGrid(),f&&(d[a].createMask(),d[a].renderBreaksBackground());if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].renderGrid(),f&&(e[a].createMask(),e[a].renderBreaksBackground());if(b&&0<b.length)for(a=0;a<b.length;a++)b[a].renderAxisLine();if(c&&0<c.length)for(a=0;a<c.length;a++)c[a].renderAxisLine();if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].renderAxisLine();if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].renderAxisLine();if(b&&0<b.length)for(a=0;a<b.length;a++)b[a].renderStripLinesOfThicknessType("pixel");if(c&&0<c.length)for(a=0;a<c.length;a++)c[a].renderStripLinesOfThicknessType("pixel");if(d&&0<d.length)for(a=0;a<d.length;a++)d[a].renderStripLinesOfThicknessType("pixel");if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].renderStripLinesOfThicknessType("pixel")},b.prototype.calculateStripLinesThicknessInValues=function(){for(var a=0;a<this.stripLines.length;a++)if(null!==this.stripLines[a].startValue&&null!==this.stripLines[a].endValue){var b=Math.min(this.stripLines[a].startValue,this.stripLines[a].endValue),c=Math.max(this.stripLines[a].startValue,this.stripLines[a].endValue);b=this.getApparentDifference(b,c),this.stripLines[a].value=this.logarithmic?this.stripLines[a].value*Math.sqrt(Math.log(Math.max(this.stripLines[a].startValue,this.stripLines[a].endValue)/Math.min(this.stripLines[a].startValue,this.stripLines[a].endValue))/Math.log(b)):this.stripLines[a].value+(Math.abs(this.stripLines[a].endValue-this.stripLines[a].startValue)-b)/2,this.stripLines[a].thickness=b,this.stripLines[a]._thicknessType="value"}},b.prototype.calculateBreaksSizeInValues=function(){for(var g,h,c,d="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,b=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],e=this.conversionParameters.pixelPerUnit||d/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),f=this.scaleBreaks&&null!=this.scaleBreaks.options.spacing,a=0;a<b.length;a++)c=f||null!=b[a].options.spacing,b[a].spacing=Z(b[a].spacing,d,8,c?.1*d:8,c?0:3)<<0,b[a].size=0>b[a].spacing?0:Math.abs(b[a].spacing/e),this.logarithmic&&(b[a].size=Math.pow(this.logarithmBase,b[a].size))},b.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var c,b=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];b.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var a=0;a<b.length&&!(b[a].startValue>this.conversionParameters.maximum);a++)b[a].endValue<this.conversionParameters.minimum||(null==this.scaleBreaks.firstBreakIndex&&(this.scaleBreaks.firstBreakIndex=a),b[a].startValue>=this.conversionParameters.minimum&&(b[a].startPixel=this.convertValueToPixel(b[a].startValue),this.scaleBreaks.lastBreakIndex=a),b[a].endValue<=this.conversionParameters.maximum&&(b[a].endPixel=this.convertValueToPixel(b[a].endValue)))}},b.prototype.renderLabelsTicksAndTitle=function(){var a,b,m=this,f=!1,e=0,d=0,h=1,g=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(h=1.2),void 0===this.options.interval){if("bottom"===this._position||"top"===this._position){if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){e=[],h=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var j,k,i=this.viewportMaximum,l=this.lineCoordinates.width/Math.log(this.range),c=this._labels.length-1;0<=c&&!((a=this._labels[c]).position<this.viewportMinimum);c--)a.position>this.viewportMaximum||!(c===this._labels.length-1||k<Math.log(i/a.position)*l/h)||(e.push(a),i=a.position,k=a.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+a.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=e}else{for(c=0;c<this._labels.length;c++)(a=this._labels[c]).position<this.viewportMinimum||(e+=k=a.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+a.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));e>this.lineCoordinates.width*h&&this.labelAutoFit&&(f=!0)}}if("left"===this._position||"right"===this._position){if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(e=[],i=this.viewportMaximum,l=this.lineCoordinates.height/Math.log(this.range),c=this._labels.length-1;0<=c&&!((a=this._labels[c]).position<this.viewportMinimum);c--)a.position>this.viewportMaximum||!(c===this._labels.length-1||j<Math.log(i/a.position)*l)||(e.push(a),i=a.position,j=a.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+a.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=e}else{for(c=0;c<this._labels.length;c++)(a=this._labels[c]).position<this.viewportMinimum||(d+=j=a.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+a.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));d>this.lineCoordinates.height*h&&this.labelAutoFit&&(f=!0)}}}if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(a,b){return a.position-b.position}),c=0,"bottom"===this._position){for(c=0;c<this._labels.length;c++)(a=this._labels[c]).position<this.viewportMinimum||a.position>this.viewportMaximum||(b=this.getPixelCoordinatesOnAxis(a.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,d=1==this.ctx.lineWidth%2?.5+(b.x<<0):b.x<<0,this.ctx.beginPath(),this.ctx.moveTo(d,b.y<<0),this.ctx.lineTo(d,b.y+this.tickLength<<0),this.ctx.stroke()),f&&0!=(g++)%2&&this.labelAutoFit||(0===a.textBlock.angle?(b.x-=a.textBlock.width/2,b.y="inside"===this.labelPlacement?b.y-(("inside"===this.tickPlacement?this.tickLength:0)+a.textBlock.height-a.textBlock.fontSize/2):b.y+("inside"===this.tickPlacement?0:this.tickLength)+a.textBlock.fontSize/2+5):(b.x="inside"===this.labelPlacement?0>this.labelAngle?b.x:b.x-a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):b.x-(0>this.labelAngle?a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),b.y="inside"===this.labelPlacement?0>this.labelAngle?b.y-("inside"===this.tickPlacement?this.tickLength:0)-5:b.y-("inside"===this.tickPlacement?this.tickLength:0)-Math.abs(a.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):b.y+("inside"===this.tickPlacement?0:this.tickLength)+Math.abs(0>this.labelAngle?a.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),a.textBlock.x=b.x,a.textBlock.y=b.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",function(){for(c=0;c<m._labels.length;c++)if(!((a=m._labels[c]).position<m.viewportMinimum||a.position>m.viewportMaximum)&&(b=m.getPixelCoordinatesOnAxis(a.position),m.tickThickness)){m.ctx.lineWidth=m.tickThickness,m.ctx.strokeStyle=m.tickColor;var d=1==m.ctx.lineWidth%2?.5+(b.x<<0):b.x<<0;m.ctx.save(),m.ctx.beginPath(),m.ctx.moveTo(d,b.y<<0),m.ctx.lineTo(d,b.y-m.tickLength<<0),m.ctx.stroke(),m.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(c=0;c<this._labels.length;c++)(a=this._labels[c]).position<this.viewportMinimum||a.position>this.viewportMaximum||(b=this.getPixelCoordinatesOnAxis(a.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,d=1==this.ctx.lineWidth%2?.5+(b.x<<0):b.x<<0,this.ctx.beginPath(),this.ctx.moveTo(d,b.y<<0),this.ctx.lineTo(d,b.y-this.tickLength<<0),this.ctx.stroke()),f&&0!=(g++)%2&&this.labelAutoFit||(0===a.textBlock.angle?(b.x-=a.textBlock.width/2,b.y="inside"===this.labelPlacement?b.y+this.labelFontSize/2+("inside"===this.tickPlacement?this.tickLength:0)+5:b.y-(("inside"===this.tickPlacement?0:this.tickLength)+a.textBlock.height-a.textBlock.fontSize/2)):(b.x="inside"===this.labelPlacement?0<this.labelAngle?b.x:b.x-a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):b.x+(a.textBlock.height-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),b.y="inside"===this.labelPlacement?0<this.labelAngle?b.y+("inside"===this.tickPlacement?this.tickLength:0)+5:b.y-a.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?this.tickLength:0)+5:b.y-(("inside"===this.tickPlacement?0:this.tickLength)+((a.textBlock.height-a.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?a.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),a.textBlock.x=b.x,a.textBlock.y=b.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",function(){for(c=0;c<m._labels.length;c++)if(!((a=m._labels[c]).position<m.viewportMinimum||a.position>m.viewportMaximum)&&(b=m.getPixelCoordinatesOnAxis(a.position),m.tickThickness)){m.ctx.lineWidth=m.tickThickness,m.ctx.strokeStyle=m.tickColor;var d=1==m.ctx.lineWidth%2?.5+(b.x<<0):b.x<<0;m.ctx.save(),m.ctx.beginPath(),m.ctx.moveTo(d,b.y<<0),m.ctx.lineTo(d,b.y+m.tickLength<<0),m.ctx.stroke(),m.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(c=0;c<this._labels.length;c++)(a=this._labels[c]).position<this.viewportMinimum||a.position>this.viewportMaximum||(b=this.getPixelCoordinatesOnAxis(a.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,d=1==this.ctx.lineWidth%2?.5+(b.y<<0):b.y<<0,this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,d),this.ctx.lineTo(b.x-this.tickLength<<0,d),this.ctx.stroke()),f&&0!=(g++)%2&&this.labelAutoFit||(0===this.labelAngle?(a.textBlock.y=b.y,a.textBlock.x="inside"===this.labelPlacement?b.x+("inside"===this.tickPlacement?this.tickLength:0)+5:b.x-a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5):(a.textBlock.y="inside"===this.labelPlacement?b.y:b.y-a.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),a.textBlock.x="inside"===this.labelPlacement?b.x+("inside"===this.tickPlacement?this.tickLength:0)+5:0<this.labelAngle?b.x-a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5:b.x-a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(a.textBlock.height-a.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength))));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",function(){for(c=0;c<m._labels.length;c++)if(!((a=m._labels[c]).position<m.viewportMinimum||a.position>m.viewportMaximum)&&(b=m.getPixelCoordinatesOnAxis(a.position),m.tickThickness)){m.ctx.lineWidth=m.tickThickness,m.ctx.strokeStyle=m.tickColor;var d=1==m.ctx.lineWidth%2?.5+(b.y<<0):b.y<<0;m.ctx.save(),m.ctx.beginPath(),m.ctx.moveTo(b.x<<0,d),m.ctx.lineTo(b.x+m.tickLength<<0,d),m.ctx.stroke(),m.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(c=0;c<this._labels.length;c++)(a=this._labels[c]).position<this.viewportMinimum||a.position>this.viewportMaximum||(b=this.getPixelCoordinatesOnAxis(a.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,d=1==this.ctx.lineWidth%2?.5+(b.y<<0):b.y<<0,this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,d),this.ctx.lineTo(b.x+this.tickLength<<0,d),this.ctx.stroke()),f&&0!=(g++)%2&&this.labelAutoFit||(0===this.labelAngle?(a.textBlock.y=b.y,a.textBlock.x="inside"===this.labelPlacement?b.x-a.textBlock.width-("inside"===this.tickPlacement?this.tickLength:0)-5:b.x+("inside"===this.tickPlacement?0:this.tickLength)+5):(a.textBlock.y="inside"===this.labelPlacement?b.y-a.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?b.y:b.y-(a.textBlock.height-a.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),a.textBlock.x="inside"===this.labelPlacement?b.x-a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?this.tickLength:0)-5:0<this.labelAngle?b.x+(a.textBlock.height-a.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?0:this.tickLength):b.x+("inside"===this.tickPlacement?0:this.tickLength)+5)));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationEnd",function(){for(c=0;c<m._labels.length;c++)if(!((a=m._labels[c]).position<m.viewportMinimum||a.position>m.viewportMaximum)&&(b=m.getPixelCoordinatesOnAxis(a.position),m.tickThickness)){m.ctx.lineWidth=m.tickThickness,m.ctx.strokeStyle=m.tickColor;var d=1==m.ctx.lineWidth%2?.5+(b.y<<0):b.y<<0;m.ctx.save(),m.ctx.beginPath(),m.ctx.moveTo(b.x<<0,d),m.ctx.lineTo(b.x-m.tickLength<<0,d),m.ctx.stroke(),m.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(g=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationEnd",function(){for(c=0;c<m._labels.length;c++)(a=m._labels[c]).position<m.viewportMinimum||a.position>m.viewportMaximum||f&&0!=(g++)%2&&m.labelAutoFit||(m.ctx.save(),m.ctx.beginPath(),a.textBlock.render(!0),m.ctx.restore())},this);else for(c=0;c<this._labels.length;c++)(a=this._labels[c]).position<this.viewportMinimum||a.position>this.viewportMaximum||f&&0!=(g++)%2&&this.labelAutoFit||a.textBlock.render(!0)},b.prototype.renderInterlacedColors=function(){var a,c,e=this.chart.plotArea.ctx,d=this.chart.plotArea,b=0;if(a=!0,("bottom"===this._position||"top"===this._position)&&this.interlacedColor)for(e.fillStyle=this.interlacedColor,b=0;b<this._labels.length;b++)a?(a=this.getPixelCoordinatesOnAxis(this._labels[b].position),c=b+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[b+1].position),e.fillRect(Math.min(c.x,a.x),d.y1,Math.abs(c.x-a.x),Math.abs(d.y1-d.y2)),a=!1):a=!0;else if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(e.fillStyle=this.interlacedColor,b=0;b<this._labels.length;b++)a?(c=this.getPixelCoordinatesOnAxis(this._labels[b].position),a=b+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[b+1].position),e.fillRect(d.x1,Math.min(c.y,a.y),Math.abs(d.x1-d.x2),Math.abs(a.y-c.y)),a=!1):a=!0;e.beginPath()},b.prototype.renderStripLinesOfThicknessType=function(b){if(this.stripLines&&0<this.stripLines.length&&b){var a,j=this,c=0,k=0,i=!1,f=!1,h=[],g=[];for(f=!1,c=0;c<this.stripLines.length;c++){var l,m,n,d=this.stripLines[c];d._thicknessType===b&&("pixel"===b&&(d.value<this.viewportMinimum||d.value>this.viewportMaximum||null==d.value||isNaN(this.range))||"value"===b&&(d.startValue<=this.viewportMinimum&&d.endValue<=this.viewportMinimum||d.startValue>=this.viewportMaximum&&d.endValue>=this.viewportMaximum||null==d.startValue||null==d.endValue||isNaN(this.range))||h.push(d))}for(c=0;c<this._stripLineLabels.length;c++)if(d=this.stripLines[c],!((a=this._stripLineLabels[c]).position<this.viewportMinimum||a.position>this.viewportMaximum||isNaN(this.range))){if(b=this.getPixelCoordinatesOnAxis(a.position),"outside"===a.stripLine.labelPlacement){if(d&&(this.ctx.strokeStyle=d.color,"pixel"===d._thicknessType&&(this.ctx.lineWidth=d.thickness)),"bottom"===this._position){var o,p,q,r,s,t,u,v,e=1==this.ctx.lineWidth%2?.5+(b.x<<0):b.x<<0;this.ctx.beginPath(),this.ctx.moveTo(e,b.y<<0),this.ctx.lineTo(e,b.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(b.x-=a.textBlock.width/2,b.y+=this.tickLength+a.textBlock.fontSize/2+5):(b.x-=0>this.labelAngle?a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,b.y+=this.tickLength+Math.abs(0>this.labelAngle?a.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(e=1==this.ctx.lineWidth%2?.5+(b.x<<0):b.x<<0,this.ctx.beginPath(),this.ctx.moveTo(e,b.y<<0),this.ctx.lineTo(e,b.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(b.x-=a.textBlock.width/2,b.y-=this.tickLength+a.textBlock.height-a.textBlock.fontSize/2):(b.x+=(a.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),b.y-=this.tickLength+(a.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?a.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(e=1==this.ctx.lineWidth%2?.5+(b.y<<0):b.y<<0,this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,e),this.ctx.lineTo(b.x-this.tickLength<<0,e),this.ctx.stroke(),0===this.labelAngle?b.x=b.x-a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(b.y-=a.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),b.x=0<this.labelAngle?b.x-a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:b.x-a.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(a.textBlock.height-a.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(e=1==this.ctx.lineWidth%2?.5+(b.y<<0):b.y<<0,this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,e),this.ctx.lineTo(b.x+this.tickLength<<0,e),this.ctx.stroke(),0===this.labelAngle?b.x=b.x+this.tickLength+5:(b.y=0>this.labelAngle?b.y:b.y-(a.textBlock.height-a.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),b.x=0<this.labelAngle?b.x+(a.textBlock.height-a.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:b.x+this.tickLength+5))}else a.textBlock.angle=-90,"bottom"===this._position?(a.textBlock.maxWidth=this.options.stripLines[c].labelMaxWidth?this.options.stripLines[c].labelMaxWidth:this.chart.plotArea.height-3,a.textBlock.measureText(),b.x-a.textBlock.height>this.chart.plotArea.x1?null==d.startValue?b.x-=a.textBlock.height-a.textBlock.fontSize/2:b.x-=a.textBlock.height/2-a.textBlock.fontSize/2+3:(a.textBlock.angle=90,null==d.startValue?b.x+=a.textBlock.height-a.textBlock.fontSize/2:b.x+=a.textBlock.height/2-a.textBlock.fontSize/2+3),b.y=-90===a.textBlock.angle?"near"===a.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===a.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+a.textBlock.width)/2:this.chart.plotArea.y1+a.textBlock.width+3:"near"===a.stripLine.labelAlign?this.chart.plotArea.y2-a.textBlock.width-3:"center"===a.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-a.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(a.textBlock.maxWidth=this.options.stripLines[c].labelMaxWidth?this.options.stripLines[c].labelMaxWidth:this.chart.plotArea.height-3,a.textBlock.measureText(),b.x-a.textBlock.height>this.chart.plotArea.x1?null==d.startValue?b.x-=a.textBlock.height-a.textBlock.fontSize/2:b.x-=a.textBlock.height/2-a.textBlock.fontSize/2+3:(a.textBlock.angle=90,null==d.startValue?b.x+=a.textBlock.height-a.textBlock.fontSize/2:b.x+=a.textBlock.height/2-a.textBlock.fontSize/2+3),b.y=-90===a.textBlock.angle?"near"===a.stripLine.labelAlign?this.chart.plotArea.y1+a.textBlock.width+3:"center"===a.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+a.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===a.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===a.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-a.textBlock.width)/2:this.chart.plotArea.y2-a.textBlock.width-3):"left"===this._position?(a.textBlock.maxWidth=this.options.stripLines[c].labelMaxWidth?this.options.stripLines[c].labelMaxWidth:this.chart.plotArea.width-3,a.textBlock.angle=0,a.textBlock.measureText(),b.y-a.textBlock.height>this.chart.plotArea.y1?null==d.startValue?b.y-=a.textBlock.height-a.textBlock.fontSize/2:b.y-=a.textBlock.height/2-a.textBlock.fontSize+3:b.y-a.textBlock.height<this.chart.plotArea.y2?b.y+=a.textBlock.fontSize/2+3:null==d.startValue?b.y-=a.textBlock.height-a.textBlock.fontSize/2:b.y-=a.textBlock.height/2-a.textBlock.fontSize+3,b.x="near"===a.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===a.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-a.textBlock.width/2:this.chart.plotArea.x2-a.textBlock.width-3):"right"===this._position&&(a.textBlock.maxWidth=this.options.stripLines[c].labelMaxWidth?this.options.stripLines[c].labelMaxWidth:this.chart.plotArea.width-3,a.textBlock.angle=0,a.textBlock.measureText(),b.y- +a.textBlock.height>this.chart.plotArea.y1?null==d.startValue?b.y-=a.textBlock.height-a.textBlock.fontSize/2:b.y-=a.textBlock.height/2-a.textBlock.fontSize/2-3:b.y-a.textBlock.height<this.chart.plotArea.y2?b.y+=a.textBlock.fontSize/2+3:null==d.startValue?b.y-=a.textBlock.height-a.textBlock.fontSize/2:b.y-=a.textBlock.height/2-a.textBlock.fontSize/2+3,b.x="near"===a.stripLine.labelAlign?this.chart.plotArea.x2-a.textBlock.width-3:"center"===a.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-a.textBlock.width/2:this.chart.plotArea.x1+3);a.textBlock.x=b.x,a.textBlock.y=b.y,g.push(a)}if(!f){for(f=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),c=0;c<h.length;c++)(d=h[c]).showOnTop?i||(i=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),k=0;k<h.length;k++)(d=h[k]).showOnTop&&d.render();this.ctx.restore()},d)):d.render();for(c=0;c<g.length;c++)(a=g[c]).stripLine.showOnTop?f||(f=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(k=0;k<g.length;k++)"inside"===(a=g[k]).stripLine.labelPlacement&&a.stripLine.showOnTop&&(j.ctx.save(),j.ctx.beginPath(),j.ctx.rect(j.chart.plotArea.x1,j.chart.plotArea.y1,j.chart.plotArea.width,j.chart.plotArea.height),j.ctx.clip(),a.textBlock.render(!0),j.ctx.restore())},a.textBlock)):"inside"===a.stripLine.labelPlacement&&a.textBlock.render(!0);this.ctx.restore(),f=!0}if(f)for(f=!1,c=0;c<g.length;c++)"outside"===(a=g[c]).stripLine.labelPlacement&&a.textBlock.render(!0)}},b.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},b.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var b=this.scaleBreaks._appliedBreaks;f?(this.maskCanvas=U(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var a=0;a<b.length;a++)b[a].endValue<this.viewportMinimum||b[a].startValue>this.viewportMaximum||isNaN(this.range)||b[a].render(this.maskCtx);this.maskCtx.restore()}},b.prototype.renderCrosshair=function(a,b){isFinite(this.minimum)&&isFinite(this.maximum)&&(this.crosshair.render(a,b),this.crosshair.dispatchEvent("updated",{chart:this.chart,crosshair:this.options,axis:this,value:this.crosshair.value},this))},b.prototype.showCrosshair=function(a){var b;null==a||a<this.viewportMinimum||a>this.viewportMaximum||("top"===this._position||"bottom"===this._position?this.crosshair.render(this.convertValueToPixel(a),null,a):this.crosshair.render(null,this.convertValueToPixel(a),a))},b.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var a=this.chart.ctx;a.save();var b,d=this.chart.plotArea;if(a.lineWidth=this.gridThickness,a.strokeStyle=this.gridColor,a.setLineDash&&a.setLineDash(P(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(c=0;c<this._labels.length;c++)this._labels[c].position<this.viewportMinimum||this._labels[c].position>this.viewportMaximum||this._labels[c].breaksLabelType||(a.beginPath(),b=this.getPixelCoordinatesOnAxis(this._labels[c].position),b=1==a.lineWidth%2?.5+(b.x<<0):b.x<<0,a.moveTo(b,d.y1<<0),a.lineTo(b,d.y2<<0),a.stroke());else if("left"===this._position||"right"===this._position)for(var c=0;c<this._labels.length;c++)this._labels[c].position<this.viewportMinimum||this._labels[c].position>this.viewportMaximum||this._labels[c].breaksLabelType||(a.beginPath(),b=this.getPixelCoordinatesOnAxis(this._labels[c].position),b=1==a.lineWidth%2?.5+(b.y<<0):b.y<<0,a.moveTo(d.x1<<0,b),a.lineTo(d.x2<<0,b),a.stroke());a.restore()}},b.prototype.renderAxisLine=function(){var j,k,b,e,i=this.chart.ctx,a=f?this.chart._preRenderCtx:i,g=Math.ceil(this.tickThickness/(this.reversed?-2:2)),h=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(a.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(b=this.lineCoordinates.x2,e=this.lineCoordinates.x1):(b=this.lineCoordinates.x1,e=this.lineCoordinates.x2),a.lineWidth=this.lineThickness,a.strokeStyle=this.lineColor?this.lineColor:"black",a.setLineDash&&a.setLineDash(P(this.lineDashType,this.lineThickness));var l,m,c=1==this.lineThickness%2?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(a.beginPath(),this.scaleBreaks&&null!=this.scaleBreaks.firstBreakIndex){if(null==this.scaleBreaks.lastBreakIndex)b=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+h;else for(var d=this.scaleBreaks.firstBreakIndex;d<=this.scaleBreaks.lastBreakIndex;d++)a.moveTo(b,c),a.lineTo(this.scaleBreaks._appliedBreaks[d].startPixel+g,c),b=this.scaleBreaks._appliedBreaks[d].endPixel+h}b&&(a.moveTo(b,c),a.lineTo(e,c)),a.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(b=this.lineCoordinates.y1,e=this.lineCoordinates.y2):(b=this.lineCoordinates.y2,e=this.lineCoordinates.y1),a.lineWidth=this.lineThickness,a.strokeStyle=this.lineColor,a.setLineDash&&a.setLineDash(P(this.lineDashType,this.lineThickness)),c=1==this.lineThickness%2?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0,a.beginPath(),this.scaleBreaks&&null!=this.scaleBreaks.firstBreakIndex){if(null==this.scaleBreaks.lastBreakIndex)b=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+g;else for(d=this.scaleBreaks.firstBreakIndex;d<=this.scaleBreaks.lastBreakIndex;d++)a.moveTo(c,b),a.lineTo(c,this.scaleBreaks._appliedBreaks[d].startPixel+h),b=this.scaleBreaks._appliedBreaks[d].endPixel+g}b&&(a.moveTo(c,b),a.lineTo(c,e)),a.stroke()}f&&(i.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),a.clearRect(0,0,this.chart.width,this.chart.height)),a.restore()},b.prototype.getPixelCoordinatesOnAxis=function(b){var a={};return"bottom"!==this._position&&"top"!==this._position||(a.x=this.convertValueToPixel(b),a.y=this.lineCoordinates.y1),"left"!==this._position&&"right"!==this._position||(a.y=this.convertValueToPixel(b),a.x=this.lineCoordinates.x2),a},b.prototype.convertPixelToValue=function(d){if(void 0===d)return null;var c,e=0,a=0,b=(e=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);if(a="number"==typeof d?d:"left"===this._position||"right"===this._position?d.y:d.x,this.logarithmic){if(d=c=Math.pow(this.logarithmBase,(a-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),a<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(a=0;a<b.length;a++)if(!(b[a].endValue<this.conversionParameters.minimum)){if(e){if(b[a].startValue<this.conversionParameters.minimum){if(1<b[a].size&&this.conversionParameters.minimum*Math.pow(b[a].endValue/b[a].startValue,Math.log(c)/Math.log(b[a].size))<b[a].endValue){d=Math.pow(b[a].endValue/b[a].startValue,Math.log(c)/Math.log(b[a].size));break}d*=b[a].endValue/this.conversionParameters.minimum/Math.pow(b[a].size,Math.log(b[a].endValue/this.conversionParameters.minimum)/Math.log(b[a].endValue/b[a].startValue)),c/=Math.pow(b[a].size,Math.log(b[a].endValue/this.conversionParameters.minimum)/Math.log(b[a].endValue/b[a].startValue)),e=!1}else{if(!(c>b[a].startValue/this.conversionParameters.minimum))break;if((c/=b[a].startValue/this.conversionParameters.minimum)<b[a].size){d*=Math.pow(b[a].endValue/b[a].startValue,1===b[a].size?1:Math.log(c)/Math.log(b[a].size))/c;break}d*=b[a].endValue/b[a].startValue/b[a].size,c/=b[a].size,e=!1}}else{if(!(c>b[a].startValue/b[a-1].endValue))break;if((c/=b[a].startValue/b[a-1].endValue)<b[a].size){d*=Math.pow(b[a].endValue/b[a].startValue,1===b[a].size?1:Math.log(c)/Math.log(b[a].size))/c;break}d*=b[a].endValue/b[a].startValue/b[a].size,c/=b[a].size}}}else for(a=b.length-1;0<=a;a--)if(!(b[a].startValue>this.conversionParameters.minimum)){if(e){if(b[a].endValue>this.conversionParameters.minimum){if(1<b[a].size&&this.conversionParameters.minimum*Math.pow(b[a].endValue/b[a].startValue,Math.log(c)/Math.log(b[a].size))>b[a].startValue){d=Math.pow(b[a].endValue/b[a].startValue,Math.log(c)/Math.log(b[a].size));break}d*=b[a].startValue/this.conversionParameters.minimum*Math.pow(b[a].size,Math.log(b[a].startValue/this.conversionParameters.minimum)/Math.log(b[a].endValue/b[a].startValue))*c,c*=Math.pow(b[a].size,Math.log(this.conversionParameters.minimum/b[a].startValue)/Math.log(b[a].endValue/b[a].startValue)),e=!1}else{if(!(c<b[a].endValue/this.conversionParameters.minimum))break;if((c/=b[a].endValue/this.conversionParameters.minimum)>1/b[a].size){d*=Math.pow(b[a].endValue/b[a].startValue,1>=b[a].size?1:Math.log(c)/Math.log(b[a].size))*c;break}d/=b[a].endValue/b[a].startValue/b[a].size,c*=b[a].size,e=!1}}else{if(!(c<b[a].endValue/b[a+1].startValue))break;if((c/=b[a].endValue/b[a+1].startValue)>1/b[a].size){d*=Math.pow(b[a].endValue/b[a].startValue,1>=b[a].size?1:Math.log(c)/Math.log(b[a].size))*c;break}d/=b[a].endValue/b[a].startValue/b[a].size,c*=b[a].size}}e=d*this.viewportMinimum}else{if(d=c=(a-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,a<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(a=0;a<b.length;a++)if(!(b[a].endValue<this.conversionParameters.minimum)){if(e){if(b[a].startValue<this.conversionParameters.minimum){if(b[a].size&&this.conversionParameters.minimum+c*(b[a].endValue-b[a].startValue)/b[a].size<b[a].endValue){d=0>=b[a].size?0:c*(b[a].endValue-b[a].startValue)/b[a].size;break}d+=b[a].endValue-this.conversionParameters.minimum-b[a].size*(b[a].endValue-this.conversionParameters.minimum)/(b[a].endValue-b[a].startValue),c-=b[a].size*(b[a].endValue-this.conversionParameters.minimum)/(b[a].endValue-b[a].startValue),e=!1}else{if(!(c>b[a].startValue-this.conversionParameters.minimum))break;if((c-=b[a].startValue-this.conversionParameters.minimum)<b[a].size){d+=(b[a].endValue-b[a].startValue)*(0===b[a].size?1:c/b[a].size)-c;break}d+=b[a].endValue-b[a].startValue-b[a].size,c-=b[a].size,e=!1}}else{if(!(c>b[a].startValue-b[a-1].endValue))break;if((c-=b[a].startValue-b[a-1].endValue)<b[a].size){d+=(b[a].endValue-b[a].startValue)*(0===b[a].size?1:c/b[a].size)-c;break}d+=b[a].endValue-b[a].startValue-b[a].size,c-=b[a].size}}}else for(a=b.length-1;0<=a;a--)if(!(b[a].startValue>this.conversionParameters.minimum)){if(e){if(b[a].endValue>this.conversionParameters.minimum){if(b[a].size&&this.conversionParameters.minimum+c*(b[a].endValue-b[a].startValue)/b[a].size>b[a].startValue){d=0>=b[a].size?0:c*(b[a].endValue-b[a].startValue)/b[a].size;break}d+=b[a].startValue-this.conversionParameters.minimum+b[a].size*(this.conversionParameters.minimum-b[a].startValue)/(b[a].endValue-b[a].startValue),c+=b[a].size*(this.conversionParameters.minimum-b[a].startValue)/(b[a].endValue-b[a].startValue),e=!1}else{if(!(c<b[a].endValue-this.conversionParameters.minimum))break;if((c-=b[a].endValue-this.conversionParameters.minimum)> -1*b[a].size){d+=(b[a].endValue-b[a].startValue)*(0===b[a].size?1:c/b[a].size)+c;break}d-=b[a].endValue-b[a].startValue-b[a].size,c+=b[a].size,e=!1}}else{if(!(c<b[a].endValue-b[a+1].startValue))break;if((c-=b[a].endValue-b[a+1].startValue)> -1*b[a].size){d+=(b[a].endValue-b[a].startValue)*(0===b[a].size?1:c/b[a].size)+c;break}d-=b[a].endValue-b[a].startValue-b[a].size,c+=b[a].size}}e=this.conversionParameters.minimum+d}return e},b.prototype.convertValueToPixel=function(a){return a=this.getApparentDifference(this.conversionParameters.minimum,a,a),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(a/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(a-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(a-this.conversionParameters.minimum)+.5},b.prototype.getApparentDifference=function(d,e,c,f){var g,h,b=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){c=null==c?e/d:c;for(var a=0;a<b.length&&!(e<b[a].startValue);a++)d>b[a].endValue||(d<=b[a].startValue&&e>=b[a].endValue?c=c/b[a].endValue*b[a].startValue*b[a].size:d>=b[a].startValue&&e>=b[a].endValue?c=c/b[a].endValue*d*Math.pow(b[a].size,Math.log(b[a].endValue/d)/Math.log(b[a].endValue/b[a].startValue)):d<=b[a].startValue&&e<=b[a].endValue?c=c/e*b[a].startValue*Math.pow(b[a].size,Math.log(e/b[a].startValue)/Math.log(b[a].endValue/b[a].startValue)):!f&&d>b[a].startValue&&e<b[a].endValue&&(c=d*Math.pow(b[a].size,Math.log(e/d)/Math.log(b[a].endValue/b[a].startValue))))}else for(c=null==c?Math.abs(e-d):c,a=0;a<b.length&&!(e<b[a].startValue);a++)d>b[a].endValue||(d<=b[a].startValue&&e>=b[a].endValue?c=c-b[a].endValue+b[a].startValue+b[a].size:d>b[a].startValue&&e>=b[a].endValue?c=c-b[a].endValue+d+b[a].size*(b[a].endValue-d)/(b[a].endValue-b[a].startValue):d<=b[a].startValue&&e<b[a].endValue?c=c-e+b[a].startValue+b[a].size*(e-b[a].startValue)/(b[a].endValue-b[a].startValue):!f&&d>b[a].startValue&&e<b[a].endValue&&(c=d+b[a].size*(e-d)/(b[a].endValue-b[a].startValue)));return c},b.prototype.setViewPortRange=function(a,b){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(a,b),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(a,b)},b.prototype.getXValueAt=function(a){if(!a)return null;var b=null;return"left"===this._position?b=this.convertPixelToValue(a.y):"bottom"===this._position&&(b=this.convertPixelToValue(a.x)),b},b.prototype.calculateValueToPixelConversionParameters=function(b){b=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var e={pixelPerUnit:null,minimum:null,reference:null},c=this.lineCoordinates.width,d=this.lineCoordinates.height;if(c="bottom"===this._position||"top"===this._position?c:d,d=Math.abs(this.range),this.logarithmic)for(var a=0;a<b.length&&!(this.viewportMaximum<b[a].startValue);a++)this.viewportMinimum>b[a].endValue||(this.viewportMinimum>=b[a].startValue&&this.viewportMaximum<=b[a].endValue?c=0:this.viewportMinimum<=b[a].startValue&&this.viewportMaximum>=b[a].endValue?(d=d/b[a].endValue*b[a].startValue,c=0<b[a].spacing.toString().indexOf("%")?c*(1-parseFloat(b[a].spacing)/100):c-Math.min(b[a].spacing,.1*c)):this.viewportMinimum>b[a].startValue&&this.viewportMaximum>=b[a].endValue?(d=d/b[a].endValue*this.viewportMinimum,c=0<b[a].spacing.toString().indexOf("%")?c*(1-parseFloat(b[a].spacing)/100*Math.log(b[a].endValue/this.viewportMinimum)/Math.log(b[a].endValue/b[a].startValue)):c-Math.min(b[a].spacing,.1*c)*Math.log(b[a].endValue/this.viewportMinimum)/Math.log(b[a].endValue/b[a].startValue)):this.viewportMinimum<=b[a].startValue&&this.viewportMaximum<b[a].endValue&&(d=d/this.viewportMaximum*b[a].startValue,c=0<b[a].spacing.toString().indexOf("%")?c*(1-parseFloat(b[a].spacing)/100*Math.log(this.viewportMaximum/b[a].startValue)/Math.log(b[a].endValue/b[a].startValue)):c-Math.min(b[a].spacing,.1*c)*Math.log(this.viewportMaximum/b[a].startValue)/Math.log(b[a].endValue/b[a].startValue)));else for(a=0;a<b.length&&!(this.viewportMaximum<b[a].startValue);a++)this.viewportMinimum>b[a].endValue||(this.viewportMinimum>=b[a].startValue&&this.viewportMaximum<=b[a].endValue?c=0:this.viewportMinimum<=b[a].startValue&&this.viewportMaximum>=b[a].endValue?(d=d-b[a].endValue+b[a].startValue,c=0<b[a].spacing.toString().indexOf("%")?c*(1-parseFloat(b[a].spacing)/100):c-Math.min(b[a].spacing,.1*c)):this.viewportMinimum>b[a].startValue&&this.viewportMaximum>=b[a].endValue?(d=d-b[a].endValue+this.viewportMinimum,c=0<b[a].spacing.toString().indexOf("%")?c*(1-parseFloat(b[a].spacing)/100*(b[a].endValue-this.viewportMinimum)/(b[a].endValue-b[a].startValue)):c-Math.min(b[a].spacing,.1*c)*(b[a].endValue-this.viewportMinimum)/(b[a].endValue-b[a].startValue)):this.viewportMinimum<=b[a].startValue&&this.viewportMaximum<b[a].endValue&&(d=d-this.viewportMaximum+b[a].startValue,c=0<b[a].spacing.toString().indexOf("%")?c*(1-parseFloat(b[a].spacing)/100*(this.viewportMaximum-b[a].startValue)/(b[a].endValue-b[a].startValue)):c-Math.min(b[a].spacing,.1*c)*(this.viewportMaximum-b[a].startValue)/(b[a].endValue-b[a].startValue)));e.minimum=this.viewportMinimum,e.maximum=this.viewportMaximum,e.range=d,"bottom"!==this._position&&"top"!==this._position||(this.logarithmic?(e.lnLogarithmBase=Math.log(this.logarithmBase),e.pixelPerUnit=(this.reversed?-1:1)*c*e.lnLogarithmBase/Math.log(Math.abs(d))):e.pixelPerUnit=(this.reversed?-1:1)*c/Math.abs(d),e.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),"left"!==this._position&&"right"!==this._position||(this.logarithmic?(e.lnLogarithmBase=Math.log(this.logarithmBase),e.pixelPerUnit=(this.reversed?1:-1)*c*e.lnLogarithmBase/Math.log(Math.abs(d))):e.pixelPerUnit=(this.reversed?1:-1)*c/Math.abs(d),e.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=e},b.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var i,j,k,l,m,n,o,p,c,d,f,e=this.chart.layoutManager.getFreeSpace(),h=!1,g=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=e.width,this.maxHeight=e.height):(this.maxWidth=e.height,this.maxHeight=e.width),e="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var q,r,s,t,u,v,a=4;if("axisX"===this.type&&(a=600>this.maxWidth?8:6),e=Math.max(a,Math.floor(this.maxWidth/e)),a=0,null!=this.options.viewportMinimum&&null!=this.options.viewportMaximum&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),null!=this.options.viewportMinimum||null==this.sessionVariables.newViewportMinimum||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,null!=this.options.viewportMaximum||null==this.sessionVariables.newViewportMaximum||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks){for(a=0;a<this.scaleBreaks._appliedBreaks.length;a++)if((null!=this.sessionVariables.newViewportMinimum&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue||null!=this.options.minimum&&this.options.minimum>=this.scaleBreaks._appliedBreaks[a].startValue||null!=this.options.viewportMinimum&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue)&&(null!=this.sessionVariables.newViewportMaximum&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue||null!=this.options.maximum&&this.options.maximum<=this.scaleBreaks._appliedBreaks[a].endValue||null!=this.options.viewportMaximum&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue)){this.scaleBreaks._appliedBreaks.splice(a,1);break}}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(c=0;c<this.dataSeries.length;c++)"dateTime"===this.dataSeries[c].xValueType&&(g=!0);c=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,0==(d=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-c&&(d+=a=void 0===this.options.interval?.4:this.options.interval,c-=a),1/0!==this.dataInfo.minDiff?f=this.dataInfo.minDiff:1<d-c?f=.5*Math.abs(d-c):(f=1,g&&(h=!0))}else"axisY"===this.type&&(c=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,d=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(c)||isFinite(d)?isFinite(c)?isFinite(d)||(d=c):c=d:(d=void 0===this.options.interval?-1/0:this.options.interval,c=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),0===c&&0===d?(d+=9,c=0):0==d-c?(d+=a=Math.min(Math.abs(.01*Math.abs(d)),5),c-=a):c>d?(a=Math.min(.01*Math.abs(this.getApparentDifference(d,c,null,!0)),5),0<=d?c=d-a:d=isFinite(c)?c+a:0):(a=Math.min(.01*Math.abs(this.getApparentDifference(c,d,null,!0)),.05),0!==d&&(d+=a),0!==c&&(c-=a)),f=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<d-c?.5*Math.abs(d-c):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<c&&(c=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>d&&(d=0));a=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?c:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?d:this.viewportMaximum,null,!0),"axisX"===this.type&&g?(this.intervalType||(a/1<=e?(this.interval=1,this.intervalType="millisecond"):a/2<=e?(this.interval=2,this.intervalType="millisecond"):a/5<=e?(this.interval=5,this.intervalType="millisecond"):a/10<=e?(this.interval=10,this.intervalType="millisecond"):a/20<=e?(this.interval=20,this.intervalType="millisecond"):a/50<=e?(this.interval=50,this.intervalType="millisecond"):a/100<=e?(this.interval=100,this.intervalType="millisecond"):a/200<=e?(this.interval=200,this.intervalType="millisecond"):a/250<=e?(this.interval=250,this.intervalType="millisecond"):a/300<=e?(this.interval=300,this.intervalType="millisecond"):a/400<=e?(this.interval=400,this.intervalType="millisecond"):a/500<=e?(this.interval=500,this.intervalType="millisecond"):a/(1*ag.secondDuration)<=e?(this.interval=1,this.intervalType="second"):a/(2*ag.secondDuration)<=e?(this.interval=2,this.intervalType="second"):a/(5*ag.secondDuration)<=e?(this.interval=5,this.intervalType="second"):a/(10*ag.secondDuration)<=e?(this.interval=10,this.intervalType="second"):a/(15*ag.secondDuration)<=e?(this.interval=15,this.intervalType="second"):a/(20*ag.secondDuration)<=e?(this.interval=20,this.intervalType="second"):a/(30*ag.secondDuration)<=e?(this.interval=30,this.intervalType="second"):a/(1*ag.minuteDuration)<=e?(this.interval=1,this.intervalType="minute"):a/(2*ag.minuteDuration)<=e?(this.interval=2,this.intervalType="minute"):a/(5*ag.minuteDuration)<=e?(this.interval=5,this.intervalType="minute"):a/(10*ag.minuteDuration)<=e?(this.interval=10,this.intervalType="minute"):a/(15*ag.minuteDuration)<=e?(this.interval=15,this.intervalType="minute"):a/(20*ag.minuteDuration)<=e?(this.interval=20,this.intervalType="minute"):a/(30*ag.minuteDuration)<=e?(this.interval=30,this.intervalType="minute"):a/(1*ag.hourDuration)<=e?(this.interval=1,this.intervalType="hour"):a/(2*ag.hourDuration)<=e?(this.interval=2,this.intervalType="hour"):a/(3*ag.hourDuration)<=e?(this.interval=3,this.intervalType="hour"):a/(6*ag.hourDuration)<=e?(this.interval=6,this.intervalType="hour"):a/(1*ag.dayDuration)<=e?(this.interval=1,this.intervalType="day"):a/(2*ag.dayDuration)<=e?(this.interval=2,this.intervalType="day"):a/(4*ag.dayDuration)<=e?(this.interval=4,this.intervalType="day"):a/(1*ag.weekDuration)<=e?(this.interval=1,this.intervalType="week"):a/(2*ag.weekDuration)<=e?(this.interval=2,this.intervalType="week"):a/(3*ag.weekDuration)<=e?(this.interval=3,this.intervalType="week"):a/(1*ag.monthDuration)<=e?(this.interval=1,this.intervalType="month"):a/(2*ag.monthDuration)<=e?(this.interval=2,this.intervalType="month"):a/(3*ag.monthDuration)<=e?(this.interval=3,this.intervalType="month"):a/(6*ag.monthDuration)<=e?(this.interval=6,this.intervalType="month"):(this.interval=a/(1*ag.yearDuration)<=e?1:a/(2*ag.yearDuration)<=e?2:a/(4*ag.yearDuration)<=e?4:Math.floor(b.getNiceNumber(a/(e-1),!0)/ag.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=c-f/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=d+f/2),h?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.autoValueFormatString="hh:mm TT":"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",a=b.getNiceNumber(a,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:b.getNiceNumber(a/(e-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?c-f/2:Math.floor(c/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?d+f/2:Math.ceil(d/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&& void 0===this.options.interval&&(this.interval=b.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(e-1),!0)))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(c=null!==this.minimum?this.minimum:this.dataInfo.min,0==(d=null!==this.maximum?this.maximum:this.dataInfo.max)-c&&(d+=a=void 0===this.options.interval?.4:this.options.interval,c-=a),f=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<d-c?.5*Math.abs(d-c):1):"axisY"===this.type&&(c=null!==this.minimum?this.minimum:this.dataInfo.min,d=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(c)||isFinite(d)?0===c&&0===d?(d+=9,c=0):0==d-c?(d+=a=Math.min(Math.abs(.01*Math.abs(d)),5),c-=a):c>d?(a=Math.min(.01*Math.abs(this.getApparentDifference(d,c,null,!0)),5),0<=d?c=d-a:d=isFinite(c)?c+a:0):(a=Math.min(.01*Math.abs(this.getApparentDifference(c,d,null,!0)),.05),0!==d&&(d+=a),0!==c&&(c-=a)):(d=void 0===this.options.interval?-1/0:this.options.interval,c=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),f=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<d-c?.5*Math.abs(d-c):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<c&&(c=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>d&&(d=0)),this.getApparentDifference(c,d,null,!0),"axisX"===this.type&&g?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=c-f/2,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=d+f/2,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum))):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?c-f/2:Math.floor(c/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?d+f/2:Math.ceil(d/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),null==this.sessionVariables.newViewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null==this.sessionVariables.newViewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&g?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=b.generateValueFormatString(this.range,2))}},b.prototype.calculateLogarithmicAxisParameters=function(){var a,c,g,d,h,f=this.chart.layoutManager.getFreeSpace(),e=Math.log(this.logarithmBase);if("bottom"===this._position||"top"===this._position?(this.maxWidth=f.width,this.maxHeight=f.height):(this.maxWidth=f.height,this.maxHeight=f.width),f="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),d=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks){for(d=0;d<this.scaleBreaks._appliedBreaks.length;d++)if((null!=this.sessionVariables.newViewportMinimum&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[d].startValue||null!=this.options.minimum&&this.options.minimum>=this.scaleBreaks._appliedBreaks[d].startValue||null!=this.options.viewportMinimum&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[d].startValue)&&(null!=this.sessionVariables.newViewportMaximum&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[d].endValue||null!=this.options.maximum&&this.options.maximum<=this.scaleBreaks._appliedBreaks[d].endValue||null!=this.options.viewportMaximum&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[d].endValue)){this.scaleBreaks._appliedBreaks.splice(d,1);break}}"axisX"===this.type?(a=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,1==(c=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/a&&(c*=d=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),a/=d),g=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:c/a>this.logarithmBase?c/a*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(a=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,c=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=a&&!isFinite(c)?(c=void 0===this.options.interval?0:this.options.interval,a=1):0>=a?a=c:isFinite(c)||(c=a),1===a&&1===c?(c*=this.logarithmBase-1/this.logarithmBase,a=1):1==c/a?(c*=d=Math.min(c*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),a/=d):a>c?(d=Math.min(a/c*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=c?a=c/d:c=a*d):(d=Math.min(c/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==c&&(c*=d),1!==a&&(a/=d)),g=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:c/a>this.logarithmBase?c/a*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<a&&(a=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>c&&(c=1)),d=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?c:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?a:this.viewportMinimum);var j,k,l,m,n,o,p,q,i=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?c:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?a:this.viewportMinimum);if(this.intervalType="number",d=Math.pow(this.logarithmBase,b.getNiceNumber(Math.abs(Math.log(d)/e),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=b.getNiceExponent(Math.log(d)/e/(f-1),!0),h=b.getNiceNumber(i/(f-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?a/Math.sqrt(g):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(a)/e/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?c*Math.sqrt(g):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(c)/e/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&& void 0===this.options.interval&&(this.interval=b.getNiceExponent(Math.ceil(Math.log(d)/e)/(f-1)),h=b.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(f-1),!0))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(a=null!==this.minimum?this.minimum:this.dataInfo.min,1==(c=null!==this.maximum?this.maximum:this.dataInfo.max)/a&&(c*=d=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),a/=d),g=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:c/a>this.logarithmBase?c/a*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(a=null!==this.minimum?this.minimum:this.dataInfo.min,c=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(a)||isFinite(c)?1===a&&1===c?(c*=this.logarithmBase,a/=this.logarithmBase):1==c/a?(c*=d=Math.pow(this.logarithmBase,this.interval),a/=d):a>c?(d=Math.min(a/c*.01,5),1<=c?a=c/d:c=a*d):(d=Math.min(c/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==c&&(c*=d),1!==a&&(a/=d)):(c=void 0===this.options.interval?0:this.options.interval,a=1),g=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:c/a>this.logarithmBase?c/a*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<a&&(a=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>c&&(c=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?a/Math.sqrt(g):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(a)/e/this.interval)),null==(null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)||(this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum))),null===this.maximum&&(this.maximum="axisX"===this.type?c*Math.sqrt(g):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(c)/e/this.interval)),null==(null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)||(this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum))),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum|| !this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),a=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(e*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=f,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>f?2:3)){for(e=Math.floor(this.viewportMinimum/h+.5)*h;e<this.viewportMinimum;)e+=h;this.equidistantInterval=!1,this.intervalStartPosition=e,this.interval=h}else this.options.interval||(h=Math.ceil(this.interval),this.range>this.interval&&(this.interval=h,a=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(e*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=a;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(!isNaN(e=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2)&&isFinite(e)||(e=2),2<e))for(d=0;d<e-2;d++)this.valueFormatString+="#"},b.generateValueFormatString=function(b,c){var d="#,##0.",a=c;1>b&&(isNaN(a+=Math.floor(Math.abs(Math.log(b)/Math.LN10)))||!isFinite(a))&&(a=c);for(var e=0;e<a;e++)d+="#";return d},b.getNiceExponent=function(c,d){var b=Math.floor(Math.log(c)/Math.LN10),a=c/Math.pow(10,b);return a=0>b?1>=a?1:5>=a?5:10:Math.max(Math.floor(a),1),-20>b?Number(a*Math.pow(10,b)):Number((a*Math.pow(10,b)).toFixed(20))},b.getNiceNumber=function(c,d){var b=Math.floor(Math.log(c)/Math.LN10),a=c/Math.pow(10,b);return a=d?1.5>a?1:3>a?2:7>a?5:10:1>=a?1:2>=a?2:5>=a?5:10,-20>b?Number(a*Math.pow(10,b)):Number((a*Math.pow(10,b)).toFixed(20))},b.prototype.getLabelStartPoint=function(){var a=ag[this.intervalType+"Duration"]*this.interval;return a=new Date(Math.floor(this.viewportMinimum/a)*a),"millisecond"!==this.intervalType&&("second"===this.intervalType?0<a.getMilliseconds()&&(a.setSeconds(a.getSeconds()+1),a.setMilliseconds(0)):"minute"===this.intervalType?(0<a.getSeconds()||0<a.getMilliseconds())&&(a.setMinutes(a.getMinutes()+1),a.setSeconds(0),a.setMilliseconds(0)):"hour"===this.intervalType?(0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setHours(a.getHours()+1),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"day"===this.intervalType?(0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setDate(a.getDate()+1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"week"===this.intervalType?(0<a.getDay()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setDate(a.getDate()+(7-a.getDay())),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"month"===this.intervalType?(1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setMonth(a.getMonth()+1),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"year"===this.intervalType&&(0<a.getMonth()||1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setFullYear(a.getFullYear()+1),a.setMonth(0),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0))),a},m(r,d),m(l,d),l.prototype.createUserOptions=function(a){if(void 0!==a||this.options._isPlaceholder){var b=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(N(this.parent[this.optionsName]),b=this.parent.options[this.optionsName].indexOf(this.options)),this.options=void 0===a?{}:a,this.parent.options[this.optionsName][b]=this.options}},l.prototype.render=function(a){if(0!==this.spacing||0!==this.options.lineThickness&&(void 0!==this.options.lineThickness||0!==this.parent.lineThickness)){var l=this.ctx,m=this.ctx.globalAlpha;this.ctx=a||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var d,i,j,b,c,k,f=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),g=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,L(this.id),a=Math.max(this.spacing,3);var h=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=h,this.ctx.setLineDash&&this.ctx.setLineDash(P(this.lineDashType,h)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(f=1==h%2?.5+(f.x<<0):f.x<<0,i=1==h%2?.5+(g.x<<0):g.x<<0,"top"===this.scaleBreaks.parent._position?(g=this.chart.plotArea.y1,j=this.chart.plotArea.y2+h/2+.5<<0):(g=this.chart.plotArea.y2,j=this.chart.plotArea.y1-h/2+.5<<0,a*=-1),this.bounds={x1:f-h/2,y1:g,x2:i+h/2,y2:j},this.ctx.moveTo(f,g),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=a||"bottom"===this.scaleBreaks.parent._position&&0<=a)this.ctx.lineTo(f,j),this.ctx.lineTo(i,j),this.ctx.lineTo(i,g);else if("wavy"===this.type){b=f,d=.5,k=(j-(c=g))/a/3;for(var e=0;e<k;e++)this.ctx.bezierCurveTo(b+d*a,c+a,b+d*a,c+2*a,b,c+3*a),c+=3*a,d*=-1;for(this.ctx.bezierCurveTo(b+d*a,c+a,b+d*a,c+2*a,b,c+3*a),b=i,d*=-1,this.ctx.lineTo(b,c),e=0;e<k;e++)this.ctx.bezierCurveTo(b+d*a,c-a,b+d*a,c-2*a,b,c-3*a),c-=3*a,d*=-1}else if("zigzag"===this.type){for(d=-1,b=f+a,k=(j-(c=g+a))/a/2,e=0;e<k;e++)this.ctx.lineTo(b,c),b+=2*d*a,c+=2*a,d*=-1;for(this.ctx.lineTo(b,c),b+=i-f,e=0;e<k+1;e++)this.ctx.lineTo(b,c),b+=2*d*a,c-=2*a,d*=-1;this.ctx.lineTo(b+d*a,c+a)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position){if(g=1==h%2?.5+(g.y<<0):g.y<<0,j=1==h%2?.5+(f.y<<0):f.y<<0,"left"===this.scaleBreaks.parent._position?(f=this.chart.plotArea.x1,i=this.chart.plotArea.x2+h/2+.5<<0):(f=this.chart.plotArea.x2,i=this.chart.plotArea.x1-h/2+.5<<0,a*=-1),this.bounds={x1:f,y1:g-h/2,x2:i,y2:j+h/2},this.ctx.moveTo(f,g),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=a||"right"===this.scaleBreaks.parent._position&&0<=a)this.ctx.lineTo(i,g),this.ctx.lineTo(i,j),this.ctx.lineTo(f,j);else if("wavy"===this.type){for(c=g,d=.5,k=(i-(b=f))/a/3,e=0;e<k;e++)this.ctx.bezierCurveTo(b+a,c+d*a,b+2*a,c+d*a,b+3*a,c),b+=3*a,d*=-1;for(this.ctx.bezierCurveTo(b+a,c+d*a,b+2*a,c+d*a,b+3*a,c),c=j,d*=-1,this.ctx.lineTo(b,c),e=0;e<k;e++)this.ctx.bezierCurveTo(b-a,c+d*a,b-2*a,c+d*a,b-3*a,c),b-=3*a,d*=-1}else if("zigzag"===this.type){for(d=1,c=g-a,k=(i-(b=f+a))/a/2,e=0;e<k;e++)this.ctx.lineTo(b,c),c+=2*d*a,b+=2*a,d*=-1;for(this.ctx.lineTo(b,c),c+=j-g,e=0;e<k+1;e++)this.ctx.lineTo(b,c),c+=2*d*a,b-=2*a,d*=-1;this.ctx.lineTo(b+a,c+d*a)}}0<h&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=m,this.ctx=l}},m(o,d),o.prototype.createUserOptions=function(a){if(void 0!==a||this.options._isPlaceholder){var b=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(N(this.parent.stripLines),b=this.parent.options.stripLines.indexOf(this.options)),this.options=void 0===a?{}:a,this.parent.options.stripLines[b]=this.options}},o.prototype.render=function(){this.ctx.save();var f=this.parent.getPixelCoordinatesOnAxis(this.value),a=Math.abs("pixel"===this._thicknessType?this.thickness:Math.abs(this.parent.convertValueToPixel(this.endValue)-this.parent.convertValueToPixel(this.startValue)));if(0<a){var g=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var b,c,d,e,h=this.ctx.globalAlpha;this.ctx.globalAlpha=g,L(this.id),this.ctx.lineWidth=a,this.ctx.setLineDash&&this.ctx.setLineDash(P(this.lineDashType,a)),"bottom"===this.parent._position||"top"===this.parent._position?(b=c=1==this.ctx.lineWidth%2?.5+(f.x<<0):f.x<<0,d=this.chart.plotArea.y1,e=this.chart.plotArea.y2,this.bounds={x1:b-a/2,y1:d,x2:c+a/2,y2:e}):"left"!==this.parent._position&&"right"!==this.parent._position||(d=e=1==this.ctx.lineWidth%2?.5+(f.y<<0):f.y<<0,b=this.chart.plotArea.x1,c=this.chart.plotArea.x2,this.bounds={x1:b,y1:d-a/2,x2:c,y2:e+a/2}),this.ctx.moveTo(b,d),this.ctx.lineTo(c,e),this.ctx.stroke(),this.ctx.globalAlpha=h}this.ctx.restore()},m(g,d),g.prototype.showAt=function(c){if(!this.enabled)return!1;var e,f,g,h,b=this.chart,d=!1;if(b.resetOverlayedCanvas(),b.clearedOverlayedCanvas=this.parent.type,this.chart.renderCrosshairs(this.parent),"xySwapped"===b.plotInfo.axisPlacement){if("bottom"===this.parent._position)for(var a=0;a<b.axisY.length;a++)this.parent===b.axisY[a]&&(b.axisY[a]._crosshairValue=c>=b.axisY[a].viewportMinimum&&c<=b.axisY[a].viewportMaximum?c:null);else if("top"===this.parent._position)for(a=0;a<b.axisY2.length;a++)this.parent===b.axisY2[a]&&(b.axisY2[a]._crosshairValue=c>=b.axisY2[a].viewportMinimum&&c<=b.axisY2[a].viewportMaximum?c:null);else if("left"===this.parent._position)for(a=0;a<b.axisX.length;a++)this.parent===b.axisX[a]&&(b.axisX[a]._crosshairValue=c>=b.axisX[a].viewportMinimum&&c<=b.axisX[a].viewportMaximum?c:null);else if("right"===this.parent._position)for(a=0;a<b.axisX2.length;a++)this.parent===b.axisX2[a]&&(b.axisX2[a]._crosshairValue=c>=b.axisX2[a].viewportMinimum&&c<=b.axisX2[a].viewportMaximum?c:null)}else if("bottom"===this.parent._position)for(a=0;a<b.axisX.length;a++)this.parent===b.axisX[a]&&(b.axisX[a]._crosshairValue=c>=b.axisX[a].viewportMinimum&&c<=b.axisX[a].viewportMaximum?c:null);else if("top"===this.parent._position)for(a=0;a<b.axisX2.length;a++)this.parent===b.axisX2[a]&&(b.axisX2[a]._crosshairValue=c>=b.axisX2[a].viewportMinimum&&c<=b.axisX2[a].viewportMaximum?c:null);else if("left"===this.parent._position)for(a=0;a<b.axisY.length;a++)this.parent===b.axisY[a]&&(b.axisY[a]._crosshairValue=c>=b.axisY[a].viewportMinimum&&c<=b.axisY[a].viewportMaximum?c:null);else if("right"===this.parent._position)for(a=0;a<b.axisY2.length;a++)this.parent===b.axisY2[a]&&(b.axisY2[a]._crosshairValue=c>=b.axisY2[a].viewportMinimum&&c<=b.axisY2[a].viewportMaximum?c:null);for(a=0;a<b.axisX.length;a++)c=b.axisX[a]._crosshairValue,b.axisX[a].crosshair&&b.axisX[a].crosshair.enabled&&null!=c&&c>=b.axisX[a].viewportMinimum&&c<=b.axisX[a].viewportMaximum&&(b.axisX[a].showCrosshair(c),b.axisX[a].crosshair._updatedValue=c,this===b.axisX[a].crosshair&&(d=!0));for(a=0;a<b.axisX2.length;a++)c=b.axisX2[a]._crosshairValue,b.axisX2[a].crosshair&&b.axisX2[a].crosshair.enabled&&null!=c&&c>=b.axisX2[a].viewportMinimum&&c<=b.axisX2[a].viewportMaximum&&(b.axisX2[a].showCrosshair(c),b.axisX2[a].crosshair._updatedValue=c,this===b.axisX2[a].crosshair&&(d=!0));for(a=0;a<b.axisY.length;a++)c=b.axisY[a]._crosshairValue,b.axisY[a].crosshair&&b.axisY[a].crosshair.enabled&&null!=c&&c>=b.axisY[a].viewportMinimum&&c<=b.axisY[a].viewportMaximum&&(b.axisY[a].showCrosshair(c),b.axisY[a].crosshair._updatedValue=c,this===b.axisY[a].crosshair&&(d=!0));for(a=0;a<b.axisY2.length;a++)c=b.axisY2[a]._crosshairValue,b.axisY2[a].crosshair&&b.axisY2[a].crosshair.enabled&&null!=c&&c>=b.axisY2[a].viewportMinimum&&c<=b.axisY2[a].viewportMaximum&&(b.axisY2[a].showCrosshair(c),b.axisY2[a].crosshair._updatedValue=c,this===b.axisY2[a].crosshair&&(d=!0));return this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),d},g.prototype.hide=function(){this.chart.resetOverlayedCanvas(),this.chart.renderCrosshairs(this.parent),this._hidden=!0},g.prototype.render=function(l,m,p){var z,A,B,C,D,E,F,G,H,j,s,t,r,v=null,u=null,a=null,d="";if(!this.valueFormatString){if("dateTime"===this.parent.valueType)this.valueFormatString=this.parent.valueFormatString;else{var q=0;q="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=b.generateValueFormatString(this.parent.range,q)}}a=null===this.opacity?1:this.opacity,q=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);var I,w,x,n=this.chart.overlaidCanvasCtx,y=n.globalAlpha;if(n.globalAlpha=a,n.beginPath(),n.strokeStyle=this.color,n.lineWidth=q,n.save(),this.labelFontSize=Math.abs(null==this.options.labelFontSize?this.parent.labelFontSize:this.labelFontSize),w=this.options.labelMaxWidth,this.labelMaxWidth=null==w?.3*this.chart.width:this.labelMaxWidth,x=this.options.labelWrap,this.labelMaxHeight=null==x||this.labelWrap?.3*this.chart.height:2*this.labelFontSize,0<q&&n.setLineDash&&n.setLineDash(P(this.lineDashType,q)),a=new k(n,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:d,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var J,K,L,M,N,O,Q,R,S,T,U,c=0;if(d=[],"xySwapped"===this.chart.plotInfo.axisPlacement){var V,W,X,Y,Z,aa,ab,e=null;"bottom"===this.parent._position||"top"===this.parent._position?c=this.parent.dataSeries[0].axisX.convertPixelToValue({y:m}):"left"!==this.parent._position&&"right"!==this.parent._position||(c=this.parent.convertPixelToValue({y:m}));for(var g=0;g<this.parent.dataSeries.length;g++)(e=this.parent.dataSeries[g].getDataPointAtX(c,!0))&&0<=e.index&&(e.dataSeries=this.parent.dataSeries[g],null!==e.dataPoint.y&&e.dataSeries.visible&&d.push(e));if(e=null,0===d.length)return;if(d.sort(function(a,b){return a.distance-b.distance}),e=Math.abs(l-this.parent.convertValueToPixel(d[0].dataPoint.y)),g=0,"rangeBar"===d[0].dataSeries.type||"error"===d[0].dataSeries.type){e=Math.abs(l-this.parent.convertValueToPixel(d[g].dataPoint.y[0]));var h=0;for(c=0;c<d.length;c++)if(d[c].dataPoint.y&&d[c].dataPoint.y.length)for(var f=0;f<d[c].dataPoint.y.length;f++)(h=Math.abs(l-this.parent.convertValueToPixel(d[c].dataPoint.y[f])))<e&&(e=h,g=c);else(h=Math.abs(l-this.parent.convertValueToPixel(d[c].dataPoint.y)))<e&&(e=h,g=c)}else if("stackedBar"===d[0].dataSeries.type){e=Math.abs(l-this.parent.convertValueToPixel(d[0].dataPoint.y));var o=h=0;for(c=g=0;c<d.length;c++)if(d[c].dataPoint.y&&d[c].dataPoint.y.length)for(f=0;f<d[c].dataPoint.y.length;f++)(h=Math.abs(l-this.parent.convertValueToPixel(d[c].dataPoint.y[f])))<e&&(e=h,g=c);else o+=d[c].dataPoint.y,(h=Math.abs(l-this.parent.convertValueToPixel(o)))<e&&(e=h,g=c)}else if("stackedBar100"===d[0].dataSeries.type){e=Math.abs(l-this.parent.convertValueToPixel(d[0].dataPoint.y));var i=o=h=0;for(c=0;c<d.length;c++)if(d[c].dataPoint.y&&d[c].dataPoint.y.length)for(f=0;f<d[c].dataPoint.y.length;f++)(h=Math.abs(l-this.parent.convertValueToPixel(d[c].dataPoint.y[f])))<e&&(e=h,g=c);else o+=d[c].dataPoint.y,i=d[c].dataPoint.x.getTime?d[c].dataPoint.x.getTime():d[c].dataPoint.x,i=o/d[c].dataSeries.plotUnit.dataPointYSums[i]*100,(h=Math.abs(l-this.parent.convertValueToPixel(i)))<e&&(e=h,g=c)}else for(e=Math.abs(l-this.parent.convertValueToPixel(d[0].dataPoint.y)),c=g=h=0;c<d.length;c++)if(d[c].dataPoint.y&&d[c].dataPoint.y.length)for(f=0;f<d[c].dataPoint.y.length;f++)(h=Math.abs(l-this.parent.convertValueToPixel(d[c].dataPoint.y[f])))<e&&(e=h,g=c);else(h=Math.abs(l-this.parent.convertValueToPixel(d[c].dataPoint.y)))<e&&(e=h,g=c);if(f=d[g],"bottom"===this.parent._position||"top"===this.parent._position){if(j=0,"rangeBar"===this.parent.dataSeries[g].type||"error"===this.parent.dataSeries[g].type){for(e=Math.abs(l-this.parent.convertValueToPixel(f.dataPoint.y[0])),c=h=0;c<f.dataPoint.y.length;c++)(h=Math.abs(l-this.parent.convertValueToPixel(f.dataPoint.y[c])))<e&&(e=h,j=c);v=1==n.lineWidth%2?.5+(this.parent.convertValueToPixel(f.dataPoint.y[j])<<0):this.parent.convertValueToPixel(f.dataPoint.y[j])<<0,this.value=f.dataPoint.y[j],a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f.dataPoint.y[j]}):null==this.options.label?an(p||f.dataPoint.y[j],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===this.parent.dataSeries[g].type){for(e=Math.abs(l-this.parent.convertValueToPixel(d[0].dataPoint.y)),o=h=0,c=g;0<=c;c--)o+=d[c].dataPoint.y,(h=Math.abs(l-this.parent.convertValueToPixel(o)))<e&&(e=h,j=c);v=1==n.lineWidth%2?.5+(this.parent.convertValueToPixel(o)<<0):this.parent.convertValueToPixel(o)<<0,this.value=o,a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f.dataPoint.y}):null==this.options.label?an(p||f.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===this.parent.dataSeries[g].type){for(e=Math.abs(l-this.parent.convertValueToPixel(d[0].dataPoint.y)),i=o=h=0,c=g;0<=c;c--)o+=d[c].dataPoint.y,i=d[c].dataPoint.x.getTime?d[c].dataPoint.x.getTime():d[c].dataPoint.x,i=o/d[c].dataSeries.plotUnit.dataPointYSums[i]*100,(h=Math.abs(l-this.parent.convertValueToPixel(i)))<e&&(e=h,j=c);v=1==n.lineWidth%2?.5+(this.parent.convertValueToPixel(i)<<0):this.parent.convertValueToPixel(i)<<0,this.value=i,a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:i}):null==this.options.label?an(p||i,this.valueFormatString,this.chart._cultureInfo):this.label}else v=1==n.lineWidth%2?.5+(this.parent.convertValueToPixel(f.dataPoint.y)<<0):this.parent.convertValueToPixel(f.dataPoint.y)<<0,this.value=f.dataPoint.y,a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f.dataPoint.y}):null==this.options.label?an(p||f.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label;j=s=v,t=this.chart.plotArea.y1,r=this.chart.plotArea.y2,this.bounds={x1:j-q/2,y1:t,x2:s+q/2,y2:r},a.x=j-a.measureText().width/2,a.x+a.width>this.chart.bounds.x2?a.x=this.chart.bounds.x2-a.width:a.x<this.chart.bounds.x1&&(a.x=this.chart.bounds.x1),a.y=this.parent.lineCoordinates.y2+("top"===this.parent._position?-a.height+this.parent.tickLength:a.fontSize/2)+2,a.y+a.height>this.chart.bounds.y2?a.y=this.chart.bounds.y2-a.height:a.y<this.chart.bounds.y1&&(a.y=this.chart.bounds.y1)}else if("left"===this.parent._position||"right"===this.parent._position){if(t=r=u=1==n.lineWidth%2?.5+(this.parent.convertValueToPixel(f.dataPoint.x)<<0):this.parent.convertValueToPixel(f.dataPoint.x)<<0,j=this.chart.plotArea.x1,s=this.chart.plotArea.x2,this.bounds={x1:j,y1:t-q/2,x2:s,y2:r+q/2},i=!1,this.parent.labels)for(d=Math.ceil(this.parent.interval),c=0;c<this.parent.viewportMaximum;c+=d){if(!this.parent.labels[c]){i=!1;break}i=!0}if(i){if("axisX"===this.parent.type)for(c=this.parent.convertPixelToValue({y:m}),e=null,g=0;g<this.parent.dataSeries.length;g++)(e=this.parent.dataSeries[g].getDataPointAtX(c,!0))&&0<=e.index&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f.dataPoint.x}):null==this.options.label?e.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f.dataPoint.x}):null==this.options.label?am(f.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f.dataPoint.x}):null==this.options.label?an(f.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);this.value=f.dataPoint.x,a.y=r+a.fontSize/2-a.measureText().height/2+2,a.y-a.fontSize/2<this.chart.bounds.y1?a.y=this.chart.bounds.y1+a.fontSize/2+2:a.y+a.measureText().height-a.fontSize/2>this.chart.bounds.y2&&(a.y=this.chart.bounds.y2-a.measureText().height+a.fontSize/2),"left"===this.parent._position?a.x=this.parent.lineCoordinates.x2-a.measureText().width:"right"===this.parent._position&&(a.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(c=this.parent.convertPixelToValue({x:l}),g=0;g<this.parent.dataSeries.length;g++)(e=this.parent.dataSeries[g].getDataPointAtX(c,!0))&&0<=e.index&&(e.dataSeries=this.parent.dataSeries[g],null!==e.dataPoint.y&&e.dataSeries.visible&&d.push(e));if(0===d.length)return;if(d.sort(function(a,b){return a.distance-b.distance}),f=d[0],j=s=v=1==n.lineWidth%2?.5+(this.parent.convertValueToPixel(f.dataPoint.x)<<0):this.parent.convertValueToPixel(f.dataPoint.x)<<0,t=this.chart.plotArea.y1,r=this.chart.plotArea.y2,this.bounds={x1:j-q/2,y1:t,x2:s+q/2,y2:r},i=!1,this.parent.labels)for(d=Math.ceil(this.parent.interval),c=0;c<this.parent.viewportMaximum;c+=d){if(!this.parent.labels[c]){i=!1;break}i=!0}if(i){if("axisX"===this.parent.type)for(c=this.parent.convertPixelToValue({x:l}),e=null,g=0;g<this.parent.dataSeries.length;g++)(e=this.parent.dataSeries[g].getDataPointAtX(c,!0))&&0<=e.index&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f.dataPoint.x}):null==this.options.label?e.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f.dataPoint.x}):null==this.options.label?am(f.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f.dataPoint.x}):null==this.options.label?an(f.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);this.value=f.dataPoint.x,a.x=j-a.measureText().width/2,a.x+a.width>this.chart.bounds.x2&&(a.x=this.chart.bounds.x2-a.width),a.x<this.chart.bounds.x1&&(a.x=this.chart.bounds.x1),"bottom"===this.parent._position?a.y=this.parent.lineCoordinates.y2+a.fontSize/2+2:"top"===this.parent._position&&(a.y=this.parent.lineCoordinates.y1-a.height+a.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(null!=this.parent.dataSeries&&0<this.parent.dataSeries.length&&(c=this.parent.dataSeries[0].axisX.convertPixelToValue({x:l})),g=0;g<this.parent.dataSeries.length;g++)(e=this.parent.dataSeries[g].getDataPointAtX(c,!0))&&0<=e.index&&(e.dataSeries=this.parent.dataSeries[g],null!==e.dataPoint.y&&e.dataSeries.visible&&d.push(e));if(0===d.length)return;if(d.sort(function(a,b){return a.distance-b.distance}),g=0,"rangeColumn"===d[0].dataSeries.type||"rangeArea"===d[0].dataSeries.type||"error"===d[0].dataSeries.type||"rangeSplineArea"===d[0].dataSeries.type||"candlestick"===d[0].dataSeries.type||"ohlc"===d[0].dataSeries.type||"boxAndWhisker"===d[0].dataSeries.type)for(e=Math.abs(m-this.parent.convertValueToPixel(d[0].dataPoint.y[0])),c=h=0;c<d.length;c++)if(d[c].dataPoint.y&&d[c].dataPoint.y.length)for(f=0;f<d[c].dataPoint.y.length;f++)(h=Math.abs(m-this.parent.convertValueToPixel(d[c].dataPoint.y[f])))<e&&(e=h,g=c);else(h=Math.abs(m-this.parent.convertValueToPixel(d[c].dataPoint.y)))<e&&(e=h,g=c);else if("stackedColumn"===d[0].dataSeries.type||"stackedArea"===d[0].dataSeries.type)for(e=Math.abs(m-this.parent.convertValueToPixel(d[0].dataPoint.y)),c=o=h=0;c<d.length;c++)if(d[c].dataPoint.y&&d[c].dataPoint.y.length)for(f=0;f<d[c].dataPoint.y.length;f++)(h=Math.abs(m-this.parent.convertValueToPixel(d[c].dataPoint.y[f])))<e&&(e=h,g=c);else o+=d[c].dataPoint.y,(h=Math.abs(m-this.parent.convertValueToPixel(o)))<e&&(e=h,g=c);else if("stackedColumn100"===d[0].dataSeries.type||"stackedArea100"===d[0].dataSeries.type)for(e=Math.abs(m-this.parent.convertValueToPixel(d[0].dataPoint.y)),c=i=o=h=0;c<d.length;c++)if(d[c].dataPoint.y&&d[c].dataPoint.y.length)for(f=0;f<d[c].dataPoint.y.length;f++)(h=Math.abs(m-this.parent.convertValueToPixel(d[c].dataPoint.y[f])))<e&&(e=h,g=c);else o+=d[c].dataPoint.y,i=d[c].dataPoint.x.getTime?d[c].dataPoint.x.getTime():d[c].dataPoint.x,i=o/d[c].dataSeries.plotUnit.dataPointYSums[i]*100,(h=Math.abs(m-this.parent.convertValueToPixel(i)))<e&&(e=h,g=c);else for(e=Math.abs(m-this.parent.convertValueToPixel(d[0].dataPoint.y)),c=h=0;c<d.length;c++)if(d[c].dataPoint.y&&d[c].dataPoint.y.length)for(f=0;f<d[c].dataPoint.y.length;f++)(h=Math.abs(m-this.parent.convertValueToPixel(d[c].dataPoint.y[f])))<e&&(e=h,g=c);else(h=Math.abs(m-this.parent.convertValueToPixel(d[c].dataPoint.y)))<e&&(e=h,g=c);if(f=d[g],j=0,"rangeColumn"===this.parent.dataSeries[g].type||"rangeArea"===this.parent.dataSeries[g].type||"error"===this.parent.dataSeries[g].type||"rangeSplineArea"===this.parent.dataSeries[g].type||"candlestick"===this.parent.dataSeries[g].type||"ohlc"===this.parent.dataSeries[g].type||"boxAndWhisker"===this.parent.dataSeries[g].type){for(e=Math.abs(m-this.parent.convertValueToPixel(f.dataPoint.y[0])),c=h=0;c<f.dataPoint.y.length;c++)(h=Math.abs(m-this.parent.convertValueToPixel(f.dataPoint.y[c])))<e&&(e=h,j=c);u=1==n.lineWidth%2?.5+(this.parent.convertValueToPixel(f.dataPoint.y[j])<<0):this.parent.convertValueToPixel(f.dataPoint.y[j])<<0,a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f.dataPoint.y[j]}):null==this.options.label?an(p||f.dataPoint.y[j],this.valueFormatString,this.chart._cultureInfo):this.label,this.value=f.dataPoint.y[j]}else if("stackedColumn"===this.parent.dataSeries[g].type||"stackedArea"===this.parent.dataSeries[g].type){for(e=Math.abs(m-this.parent.convertValueToPixel(d[0].dataPoint.y)),o=h=0,c=g;0<=c;c--)o+=d[c].dataPoint.y,(h=Math.abs(m-this.parent.convertValueToPixel(o)))<e&&(e=h,j=c);u=1==n.lineWidth%2?.5+(this.parent.convertValueToPixel(o)<<0):this.parent.convertValueToPixel(o)<<0,a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f.dataPoint.y}):null==this.options.label?an(p||f.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=o}else if("stackedColumn100"===this.parent.dataSeries[g].type||"stackedArea100"===this.parent.dataSeries[g].type){for(e=Math.abs(m-this.parent.convertValueToPixel(d[0].dataPoint.y)),o=h=0,c=g;0<=c;c--)o+=d[c].dataPoint.y,i=d[c].dataPoint.x.getTime?d[c].dataPoint.x.getTime():d[c].dataPoint.x,i=o/d[c].dataSeries.plotUnit.dataPointYSums[i]*100,(h=Math.abs(m-this.parent.convertValueToPixel(i)))<e&&(e=h,j=c);u=1==n.lineWidth%2?.5+(this.parent.convertValueToPixel(i)<<0):this.parent.convertValueToPixel(i)<<0,a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:i}):null==this.options.label?an(p||i,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=i}else"waterfall"===this.parent.dataSeries[g].type?(u=1==n.lineWidth%2?.5+(this.parent.convertValueToPixel(f.dataSeries.dataPointEOs[f.index].cumulativeSum)<<0):this.parent.convertValueToPixel(f.dataSeries.dataPointEOs[f.index].cumulativeSum)<<0,a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f.dataSeries.dataPointEOs[f.index].cumulativeSum}):null==this.options.label?an(p||f.dataSeries.dataPointEOs[f.index].cumulativeSum,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=f.dataSeries.dataPointEOs[f.index].cumulativeSum):(u=1==n.lineWidth%2?(null==l?m:this.parent.convertValueToPixel(f.dataPoint.y)<<0)+.5:null==l?m:this.parent.convertValueToPixel(f.dataPoint.y)<<0,a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:p||f.dataPoint.y}):null==this.options.label?an(p||f.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=f.dataPoint.y);t=r=u,j=this.chart.plotArea.x1,s=this.chart.plotArea.x2,this.bounds={x1:j,y1:t-q/2,x2:s,y2:r+q/2},a.y=r+a.fontSize/2-a.measureText().height/2+2,a.y-a.fontSize/2<this.chart.bounds.y1?a.y=this.chart.bounds.y1+a.fontSize/2+2:a.y+a.measureText().height-a.fontSize/2>this.chart.bounds.y2&&(a.y=this.chart.bounds.y2-a.measureText().height+a.fontSize/2),"left"===this.parent._position?a.x=this.parent.lineCoordinates.x2-a.measureText().width:"right"===this.parent._position&&(a.x=this.parent.lineCoordinates.x2)}d=null,"bottom"!==this.parent._position&&"top"!==this.parent._position||("top"===this.parent._position&&a.y-a.fontSize/2<this.chart.bounds.y1&&(a.y=this.chart.bounds.y1+a.fontSize/2),"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-a.fontSize/2+a.measureText().height>this.chart.bounds.y2&&(a.y=this.chart.bounds.y2-a.height+a.fontSize/2+2),j>=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMaximum:this.parent.viewportMinimum)&&s<=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMinimum:this.parent.viewportMaximum)&&(0<q&&(n.moveTo(j,t),n.lineTo(s,r),n.stroke(),this._hidden=!1),n.restore())),"left"!==this.parent._position&&"right"!==this.parent._position||("left"===this.parent._position&&a.x<this.chart.bounds.x1&&(a.x=this.chart.bounds.x1),"right"===this.parent._position&&a.x+a.measureText().width>this.chart.bounds.x2&&(a.x=this.chart.bounds.x2-a.measureText().width),r>=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMinimum:this.parent.viewportMaximum)&&t<=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMaximum:this.parent.viewportMinimum)&&(0<q&&(n.moveTo(j,t),n.lineTo(s,r),n.stroke(),this._hidden=!1),n.restore()))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(j=s=v=1==n.lineWidth%2?.5+(l<<0):l<<0,t=this.chart.plotArea.y1,r=this.chart.plotArea.y2,this.bounds={x1:j-q/2,y1:t,x2:s+q/2,y2:r}):"left"!==this.parent._position&&"right"!==this.parent._position||(t=r=u=1==n.lineWidth%2?.5+(m<<0):m<<0,j=this.chart.plotArea.x1,s=this.chart.plotArea.x2,this.bounds={x1:j,y1:t-q/2,x2:s,y2:r+q/2}),"xySwapped"===this.chart.plotInfo.axisPlacement){if("left"===this.parent._position||"right"===this.parent._position){if(i=!1,this.parent.labels)for(d=Math.ceil(this.parent.interval),c=0;c<this.parent.viewportMaximum;c+=d){if(!this.parent.labels[c]){i=!1;break}i=!0}if(i){if("axisX"===this.parent.type)for(c=this.parent.convertPixelToValue({y:m}),e=null,g=0;g<this.parent.dataSeries.length;g++)(e=this.parent.dataSeries[g].getDataPointAtX(c,!0))&&0<=e.index&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:p||this.parent.convertPixelToValue(l)}):null==this.options.label?e.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:p||this.parent.convertPixelToValue(m)}):null==this.options.label?am(p||this.parent.convertPixelToValue(m),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:p||this.parent.convertPixelToValue(m)}):null==this.options.label?an(p||this.parent.convertPixelToValue(m),this.valueFormatString,this.chart._cultureInfo):this.label);a.y=m+a.fontSize/2-a.measureText().height/2+2,a.y-a.fontSize/2<this.chart.bounds.y1?a.y=this.chart.bounds.y1+a.fontSize/2+2:a.y+a.measureText().height-a.fontSize/2>this.chart.bounds.y2&&(a.y=this.chart.bounds.y2-a.measureText().height+a.fontSize/2),"left"===this.parent._position?a.x=this.parent.lineCoordinates.x1-a.measureText().width:"right"===this.parent._position&&(a.x=this.parent.lineCoordinates.x2)}else"bottom"!==this.parent._position&&"top"!==this.parent._position||(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:p||this.parent.convertPixelToValue(l)}):null==this.options.label?an(p||this.parent.convertPixelToValue(l),this.valueFormatString,this.chart._cultureInfo):this.label,a.x=j-a.measureText().width/2,a.x+a.width>this.chart.bounds.x2&&(a.x=this.chart.bounds.x2-a.width),a.x<this.chart.bounds.x1&&(a.x=this.chart.bounds.x1),"bottom"===this.parent._position?a.y=this.parent.lineCoordinates.y2+a.fontSize/2+2:"top"===this.parent._position&&(a.y=this.parent.lineCoordinates.y1-a.height+a.fontSize/2+2))}else if("bottom"===this.parent._position||"top"===this.parent._position){if(i=!1,d="",this.parent.labels)for(d=Math.ceil(this.parent.interval),c=0;c<this.parent.viewportMaximum;c+=d){if(!this.parent.labels[c]){i=!1;break}i=!0}if(i){if("axisX"===this.parent.type)for(c=this.parent.convertPixelToValue({x:l}),e=null,g=0;g<this.parent.dataSeries.length;g++)(e=this.parent.dataSeries[g].getDataPointAtX(c,!0))&&0<=e.index&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:p||this.parent.convertPixelToValue(l)}):null==this.options.label?p||e.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:p||this.parent.convertPixelToValue(l)}):null==this.options.label?am(p||this.parent.convertPixelToValue(l),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:p||(0<this.parent.dataSeries.length?this.parent.convertPixelToValue(l):"")}):null==this.options.label?an(p||this.parent.convertPixelToValue(l),this.valueFormatString,this.chart._cultureInfo):this.label);a.x=j-a.measureText().width/2,a.x+a.width>this.chart.bounds.x2&&(a.x=this.chart.bounds.x2-a.width),a.x<this.chart.bounds.x1&&(a.x=this.chart.bounds.x1),"bottom"===this.parent._position?a.y=this.parent.lineCoordinates.y2+a.fontSize/2+2:"top"===this.parent._position&&(a.y=this.parent.lineCoordinates.y1-a.height+a.fontSize/2+2)}else"left"!==this.parent._position&&"right"!==this.parent._position||(a.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:p||this.parent.convertPixelToValue(m)}):null==this.options.label?an(p||this.parent.convertPixelToValue(m),this.valueFormatString,this.chart._cultureInfo):this.label,a.y=m+a.fontSize/2-a.measureText().height/2+2,a.y-a.fontSize/2<this.chart.bounds.y1?a.y=this.chart.bounds.y1+a.fontSize/2+2:a.y+a.measureText().height-a.fontSize/2>this.chart.bounds.y2&&(a.y=this.chart.bounds.y2-a.measureText().height+a.fontSize/2),"left"===this.parent._position?a.x=this.parent.lineCoordinates.x2-a.measureText().width:"right"===this.parent._position&&(a.x=this.parent.lineCoordinates.x2));"left"===this.parent._position&&a.x<this.chart.bounds.x1?a.x=this.chart.bounds.x1:"right"===this.parent._position&&a.x+a.measureText().width>this.chart.bounds.x2?a.x=this.chart.bounds.x2-a.measureText().width:"top"===this.parent._position&&a.y-a.fontSize/2<this.chart.bounds.y1?a.y=this.chart.bounds.y1+a.fontSize/2:"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-a.fontSize/2+a.measureText().height>this.chart.bounds.y2&&(a.y=this.chart.bounds.y2-a.height+a.fontSize/2+2),0<q&&(n.moveTo(j,t),n.lineTo(s,r),n.stroke(),this._hidden=!1),n.restore(),this.value="bottom"===this.parent._position||"top"===this.parent._position?this.parent.convertPixelToValue(l):this.parent.convertPixelToValue(m)}"bottom"!==this.parent._position&&"top"!==this.parent._position||(this._updatedValue=this.parent.convertPixelToValue(v)),"left"!==this.parent._position&&"right"!==this.parent._position||(this._updatedValue=this.parent.convertPixelToValue(u)),this._textBlock=a,null==p||this.renderLabel(),n.globalAlpha=y},g.prototype.renderLabel=function(){var a,b;null==this._textBlock||null==this._textBlock.text||!("number"==typeof this._textBlock.text.valueOf()||0<this._textBlock.text.length)||this._hidden||this._textBlock.render(!0)},m(c,d),c.prototype._initialize=function(){if(this.updateOption("updated"),this.updateOption("hidden"),this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none";var a=document.createElement("div");a.style.width="auto",a.style.height="auto",a.style.minWidth="50px",a.style.lineHeight="normal",a.style.margin="0px 0px 0px 0px",a.style.padding="5px",a.style.fontFamily="Calibri, Arial, Georgia, serif",a.style.fontWeight="normal",a.style.fontStyle=f?"italic":"normal",a.style.fontSize="14px",a.style.color="#000000",a.style.textShadow="1px 1px 1px rgba(0, 0, 0, 0.1)",a.style.textAlign="left",a.style.border="2px solid gray",a.style.background=f?"rgba(255,255,255,.9)":"rgb(255,255,255)",a.style.textIndent="0px",a.style.whiteSpace="nowrap",a.style.borderRadius="5px",a.style.MozUserSelect="none",a.style.WebkitUserSelect="none",a.style.msUserSelect="none",a.style.userSelect="none",f||(a.style.filter="alpha(opacity = 90)",a.style.filter="progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666')"),a.innerText="Sample Tooltip",this.container.appendChild(a),this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},c.prototype.mouseMoveHandler=function(a,b){this._lastUpdated&&4>new Date().getTime()-this._lastUpdated||(this._lastUpdated=new Date().getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(a,b))},c.prototype._updateToolTip=function(i,h,d){if(d=void 0===d||d,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(void 0===i|| void 0===h){if(isNaN(this._prevX)||isNaN(this._prevY))return;i=this._prevX,h=this._prevY}else this._prevX=i,this._prevY=h;var l,m,n,o,p,q,c=null,e=null,b=[],j=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){if("xySwapped"===this.chart.plotInfo.axisPlacement){var k=[];if(this.chart.axisX)for(var g=0;g<this.chart.axisX.length;g++){j=this.chart.axisX[g].convertPixelToValue({y:h});var a=null;for(c=0;c<this.chart.axisX[g].dataSeries.length;c++)(a=this.chart.axisX[g].dataSeries[c].getDataPointAtX(j,d))&&0<=a.index&&(a.dataSeries=this.chart.axisX[g].dataSeries[c],null!==a.dataPoint.y&&k.push(a));a=null}if(this.chart.axisX2)for(g=0;g<this.chart.axisX2.length;g++){for(j=this.chart.axisX2[g].convertPixelToValue({y:h}),a=null,c=0;c<this.chart.axisX2[g].dataSeries.length;c++)(a=this.chart.axisX2[g].dataSeries[c].getDataPointAtX(j,d))&&0<=a.index&&(a.dataSeries=this.chart.axisX2[g].dataSeries[c],null!==a.dataPoint.y&&k.push(a));a=null}}else{if(k=[],this.chart.axisX)for(g=0;g<this.chart.axisX.length;g++)for(j=this.chart.axisX[g].convertPixelToValue({x:i}),a=null,c=0;c<this.chart.axisX[g].dataSeries.length;c++)(a=this.chart.axisX[g].dataSeries[c].getDataPointAtX(j,d))&&0<=a.index&&(a.dataSeries=this.chart.axisX[g].dataSeries[c],null!==a.dataPoint.y&&k.push(a));if(this.chart.axisX2)for(g=0;g<this.chart.axisX2.length;g++)for(j=this.chart.axisX2[g].convertPixelToValue({x:i}),a=null,c=0;c<this.chart.axisX2[g].dataSeries.length;c++)(a=this.chart.axisX2[g].dataSeries[c].getDataPointAtX(j,d))&&0<=a.index&&(a.dataSeries=this.chart.axisX2[g].dataSeries[c],null!==a.dataPoint.y&&k.push(a))}if(0===k.length)return;for(k.sort(function(a,b){return a.distance-b.distance}),d=k[0],c=0;c<k.length;c++)k[c].dataPoint.x.valueOf()===d.dataPoint.x.valueOf()&&b.push(k[c]);k=null}else{if(c=this.chart.getDataPointAtXY(i,h,d))this.currentDataPointIndex=c.dataPointIndex,this.currentSeriesIndex=c.dataSeries.index;else if(f){if(0<(c=R(i,h,this.chart._eventManager.ghostCtx))&& void 0!==this.chart._eventManager.objectMap[c]){if("legendItem"===(c=this.chart._eventManager.objectMap[c]).objectType)return;this.currentSeriesIndex=c.dataSeriesIndex,this.currentDataPointIndex=0<=c.dataPointIndex?c.dataPointIndex:-1}else this.currentDataPointIndex=-1}else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(e=this.chart.data[this.currentSeriesIndex],a={},0<=this.currentDataPointIndex)c=e.dataPoints[this.currentDataPointIndex],a.dataSeries=e,a.dataPoint=c,a.index=this.currentDataPointIndex,a.distance=Math.abs(c.x-j),"waterfall"===e.type&&(a.cumulativeSumYStartValue=e.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,a.cumulativeSum=e.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==e.type&&"stepLine"!==e.type&&"spline"!==e.type&&"area"!==e.type&&"stepArea"!==e.type&&"splineArea"!==e.type&&"stackedArea"!==e.type&&"stackedArea100"!==e.type&&"rangeArea"!==e.type&&"rangeSplineArea"!==e.type&&"candlestick"!==e.type&&"ohlc"!==e.type&&"boxAndWhisker"!==e.type)return;j=e.axisX.convertPixelToValue({x:i}),l=a=e.getDataPointAtX(j,d),null==l||(a.dataSeries=e,this.currentDataPointIndex=a.index,c=a.dataPoint)}if(null!=a&&null!=a.dataPoint&&null!=a.dataPoint.y){if(a.dataSeries.axisY){if(0<a.dataPoint.y.length){for(c=d=0;c<a.dataPoint.y.length;c++)a.dataPoint.y[c]<a.dataSeries.axisY.viewportMinimum?d--:a.dataPoint.y[c]>a.dataSeries.axisY.viewportMaximum&&d++;d<a.dataPoint.y.length&&d> -a.dataPoint.y.length&&b.push(a)}else"column"===e.type||"bar"===e.type?0>a.dataPoint.y?0>a.dataSeries.axisY.viewportMinimum&&a.dataSeries.axisY.viewportMaximum>=a.dataPoint.y&&b.push(a):a.dataSeries.axisY.viewportMinimum<=a.dataPoint.y&&0<=a.dataSeries.axisY.viewportMaximum&&b.push(a):"bubble"===e.type?(d=this.chart._eventManager.objectMap[e.dataPointIds[a.index]].size/2,a.dataPoint.y>=a.dataSeries.axisY.viewportMinimum-d&&a.dataPoint.y<=a.dataSeries.axisY.viewportMaximum+d&&b.push(a)):"waterfall"===e.type?(d=0,a.cumulativeSumYStartValue<a.dataSeries.axisY.viewportMinimum?d--:a.cumulativeSumYStartValue>a.dataSeries.axisY.viewportMaximum&&d++,a.cumulativeSum<a.dataSeries.axisY.viewportMinimum?d--:a.cumulativeSum>a.dataSeries.axisY.viewportMaximum&&d++,2>d&& -2<d&&b.push(a)):(0<=a.dataSeries.type.indexOf("100")||"stackedColumn"===e.type||"stackedBar"===e.type||a.dataPoint.y>=a.dataSeries.axisY.viewportMinimum&&a.dataPoint.y<=a.dataSeries.axisY.viewportMaximum)&&b.push(a)}else b.push(a)}}}if(0<b.length){if(this.highlightObjects(b),this.enabled){if(d="",null!==(d=this.getToolTipInnerHTML({entries:b}))){if(this.contentDiv.innerHTML=d,this.isToolTipDefinedInData&&null==this.options.content&&null==this.options.contentFormatter)for(j=this.contentDiv.getElementsByTagName("span"),c=0;c<j.length;c++)j[c]&&(j[c].style.color=j[c].getAttribute("data-color"));j=!1,"none"===this.container.style.display&&(j=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:f?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor="waterfall"===b[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:b[0].dataPoint.color?b[0].dataPoint.color:0<b[0].dataPoint.y?b[0].dataSeries.risingColor:b[0].dataSeries.fallingColor:"error"===b[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:b[0].dataSeries.color?b[0].dataSeries.color:b[0].dataSeries._colorSet[e.index%b[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:b[0].dataPoint.color?b[0].dataPoint.color:b[0].dataSeries.color?b[0].dataSeries.color:b[0].dataSeries._colorSet[b[0].index%b[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:f?"italic":"normal"}catch(r){}"pie"===b[0].dataSeries.type||"doughnut"===b[0].dataSeries.type||"funnel"===b[0].dataSeries.type||"pyramid"===b[0].dataSeries.type||"bar"===b[0].dataSeries.type||"rangeBar"===b[0].dataSeries.type||"stackedBar"===b[0].dataSeries.type||"stackedBar100"===b[0].dataSeries.type?i=i-10-this.container.clientWidth:(i=b[0].dataSeries.axisX.convertValueToPixel(b[0].dataPoint.x)-this.container.clientWidth<<0,i-=10),0>i&&(i+=this.container.clientWidth+20),i+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(i=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(h=10-(h=1!==b.length||this.shared||"line"!==b[0].dataSeries.type&&"stepLine"!==b[0].dataSeries.type&&"spline"!==b[0].dataSeries.type&&"area"!==b[0].dataSeries.type&&"stepArea"!==b[0].dataSeries.type&&"splineArea"!==b[0].dataSeries.type?"bar"===b[0].dataSeries.type||"rangeBar"===b[0].dataSeries.type||"stackedBar"===b[0].dataSeries.type||"stackedBar100"===b[0].dataSeries.type?b[0].dataSeries.axisX.convertValueToPixel(b[0].dataPoint.x):h:b[0].dataSeries.axisY.convertValueToPixel(b[0].dataPoint.y)))+this.container.clientHeight+5&&(h-=h+this.container.clientHeight+5-0),this.fixMozTransitionDelay(i,h),!this.animationEnabled||j?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.positionLeft=i,this.positionBottom=h,this.container.style.left=i+"px",this.container.style.bottom=h+"px"}else this.hide(!1),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);for(h=[],c=0;c<b.length;c++)h.push({xValue:b[c].dataPoint.x,dataPoint:b[c].dataPoint,dataSeries:b[c].dataSeries,dataPointIndex:b[c].index,dataSeriesIndex:b[c].dataSeries._index});h={chart:this.chart,toolTip:this.options,content:d,entries:h},this._entries=b,this.dispatchEvent("updated",h,this)}}else this.hide(),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this)}},c.prototype.highlightObjects=function(g){var h,b=this.chart.overlaidCanvasCtx;(null==this.chart.clearedOverlayedCanvas||"toolTip"===this.chart.clearedOverlayedCanvas)&&(this.chart.resetOverlayedCanvas(),b.clearRect(0,0,this.chart.width,this.chart.height),this.chart.clearedOverlayedCanvas="toolTip"),b.save();var e=this.chart.plotArea,c=0;for(b.beginPath(),b.rect(e.x1,e.y1,e.x2-e.x1,e.y2-e.y1),b.clip(),e=0;e<g.length;e++){var a=g[e];if((a=this.chart._eventManager.objectMap[a.dataSeries.dataPointIds[a.index]])&&a.objectType&&"dataPoint"===a.objectType){var d=(c=this.chart.data[a.dataSeriesIndex]).dataPoints[a.dataPointIndex],f=a.dataPointIndex;!1===d.highlightEnabled|| !0!==c.highlightEnabled&& !0!==d.highlightEnabled||("line"===c.type||"stepLine"===c.type||"spline"===c.type||"scatter"===c.type||"area"===c.type||"stepArea"===c.type||"splineArea"===c.type||"stackedArea"===c.type||"stackedArea100"===c.type||"rangeArea"===c.type||"rangeSplineArea"===c.type?((d=c.getMarkerProperties(f,a.x1,a.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*d.size<<0,10),d.borderColor=d.borderColor||"#FFFFFF",d.borderThickness=d.borderThickness||Math.ceil(.1*d.size),$.drawMarkers([d]),void 0!==a.y2&&((d=c.getMarkerProperties(f,a.x1,a.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*d.size<<0,10),d.borderColor=d.borderColor||"#FFFFFF",d.borderThickness=d.borderThickness||Math.ceil(.1*d.size),$.drawMarkers([d]))):"bubble"===c.type?((d=c.getMarkerProperties(f,a.x1,a.y1,this.chart.overlaidCanvasCtx)).size=a.size,d.color="white",d.borderColor="white",b.globalAlpha=.3,$.drawMarkers([d]),b.globalAlpha=1):"column"===c.type||"stackedColumn"===c.type||"stackedColumn100"===c.type||"bar"===c.type||"rangeBar"===c.type||"stackedBar"===c.type||"stackedBar100"===c.type||"rangeColumn"===c.type||"waterfall"===c.type?aq(b,a.x1,a.y1,a.x2,a.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===c.type||"doughnut"===c.type?y(b,a.center,a.radius,"white",c.type,a.startAngle,a.endAngle,.3,a.percentInnerRadius):"funnel"===c.type||"pyramid"===c.type?z(b,a.funnelSection,.3,"white"):"candlestick"===c.type?(b.globalAlpha=1,b.strokeStyle=a.color,b.lineWidth=2*a.borderThickness,c=0==b.lineWidth%2?0:.5,b.beginPath(),b.moveTo(a.x3-c,Math.min(a.y2,a.y3)),b.lineTo(a.x3-c,Math.min(a.y1,a.y4)),b.stroke(),b.beginPath(),b.moveTo(a.x3-c,Math.max(a.y1,a.y4)),b.lineTo(a.x3-c,Math.max(a.y2,a.y3)),b.stroke(),aq(b,a.x1,Math.min(a.y1,a.y4),a.x2,Math.max(a.y1,a.y4),"transparent",2*a.borderThickness,a.color,!1,!1,!1,!1),b.globalAlpha=1):"ohlc"===c.type?(b.globalAlpha=1,b.strokeStyle=a.color,b.lineWidth=2*a.borderThickness,c=0==b.lineWidth%2?0:.5,b.beginPath(),b.moveTo(a.x3-c,a.y2),b.lineTo(a.x3-c,a.y3),b.stroke(),b.beginPath(),b.moveTo(a.x3,a.y1),b.lineTo(a.x1,a.y1),b.stroke(),b.beginPath(),b.moveTo(a.x3,a.y4),b.lineTo(a.x2,a.y4),b.stroke(),b.globalAlpha=1):"boxAndWhisker"===c.type?(b.save(),b.globalAlpha=1,b.strokeStyle=a.stemColor,b.lineWidth=2*a.stemThickness,0<a.stemThickness&&(b.beginPath(),b.moveTo(a.x3,a.y2+a.borderThickness/2),b.lineTo(a.x3,a.y1+a.whiskerThickness/2),b.stroke(),b.beginPath(),b.moveTo(a.x3,a.y4-a.whiskerThickness/2),b.lineTo(a.x3,a.y3-a.borderThickness/2),b.stroke()),b.beginPath(),aq(b,a.x1-a.borderThickness/2,Math.max(a.y2+a.borderThickness/2,a.y3+a.borderThickness/2),a.x2+a.borderThickness/2,Math.min(a.y2-a.borderThickness/2,a.y3-a.borderThickness/2),"transparent",a.borderThickness,a.color,!1,!1,!1,!1),b.globalAlpha=1,b.strokeStyle=a.whiskerColor,b.lineWidth=2*a.whiskerThickness,0<a.whiskerThickness&&(b.beginPath(),b.moveTo(Math.floor(a.x3-a.whiskerLength/2),a.y4),b.lineTo(Math.ceil(a.x3+a.whiskerLength/2),a.y4),b.stroke(),b.beginPath(),b.moveTo(Math.floor(a.x3-a.whiskerLength/2),a.y1),b.lineTo(Math.ceil(a.x3+a.whiskerLength/2),a.y1),b.stroke()),b.globalAlpha=1,b.strokeStyle=a.lineColor,b.lineWidth=2*a.lineThickness,0<a.lineThickness&&(b.beginPath(),b.moveTo(a.x1,a.y5),b.lineTo(a.x2,a.y5),b.stroke()),b.restore(),b.globalAlpha=1):"error"===c.type&&x(b,a.x1,a.y1,a.x2,a.y2,"white",a.whiskerProperties,a.stemProperties,a.isXYSwapped,.3))}}b.restore(),b.globalAlpha=1,b.beginPath()},c.prototype.getToolTipInnerHTML=function(d){d=d.entries;var e=null,a=null,b=null,g=0,c="";this.isToolTipDefinedInData=!0;for(var f=0;f<d.length;f++)if(d[f].dataSeries.toolTipContent||d[f].dataPoint.toolTipContent){this.isToolTipDefinedInData=!1;break}if(this.isToolTipDefinedInData&&(this.content&&"function"==typeof this.content||this.contentFormatter))d={chart:this.chart,toolTip:this.options,entries:d},e=this.contentFormatter?this.contentFormatter(d):this.content(d);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var h=null,i="";for(f=0;f<d.length;f++)a=d[f].dataSeries,b=d[f].dataPoint,g=d[f].index,c="",0===f&&this.isToolTipDefinedInData&&!this.content&&(this.chart.axisX&&0<this.chart.axisX.length?i+=void 0!==this.chart.axisX[0].labels[b.x]?this.chart.axisX[0].labels[b.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(i+=void 0!==this.chart.axisX2[0].labels[b.x]?this.chart.axisX2[0].labels[b.x]:"{x}"),i+="</br>",i=this.chart.replaceKeywordsWithValue(i,b,a,g)),null===b.toolTipContent|| void 0===b.toolTipContent&&null===a.options.toolTipContent||("line"===a.type||"stepLine"===a.type||"spline"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"column"===a.type||"bar"===a.type||"scatter"===a.type||"stackedColumn"===a.type||"stackedColumn100"===a.type||"stackedBar"===a.type||"stackedBar100"===a.type||"stackedArea"===a.type||"stackedArea100"===a.type||"waterfall"===a.type?(this.chart.axisX&&1<this.chart.axisX.length&&(c+=h!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),c+=b.toolTipContent?b.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",h=a.axisXIndex):"bubble"===a.type?(this.chart.axisX&&1<this.chart.axisX.length&&(c+=h!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),c+=b.toolTipContent?b.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===a.type||"rangeBar"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type||"error"===a.type?(this.chart.axisX&&1<this.chart.axisX.length&&(c+=h!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),c+=b.toolTipContent?b.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===a.type||"ohlc"===a.type?(this.chart.axisX&&1<this.chart.axisX.length&&(c+=h!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),c+=b.toolTipContent?b.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===a.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(c+=h!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),c+=b.toolTipContent?b.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===e&&(e=""),!0===this.reversed?(e=this.chart.replaceKeywordsWithValue(c,b,a,g)+e,f<d.length-1&&(e="</br>"+e)):(e+=this.chart.replaceKeywordsWithValue(c,b,a,g),f<d.length-1&&(e+="</br>")));null!==e&&(e=i+e)}else{if(a=d[0].dataSeries,b=d[0].dataPoint,g=d[0].index,null===b.toolTipContent|| void 0===b.toolTipContent&&null===a.options.toolTipContent)return null;"line"===a.type||"stepLine"===a.type||"spline"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"column"===a.type||"bar"===a.type||"scatter"===a.type||"stackedColumn"===a.type||"stackedColumn100"===a.type||"stackedBar"===a.type||"stackedBar100"===a.type||"stackedArea"===a.type||"stackedArea100"===a.type||"waterfall"===a.type?c=b.toolTipContent?b.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(b.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===a.type?c=b.toolTipContent?b.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(b.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===a.type||"doughnut"===a.type||"funnel"===a.type||"pyramid"===a.type?c=b.toolTipContent?b.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(b.name?"{name}:</span>&nbsp;&nbsp;":b.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===a.type||"rangeBar"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type||"error"===a.type?c=b.toolTipContent?b.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(b.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===a.type||"ohlc"===a.type?c=b.toolTipContent?b.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(b.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===a.type&&(c=b.toolTipContent?b.toolTipContent:a.toolTipContent?a.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(b.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===e&&(e=""),e+=this.chart.replaceKeywordsWithValue(c,b,a,g)}return e},c.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var a=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=a,this.container.style.MsTransition=a,this.container.style.transition=a,this.container.style.MozTransition=this.mozContainerTransition}},c.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},c.prototype.hide=function(a){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,(void 0===a||a)&&this.chart.resetOverlayedCanvas())},c.prototype.show=function(b,c,a){this._updateToolTip(b,c,void 0!==a&&a)},c.prototype.showAtIndex=function(a,b){},c.prototype.showAtX=function(h,e){if(!this.enabled)return!1;this.chart.clearedOverlayedCanvas=null;var i,j,k,l,d,b,g,m,a=[];if(g=!1,e=null!=e&&0<=e&&e<this.chart.data.length?e:0,this.shared)for(var c=0;c<this.chart.data.length;c++)(b=(d=this.chart.data[c]).getDataPointAtX(h,!1))&&b.dataPoint&&null!=b.dataPoint.y&&d.visible&&(b.dataSeries=d,a.push(b));else(b=(d=this.chart.data[e]).getDataPointAtX(h,!1))&&b.dataPoint&&null!=b.dataPoint.y&&d.visible&&(b.dataSeries=d,a.push(b));if(!(0<a.length))return this.hide(),!1;for(c=0;c<a.length;c++){if(!((b=a[c]).dataPoint.x<b.dataSeries.axisX.viewportMinimum||b.dataPoint.x>b.dataSeries.axisX.viewportMaximum||b.dataPoint.y<b.dataSeries.axisY.viewportMinimum||b.dataPoint.y>b.dataSeries.axisY.viewportMaximum)){g=!1;break}g=!0}if(g)return this.hide(),!1;if(this.highlightObjects(a),this._entries=a,c="",null===(c=this.getToolTipInnerHTML({entries:a})))return this.hide(!1),!1;if(this.contentDiv.innerHTML=c,this.isToolTipDefinedInData&&null==this.options.content&&null==this.options.contentFormatter)for(b=this.contentDiv.getElementsByTagName("span"),c=0;c<b.length;c++)b[c]&&(b[c].style.color=b[c].getAttribute("data-color"));c=!1,"none"===this.container.style.display&&(c=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:f?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor="waterfall"===a[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:a[0].dataPoint.color?a[0].dataPoint.color:0<a[0].dataPoint.y?a[0].dataSeries.risingColor:a[0].dataSeries.fallingColor:"error"===a[0].dataSeries.type?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:a[0].dataSeries.color?a[0].dataSeries.color:a[0].dataSeries._colorSet[d.index%a[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:a[0].dataPoint.color?a[0].dataPoint.color:a[0].dataSeries.color?a[0].dataSeries.color:a[0].dataSeries._colorSet[a[0].index%a[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:f?"italic":"normal"}catch(n){}return"pie"===a[0].dataSeries.type||"doughnut"===a[0].dataSeries.type||"funnel"===a[0].dataSeries.type||"pyramid"===a[0].dataSeries.type?d=mouseX-10-this.container.clientWidth:(d="bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type?a[0].dataSeries.axisY.convertValueToPixel(a[0].dataPoint.y)-this.container.clientWidth<<0:a[0].dataSeries.axisX.convertValueToPixel(a[0].dataPoint.x)-this.container.clientWidth<<0,d-=10),0>d&&(d+=this.container.clientWidth+20),d+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(d=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(a=10-(a=(1!==a.length||this.shared||"line"!==a[0].dataSeries.type&&"stepLine"!==a[0].dataSeries.type&&"spline"!==a[0].dataSeries.type&&"area"!==a[0].dataSeries.type&&"stepArea"!==a[0].dataSeries.type&&"splineArea"!==a[0].dataSeries.type)&&("bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type)?a[0].dataSeries.axisX.convertValueToPixel(a[0].dataPoint.x):a[0].dataSeries.axisY.convertValueToPixel(a[0].dataPoint.y)))+this.container.clientHeight+5&&(a-=a+this.container.clientHeight+5-0),this.fixMozTransitionDelay(d,a),!this.animationEnabled||c?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=d+"px",this.container.style.bottom=a+"px",!0},c.prototype.fixMozTransitionDelay=function(c,d){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var a=parseFloat(this.container.style.left),b=(a=isNaN(a)?0:a,parseFloat(this.container.style.bottom));10<Math.sqrt(Math.pow(a-c,2)+Math.pow((b=isNaN(b)?0:b)-d,2))?this.mozContainerTransition=this.getContainerTransition(.1):this.mozContainerTransition=this.getContainerTransition(0)}},c.prototype.getContainerTransition=function(a){return"left "+a+"s ease-out 0s, bottom "+a+"s ease-out 0s"},h.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],f&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},h.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},h.prototype.mouseEventHandler=function(e){if("mousemove"===e.type||"click"===e.type){var d=[],b=ao(e),a=null;if((a=this.chart.getObjectAtXY(b.x,b.y,!1))&& void 0!==this.objectMap[a]){if("dataPoint"===(a=this.objectMap[a]).objectType){var c=this.chart.data[a.dataSeriesIndex],f=c.dataPoints[a.dataPointIndex],g=a.dataPointIndex;a.eventParameter={x:b.x,y:b.y,dataPoint:f,dataSeries:c.options,dataPointIndex:g,dataSeriesIndex:c.index,chart:this.chart},a.eventContext={context:f,userContext:f,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},d.push(a),(a=this.objectMap[c.id]).eventParameter={x:b.x,y:b.y,dataPoint:f,dataSeries:c.options,dataPointIndex:g,dataSeriesIndex:c.index,chart:this.chart},a.eventContext={context:c,userContext:c.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},d.push(this.objectMap[c.id])}else"legendItem"===a.objectType&&(c=this.chart.data[a.dataSeriesIndex],f=null!==a.dataPointIndex?c.dataPoints[a.dataPointIndex]:null,a.eventParameter={x:b.x,y:b.y,dataSeries:c.options,dataPoint:f,dataPointIndex:a.dataPointIndex,dataSeriesIndex:a.dataSeriesIndex,chart:this.chart},a.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},d.push(a))}for(c=[],b=0;b<this.mouseoveredObjectMaps.length;b++){for(f=!0,a=0;a<d.length;a++)if(d[a].id===this.mouseoveredObjectMaps[b].id){f=!1;break}f?this.fireEvent(this.mouseoveredObjectMaps[b],"mouseout",e):c.push(this.mouseoveredObjectMaps[b])}for(this.mouseoveredObjectMaps=c,b=0;b<d.length;b++){for(c=!1,a=0;a<this.mouseoveredObjectMaps.length;a++)if(d[b].id===this.mouseoveredObjectMaps[a].id){c=!0;break}c||(this.fireEvent(d[b],"mouseover",e),this.mouseoveredObjectMaps.push(d[b])),"click"===e.type?this.fireEvent(d[b],"click",e):"mousemove"===e.type&&this.fireEvent(d[b],"mousemove",e)}}},h.prototype.fireEvent=function(a,c,d){if(a&&c){var e=a.eventParameter,f=a.eventContext,b=a.eventContext.userContext;b&&f&&b[f[c]]&&b[f[c]].call(b,e),"mouseout"!==c?b.cursor&&b.cursor!==d.target.style.cursor&&(d.target.style.cursor=b.cursor):(d.target.style.cursor=this.chart._defaultCursor,delete a.eventParameter,delete a.eventContext),"click"===c&&"dataPoint"===a.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[a.dataSeriesIndex],e),"click"===c&&"dataPoint"===a.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[a.dataSeriesIndex],e)}},q.prototype.animate=function(d,b,c,a,e){var f=this;for(this.chart.isAnimating=!0,e=e||A.easing.linear,c&&this.animations.push({startTime:new Date().getTime()+(d||0),duration:b,animationCallback:c,onComplete:a}),d=[];0<this.animations.length;)b=this.animations.shift(),c=new Date().getTime(),a=0,b.startTime<=c&&(a=e(Math.min(c-b.startTime,b.duration),0,1,b.duration),a=Math.min(a,1),isNaN(a)||!isFinite(a))&&(a=1),1>a&&d.push(b),b.animationCallback(a),1<=a&&b.onComplete&&b.onComplete();this.animations=d,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){f.animate.call(f)}):this.chart.isAnimating=!1},q.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var A={yScaleAnimation:function(a,b){if(0!==a){var c=b.dest,d=b.source.canvas,e=b.animationBase;c.drawImage(d,0,0,d.width,d.height,0,e-e*a,c.canvas.width/ap,a*c.canvas.height/ap)}},xScaleAnimation:function(a,b){if(0!==a){var c=b.dest,d=b.source.canvas,e=b.animationBase;c.drawImage(d,0,0,d.width,d.height,e-e*a,0,a*c.canvas.width/ap,c.canvas.height/ap)}},xClipAnimation:function(b,d){if(0!==b){var c=d.dest,a=d.source.canvas;c.save(),0<b&&c.drawImage(a,0,0,a.width*b,a.height,0,0,a.width*b/ap,a.height/ap),c.restore()}},fadeInAnimation:function(c,d){if(0!==c){var a=d.dest,b=d.source.canvas;a.save(),a.globalAlpha=c,a.drawImage(b,0,0,b.width,b.height,0,0,a.canvas.width/ap,a.canvas.height/ap),a.restore()}},easing:{linear:function(a,b,c,d){return c*a/d+b},easeOutQuad:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},easeOutQuart:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},easeInQuad:function(a,b,c,d){return c*(a/=d)*a+b},easeInQuart:function(a,b,c,d){return c*(a/=d)*a*a*a+b}}},$={drawMarker:function(c,d,a,h,b,f,i,g){if(a){var e=1;a.fillStyle=f||"#000000",a.strokeStyle=i||"#000000",a.lineWidth=g||0,a.setLineDash&&a.setLineDash(P("solid",g)),"circle"===h?(a.moveTo(c,d),a.beginPath(),a.arc(c,d,b/2,0,2*Math.PI,!1),f&&a.fill(),g&&(i?a.stroke():(e=a.globalAlpha,a.globalAlpha=.15,a.strokeStyle="black",a.stroke(),a.globalAlpha=e))):"square"===h?(a.beginPath(),a.rect(c-b/2,d-b/2,b,b),f&&a.fill(),g&&(i?a.stroke():(e=a.globalAlpha,a.globalAlpha=.15,a.strokeStyle="black",a.stroke(),a.globalAlpha=e))):"triangle"===h?(a.beginPath(),a.moveTo(c-b/2,d+b/2),a.lineTo(c+b/2,d+b/2),a.lineTo(c,d-b/2),a.closePath(),f&&a.fill(),g&&(i?a.stroke():(e=a.globalAlpha,a.globalAlpha=.15,a.strokeStyle="black",a.stroke(),a.globalAlpha=e)),a.beginPath()):"cross"===h&&(a.strokeStyle=f,a.lineWidth=b/4,a.beginPath(),a.moveTo(c-b/2,d-b/2),a.lineTo(c+b/2,d+b/2),a.stroke(),a.moveTo(c+b/2,d-b/2),a.lineTo(c-b/2,d+b/2),a.stroke())}},drawMarkers:function(c){for(var b=0;b<c.length;b++){var a=c[b];$.drawMarker(a.x,a.y,a.ctx,a.type,a.size,a.color,a.borderColor,a.borderThickness)}}};return a}()).version="v3.6.5 GA",window.CanvasJS&&a&&!window.CanvasJS.Chart&&(window.CanvasJS.Chart=a)}(),document.createElement("canvas").getContext||function(){function l(){return this.context_||(this.context_=new d(this))}function m(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function h(a){a.namespaces.g_vml_||a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),a.namespaces.g_o_||a.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),a.styleSheets.ex_canvas_||((a=a.createStyleSheet()).owningElement.id="ex_canvas_",a.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function n(b){var a=b.srcElement;switch(b.propertyName){case"width":a.getContext().clearRect(),a.style.width=a.attributes.width.nodeValue+"px",a.firstChild.style.width=a.clientWidth+"px";break;case"height":a.getContext().clearRect(),a.style.height=a.attributes.height.nodeValue+"px",a.firstChild.style.height=a.clientHeight+"px"}}function o(a){(a=a.srcElement).firstChild&&(a.firstChild.style.width=a.clientWidth+"px",a.firstChild.style.height=a.clientHeight+"px")}function p(f,g){for(var d=[[1,0,0],[0,1,0],[0,0,1],],a=0;3>a;a++)for(var b=0;3>b;b++){for(var e=0,c=0;3>c;c++)e+=f[a][c]*g[c][b];d[a][b]=e}return d}function q(a,b){b.fillStyle=a.fillStyle,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.lineWidth=a.lineWidth,b.miterLimit=a.miterLimit,b.shadowBlur=a.shadowBlur,b.shadowColor=a.shadowColor,b.shadowOffsetX=a.shadowOffsetX,b.shadowOffsetY=a.shadowOffsetY,b.strokeStyle=a.strokeStyle,b.globalAlpha=a.globalAlpha,b.font=a.font,b.textAlign=a.textAlign,b.textBaseline=a.textBaseline,b.arcScaleX_=a.arcScaleX_,b.arcScaleY_=a.arcScaleY_,b.lineScale_=a.lineScale_}function r(b){var a=b.indexOf("(",3),c=b.indexOf(")",a+1);return 4==(a=b.substring(a+1,c).split(",")).length&&"a"==b.charAt(3)||(a[3]=1),a}function s(a,b,c){return Math.min(c,Math.max(b,a))}function t(b,c,a){return 0>a&&a++,1<a&&a--,1>6*a?b+6*(c-b)*a:1>2*a?c:2>3*a?b+6*(c-b)*(2/3-a):b}function u(c){if(c in H)return H[c];var b,d=1;if("#"==(c=String(c)).charAt(0))b=c;else if(/^rgb/.test(c)){d=r(c),b="#";for(var e,a=0;3>a;a++)e=-1!=d[a].indexOf("%")?Math.floor(parseFloat(d[a])/100*255):+d[a],b+=k[s(e,0,255)];d=+d[3]}else if(/^hsl/.test(c)){if(0>(b=parseFloat((a=d=r(c))[0])/360%360)&&b++,e=s(parseFloat(a[1])/100,0,1),a=s(parseFloat(a[2])/100,0,1),0==e)e=a=b=a;else{var f=.5>a?a*(1+e):a+e-a*e,g=2*a-f;e=t(g,f,b+1/3),a=t(g,f,b),b=t(g,f,b-1/3)}b="#"+k[Math.floor(255*e)]+k[Math.floor(255*a)]+k[Math.floor(255*b)],d=d[3]}else b=G[c]||c;return H[c]={color:b,alpha:d}}function d(a){this.m_=[[1,0,0],[0,1,0],[0,0,1],],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*j,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=a;var b="width:"+a.clientWidth+"px;height:"+a.clientHeight+"px;overflow:hidden;position:absolute",c=a.ownerDocument.createElement("div");c.style.cssText=b,a.appendChild(c),(b=c.cloneNode(!1)).style.backgroundColor="red",b.style.filter="alpha(opacity=0)",a.appendChild(b),this.element_=c,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function v(b,c,d,a){b.currentPath_.push({type:"bezierCurveTo",cp1x:c.x,cp1y:c.y,cp2x:d.x,cp2y:d.y,x:a.x,y:a.y}),b.currentX_=a.x,b.currentY_=a.y}function w(a,d){var e=(b=u(a.strokeStyle)).color,b=b.alpha*a.globalAlpha,c=a.lineScale_*a.lineWidth;1>c&&(b*=c),d.push("<g_vml_:stroke",' opacity="',b,'"',' joinstyle="',a.lineJoin,'"',' miterlimit="',a.miterLimit,'"',' endcap="',J[a.lineCap]||"square",'"',' weight="',c,'px"',' color="',e,'" />')}function x(c,p,f,n){var a=c.fillStyle,d=c.arcScaleX_,g=c.arcScaleY_,l=n.x-f.x,k=n.y-f.y;if(a instanceof e){var h=0,s=n=0,q=0,o=1;if("gradient"==a.type_){h=a.x1_/d,f=a.y1_/g;var m=y(c,a.x0_/d,a.y0_/g);0>(h=180*Math.atan2((h=y(c,h,f)).x-m.x,h.y-m.y)/Math.PI)&&(h+=360),1e-6>h&&(h=0)}else n=((m=y(c,a.x0_,a.y0_)).x-f.x)/l,s=(m.y-f.y)/k,l/=d*j,k/=g*j,o=b.max(l,k),q=2*a.r0_/o,o=2*a.r1_/o-q;(d=a.colors_).sort(function(a,b){return a.offset-b.offset}),g=d.length,m=d[0].color,f=d[g-1].color,l=d[0].alpha*c.globalAlpha,c=d[g-1].alpha*c.globalAlpha,k=[];for(var r=0;r<g;r++){var t=d[r];k.push(t.offset*o+q+" "+t.color)}p.push('<g_vml_:fill type="',a.type_,'"',' method="none" focus="100%"',' color="',m,'"',' color2="',f,'"',' colors="',k.join(","),'"',' opacity="',c,'"',' g_o_:opacity2="',l,'"',' angle="',h,'"',' focusposition="',n,",",s,'" />')}else a instanceof i?l&&k&&p.push("<g_vml_:fill",' position="',-f.x/l*d*d,",",-f.y/k*g*g,'"',' type="tile"',' src="',a.src_,'" />'):(a=u(c.fillStyle),p.push('<g_vml_:fill color="',a.color,'" opacity="',a.alpha*c.globalAlpha,'" />'))}function y(a,b,c){return{x:j*(b*(a=a.m_)[0][0]+c*a[1][0]+a[2][0])-F,y:j*(b*a[0][1]+c*a[1][1]+a[2][1])-F}}function z(b,a,c){isFinite(a[0][0])&&isFinite(a[0][1])&&isFinite(a[1][0])&&isFinite(a[1][1])&&isFinite(a[2][0])&&isFinite(a[2][1])&&(b.m_=a,c&&(b.lineScale_=E(D(a[0][0]*a[1][1]-a[0][1]*a[1][0]))))}function e(a){this.type_=a,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function i(a,b){if(!a||1!=a.nodeType||"IMG"!=a.tagName)throw new f("TYPE_MISMATCH_ERR");if("complete"!=a.readyState)throw new f("INVALID_STATE_ERR");switch(b){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=b;break;default:throw new f("SYNTAX_ERR")}this.src_=a.src,this.width_=a.width,this.height_=a.height}function f(a){this.code=this[a],this.message=a+": DOM Exception "+this.code}var b=Math,A=b.round,B=b.sin,C=b.cos,D=b.abs,E=b.sqrt,j=10,F=j/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var _=Array.prototype.slice;h(document);var g={init:function(a){(a=a||document).createElement("canvas"),a.attachEvent("onreadystatechange",function(a,b,c){var d=_.call(arguments,2);return function(){return a.apply(b,d.concat(_.call(arguments)))}}(this.init_,this,a))},init_:function(a){a=a.getElementsByTagName("canvas");for(var b=0;b<a.length;b++)this.initElement(a[b])},initElement:function(a){if(!a.getContext){a.getContext=l,h(a.ownerDocument),a.innerHTML="",a.attachEvent("onpropertychange",n),a.attachEvent("onresize",o);var b=a.attributes;b.width&&b.width.specified?a.style.width=b.width.nodeValue+"px":a.width=a.clientWidth,b.height&&b.height.specified?a.style.height=b.height.nodeValue+"px":a.height=a.clientHeight}return a}};g.init();for(var k=[],a=0;16>a;a++)for(var c=0;16>c;c++)k[16*a+c]=a.toString(16)+c.toString(16);var G={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},H={},I={},J={butt:"flat",round:"round"};(a=d.prototype).clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},a.beginPath=function(){this.currentPath_=[]},a.moveTo=function(b,c){var a=y(this,b,c);this.currentPath_.push({type:"moveTo",x:a.x,y:a.y}),this.currentX_=a.x,this.currentY_=a.y},a.lineTo=function(b,c){var a=y(this,b,c);this.currentPath_.push({type:"lineTo",x:a.x,y:a.y}),this.currentX_=a.x,this.currentY_=a.y},a.bezierCurveTo=function(b,d,c,e,a,f){a=y(this,a,f),v(this,b=y(this,b,d),c=y(this,c,e),a)},a.quadraticCurveTo=function(b,d,a,c){b=y(this,b,d),a=y(this,a,c),v(this,c={x:this.currentX_+2/3*(b.x-this.currentX_),y:this.currentY_+2/3*(b.y-this.currentY_)},{x:c.x+(a.x-this.currentX_)/3,y:c.y+(a.y-this.currentY_)/3},a)},a.arc=function(b,f,c,a,e,g){c*=j;var d=b+C(a)*c-F,h=f+B(a)*c-F;a=b+C(e)*c-F,e=f+B(e)*c-F,d!=a||g||(d+=.125),b=y(this,b,f),d=y(this,d,h),a=y(this,a,e),this.currentPath_.push({type:g?"at":"wa",x:b.x,y:b.y,radius:c,xStart:d.x,yStart:d.y,xEnd:a.x,yEnd:a.y})},a.rect=function(a,b,c,d){this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath()},a.strokeRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath(),this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath(),this.stroke(),this.currentPath_=e},a.fillRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath(),this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath(),this.fill(),this.currentPath_=e},a.createLinearGradient=function(b,c,d,f){var a=new e("gradient");return a.x0_=b,a.y0_=c,a.x1_=d,a.y1_=f,a},a.createRadialGradient=function(b,c,d,f,g,h){var a=new e("gradientradial");return a.x0_=b,a.y0_=c,a.r0_=d,a.x1_=f,a.y1_=g,a.r1_=h,a},a.drawImage=function(d,s){f=d.runtimeStyle.width,g=d.runtimeStyle.height,d.runtimeStyle.width="auto",d.runtimeStyle.height="auto";var a,e,f,g,h,i,n,o,k=d.width,l=d.height;if(d.runtimeStyle.width=f,d.runtimeStyle.height=g,3==arguments.length)a=arguments[1],e=arguments[2],h=i=0,n=f=k,o=g=l;else if(5==arguments.length)a=arguments[1],e=arguments[2],f=arguments[3],g=arguments[4],h=i=0,n=k,o=l;else{if(9!=arguments.length)throw Error("Invalid number of arguments");h=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],a=arguments[5],e=arguments[6],f=arguments[7],g=arguments[8]}var c=y(this,a,e),m=[];if(m.push(" <g_vml_:group",' coordsize="',10*j,",",10*j,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var p=[];p.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",A(c.x/j),",","Dy=",A(c.y/j),"");var q=y(this,a+f,e),r=y(this,a,e+g);a=y(this,a+f,e+g),c.x=b.max(c.x,q.x,r.x,a.x),c.y=b.max(c.y,q.y,r.y,a.y),m.push("padding:0 ",A(c.x/j),"px ",A(c.y/j),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",p.join(""),", sizingmethod='clip');")}else m.push("top:",A(c.y/j),"px;left:",A(c.x/j),"px;");m.push(' ">','<g_vml_:image src="',d.src,'"',' style="width:',j*f,"px;"," height:",j*g,'px"',' cropleft="',h/k,'"',' croptop="',i/l,'"',' cropright="',(k-h-n)/k,'"',' cropbottom="',(l-i-o)/l,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",m.join(""))},a.stroke=function(e){var b=[];b.push("<g_vml_:shape",' filled="',!!e,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*j,",",10*j,'"',' stroked="',!e,'"',' path="');for(var c={x:null,y:null},d={x:null,y:null},f=0;f<this.currentPath_.length;f++){var a=this.currentPath_[f];switch(a.type){case"moveTo":b.push(" m ",A(a.x),",",A(a.y));break;case"lineTo":b.push(" l ",A(a.x),",",A(a.y));break;case"close":b.push(" x "),a=null;break;case"bezierCurveTo":b.push(" c ",A(a.cp1x),",",A(a.cp1y),",",A(a.cp2x),",",A(a.cp2y),",",A(a.x),",",A(a.y));break;case"at":case"wa":b.push(" ",a.type," ",A(a.x-this.arcScaleX_*a.radius),",",A(a.y-this.arcScaleY_*a.radius)," ",A(a.x+this.arcScaleX_*a.radius),",",A(a.y+this.arcScaleY_*a.radius)," ",A(a.xStart),",",A(a.yStart)," ",A(a.xEnd),",",A(a.yEnd))}a&&((null==c.x||a.x<c.x)&&(c.x=a.x),(null==d.x||a.x>d.x)&&(d.x=a.x),(null==c.y||a.y<c.y)&&(c.y=a.y),(null==d.y||a.y>d.y)&&(d.y=a.y))}b.push(' ">'),e?x(this,b,c,d):w(this,b),b.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",b.join(""))},a.fill=function(){this.stroke(!0)},a.closePath=function(){this.currentPath_.push({type:"close"})},a.save=function(){var a={};q(this,a),this.aStack_.push(a),this.mStack_.push(this.m_),this.m_=p([[1,0,0],[0,1,0],[0,0,1],],this.m_)},a.restore=function(){this.aStack_.length&&(q(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},a.translate=function(a,b){z(this,p([[1,0,0],[0,1,0],[a,b,1],],this.m_),!1)},a.rotate=function(a){var b=C(a);z(this,p([[b,a=B(a),0],[-a,b,0],[0,0,1],],this.m_),!1)},a.scale=function(a,b){this.arcScaleX_*=a,this.arcScaleY_*=b,z(this,p([[a,0,0],[0,b,0],[0,0,1],],this.m_),!0)},a.transform=function(a,b,c,d,e,f){z(this,p([[a,b,0],[c,d,0],[e,f,1],],this.m_),!0)},a.setTransform=function(a,b,c,d,e,f){z(this,[[a,b,0],[c,d,0],[e,f,1],],!0)},a.drawText_=function(n,e,o,f,g){var i=this.m_;f=0;var a,k=1e3,l=0,h=[];if(I[a=this.font])a=I[a];else{var b=document.createElement("div").style;try{b.font=a}catch(p){}a=I[a]={style:b.fontStyle||"normal",variant:b.fontVariant||"normal",weight:b.fontWeight||"normal",size:b.fontSize||10,family:b.fontFamily||"sans-serif"}}b=a;var c=this.element_;for(var d in a={},b)a[d]=b[d];switch(d=parseFloat(c.currentStyle.fontSize),c=parseFloat(b.size),"number"==typeof b.size?a.size=b.size:-1!=b.size.indexOf("px")?a.size=c:-1!=b.size.indexOf("em")?a.size=d*c:-1!=b.size.indexOf("%")?a.size=d/100*c:-1!=b.size.indexOf("pt")?a.size=c/.75:a.size=d,a.size*=.981,d=a.style+" "+a.variant+" "+a.weight+" "+a.size+"px "+a.family,c=this.element_.currentStyle,b=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":b="ltr"==c.direction?"right":"left";break;case"start":b="rtl"==c.direction?"right":"left";break;default:b="left"}switch(this.textBaseline){case"hanging":case"top":l=a.size/1.75;break;case"middle":break;default:l=-a.size/2.25}switch(b){case"right":f=1e3,k=.05;break;case"center":f=k=500}e=y(this,e+0,o+l),h.push('<g_vml_:line from="',-f,' 0" to="',k,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!g,'" stroked="',!!g,'" style="position:absolute;width:1px;height:1px;">'),g?w(this,h):x(this,h,{x:-f,y:0},{x:k,y:a.size}),g=i[0][0].toFixed(3)+","+i[1][0].toFixed(3)+","+i[0][1].toFixed(3)+","+i[1][1].toFixed(3)+",0,0",e=A(e.x/j)+","+A(e.y/j),h.push('<g_vml_:skew on="t" matrix="',g,'" ',' offset="',e,'" origin="',f,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',m(n),'" style="v-text-align:',b,";font:",m(d),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",h.join(""))},a.fillText=function(a,b,c,d){this.drawText_(a,b,c,d,!1)},a.strokeText=function(a,b,c,d){this.drawText_(a,b,c,d,!0)},a.measureText=function(a){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var b=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(b.createTextNode(a)),{width:this.textMeasureEl_.offsetWidth}},a.clip=function(){},a.arcTo=function(){},a.createPattern=function(a,b){return new i(a,b)},e.prototype.addColorStop=function(b,a){a=u(a),this.colors_.push({offset:b,color:a.color,alpha:a.alpha})},(a=f.prototype=Error()).INDEX_SIZE_ERR=1,a.DOMSTRING_SIZE_ERR=2,a.HIERARCHY_REQUEST_ERR=3,a.WRONG_DOCUMENT_ERR=4,a.INVALID_CHARACTER_ERR=5,a.NO_DATA_ALLOWED_ERR=6,a.NO_MODIFICATION_ALLOWED_ERR=7,a.NOT_FOUND_ERR=8,a.NOT_SUPPORTED_ERR=9,a.INUSE_ATTRIBUTE_ERR=10,a.INVALID_STATE_ERR=11,a.SYNTAX_ERR=12,a.INVALID_MODIFICATION_ERR=13,a.NAMESPACE_ERR=14,a.INVALID_ACCESS_ERR=15,a.VALIDATION_ERR=16,a.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=g,CanvasRenderingContext2D=d,CanvasGradient=e,CanvasPattern=i,DOMException=f}()